/* This file was generated by the Hex-Rays decompiler version 9.2.0.250908.
   Copyright (c) 2007-2021 Hex-Rays <info@hex-rays.com>

   Detected compiler: Borland C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

LPVOID sub_4010C0();
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
void sub_401270();
_DWORD *__cdecl sub_4012AC(_DWORD *a1, int a2, int a3);
int __cdecl sub_4012EA(int a1, int a2);
int __cdecl sub_4012FC(int a1, int a2, int a3, int a4, int a5);
_DWORD *__cdecl sub_401358(_DWORD **a1, LPCSTR lpName);
int __cdecl sub_401535(int a1, __int16 a2);
void __cdecl sub_4016BC(void *a1, char a2);
LPCSTR __cdecl sub_4016ED(LPCSTR *a1, __int16 a2);
int __cdecl sub_4017CA(int a1);
bool __cdecl sub_401826(__int16 a1);
int sub_401853();
void sub_4018A3();
LANGID sub_401A0C();
LANGID sub_401A12();
int __cdecl sub_401A18(LPCSTR lpString1, LPCSTR lpString2, unsigned __int16 a3);
LANGID sub_401A80();
void __cdecl sub_401AB9(void **a1, char a2);
_DWORD *__cdecl sub_401AE9(_DWORD *a1, int a2);
LPCSTR __cdecl sub_401B09(LPCSTR **a1, LPCSTR lpString2, __int16 a3);
HKEY *sub_401D00();
HKEY *sub_401D06();
PHKEY __cdecl sub_401F16(PHKEY phkResult, HKEY hKey, char *a3, REGSAM samDesired, int a5);
PHKEY __cdecl sub_401FC8(PHKEY phkResult, int a2, REGSAM samDesired);
int __cdecl sub_40206C(int a1, int a2, char a3, char *a4); // idb
void __cdecl sub_402126(void *a1, char a2);
LONG __cdecl sub_40215C(HKEY *a1, LPSTR lpClass, LPDWORD lpcbClass, LPDWORD lpcSubKeys, LPDWORD lpcbMaxSubKeyLen, LPDWORD lpcbMaxClassLen, LPDWORD lpcValues, LPDWORD lpcbMaxValueNameLen, LPDWORD lpcbMaxValueLen, LPDWORD lpcbSecurityDescriptor, PFILETIME lpftLastWriteTime);
LONG __cdecl sub_40222E(HKEY *a1, char *lpSubKey);
void __cdecl sub_402461(void **a1, char a2);
int __cdecl sub_402541(int a1, const char *a2);
_DWORD *__cdecl sub_40263C(_DWORD *a1, int a2, int a3);
void __cdecl sub_4026A4(void **a1, char a2);
_BYTE *__cdecl sub_4026C8(int a1, _BYTE *a2);
_BYTE *__cdecl sub_4026E9(int a1, _BYTE *a2);
_DWORD *__cdecl sub_402709(_DWORD *a1, int a2);
void __cdecl sub_40276E(void **a1, char a2);
int __cdecl sub_402792(_DWORD *a1);
int __cdecl sub_4027B3(_DWORD *a1, LPCSTR lpString2);
PHKEY sub_402F38();
void sub_402F9A();
TXBase *__cdecl sub_403100(TXBase *a1, TXBase *a2);
void __cdecl sub_4032B9(TXBase *a1, char a2);
void __cdecl sub_403348(void **a1, char a2);
// _DWORD __cdecl __InitExceptBlockLDTC();
// _DWORD __cdecl _vector_delete_ldtc_(void *, unsigned int, unsigned int, unsigned int, void *); idb
// _DWORD __cdecl _vector_new_ldtc_(void *, unsigned int, unsigned int, unsigned int, void *, unsigned int, void *); idb
int sub_4039B0();
size_t __cdecl sub_4039B8(int a1, char *s);
const char *__cdecl sub_403A1B(int a1, unsigned int a2);
int __cdecl sub_403A55(int a1, LPCSTR lpString2, char a3); // idb
xmsg *__cdecl sub_403BE0(xmsg *a1, const xmsg *a2);
void __cdecl sub_403CAD(xmsg *a1, char a2);
void __cdecl sub_403D4B(xmsg *a1, char a2);
bool __cdecl sub_403EEE(HWND hwnd, LPCSTR lpFile);
int __cdecl sub_403FCB(char *a1, char *a2, int a3, char *a4); // idb
string *__cdecl sub_40402F(string *a1, string *a2, int a3);
string *__cdecl sub_40411C(string *a1, int a2, LPCSTR lpPathName);
string *__cdecl sub_404212(string *a1, string *a2, string *a3);
bool __cdecl sub_40453C(int a1);
string *__cdecl sub_404711(string *a1, int a2);
string *__cdecl sub_4047A7(string *a1, int a2);
string *__cdecl sub_4048F9(string *a1, int a2);
string *__cdecl sub_404ACF(string *a1, int a2, int a3);
const char *__cdecl sub_404B95(const char **a1);
string *__cdecl sub_404C08(string *a1);
void __cdecl sub_404CA2(unsigned int a1, string *a2);
void __cdecl sub_404E29(LPCSTR lpText);
void __cdecl sub_404EC6(int a1);
void __cdecl sub_404ED9(unsigned int a1);
void __cdecl sub_404F44(char *format, void *arglist);
void sub_404F9C(unsigned int a1, ...);
void __cdecl sub_405010(DWORD dwMilliseconds);
void __cdecl sub_40501D(int *a1, double a2, _DWORD *a3);
void __cdecl sub_405065(TRect *a1, double a2, _DWORD *a3);
int __cdecl sub_4050D1(int *a1, double a2, _DWORD *a3);
int __cdecl sub_405119(TRect *a1, double a2, int *a3);
void __cdecl sub_4051E0(int a1, int a2);
string *__cdecl sub_40527D(string *a1, int a2);
void __cdecl sub_4052EB(int a1, int a2);
void __cdecl sub_405354(int a1, int a2);
int __cdecl sub_4053B3(int a1, void (__cdecl ***a2)(_DWORD, int));
int __cdecl sub_4053CB(int a1, int a2);
int __cdecl sub_405557(int a1, unsigned int a2, string *a3); // idb
int __cdecl sub_4056A0(int a1);
int __cdecl sub_4056BB(int a1, int a2);
// _DWORD __cdecl unknown_libname_4(_DWORD, _DWORD, _DWORD); weak
// _DWORD __cdecl sub_40573D(_DWORD); weak
_DWORD *__cdecl sub_4057A9(_DWORD *a1, _DWORD *a2);
int __cdecl sub_4057E2(int a1, char *a2); // idb
int __cdecl sub_4058E5(int a1, int a2);
int __cdecl sub_405922(int a1, int a2);
int __cdecl sub_40596C(int a1, int a2);
void __cdecl sub_405A63(char *a1, char a2);
int *__cdecl sub_405B50(int *a1, int *a2);
int __cdecl sub_405E1C(int *a1, string *a2, int *a3);
int __cdecl sub_405FE2(int *a1, char *a2);
_DWORD *__cdecl sub_406113(int *a1, int a2);
void __cdecl sub_406345(_DWORD *a1, ipstream *a2);
unsigned int __cdecl sub_40650B(int a1, opstream *a2);
unsigned int __cdecl sub_4066A1(_DWORD *a1, ipstream *a2, int a3);
_DWORD *__cdecl sub_4067CD(_DWORD *a1);
xmsg *__cdecl sub_40690F(xmsg *a1, const xmsg *a2);
int __cdecl sub_406954(int a1, unsigned int a2, int a3);
int __cdecl sub_406A49(int a1, int a2);
int __cdecl sub_406B5F(int (__cdecl ***a1)(_DWORD, int));
int __cdecl sub_406BA2(int a1, int a2, unsigned int a3, unsigned int a4);
int __cdecl sub_406BF6(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5);
unsigned int __cdecl sub_406C2B(int a1, unsigned int a2, unsigned int a3);
void __cdecl sub_406C67(xmsg *a1, char a2);
void __cdecl sub_406D2D(_DWORD *a1, char a2);
int __cdecl sub_406DE5(int a1);
int __cdecl sub_406DF0(int a1);
int __cdecl sub_406EF7(int a1);
int __cdecl sub_406F02(int a1);
int __cdecl sub_406F0D(int a1);
bool sub_406F18();
bool __cdecl sub_406FAA(int a1);
void __cdecl sub_406FC1(void *a1);
void __cdecl sub_406FCF(void *a1);
void __cdecl sub_406FDD(char *a1, char a2);
void __cdecl sub_407034(char *a1, char a2);
void __cdecl sub_4070EB(char *a1, char a2);
void __cdecl sub_40713C(char *a1, char a2);
void __cdecl sub_407257(char *a1, char a2);
void __cdecl sub_407392(char *a1, char a2);
void __cdecl sub_407558(char *a1, char a2);
char *__cdecl sub_4075B8(char *dest, int a2);
char *__cdecl sub_40768D(int a1);
void __cdecl sub_407C8B(void **a1);
int __cdecl sub_407CC0(string *a1); // idb
_BYTE *__cdecl sub_407ED3(_BYTE *a1, _DWORD *a2);
int __cdecl sub_407FE5(string *a1, int a2); // idb
string *__cdecl sub_40804E(string *a1, string *a2, string *a3);
string *__cdecl sub_40834C(string *a1, int a2);
_DWORD *__cdecl sub_4083A1(_DWORD *a1, int a2);
string *__cdecl sub_408517(string *a1, _DWORD *a2);
_DWORD *__cdecl sub_40857E(_DWORD *a1, int a2);
string *__cdecl sub_4086E6(string *a1, int a2);
string *__cdecl sub_40874A(string *a1, int a2);
string *__cdecl sub_40879F(string *a1, int a2);
_DWORD *__cdecl sub_408810(_DWORD *a1, int a2);
string *__cdecl sub_408972(string *a1, int a2);
_DWORD *__cdecl sub_4089D6(_DWORD *a1, int a2);
string *__cdecl sub_408B45(string *a1, int a2);
_DWORD *__cdecl sub_408BA9(_DWORD *a1, int a2);
string *__cdecl sub_408D22(string *a1, int a2);
_DWORD *__cdecl sub_408E8E(_DWORD *a1, int a2);
string *__cdecl sub_40912A(string *a1, _DWORD *a2);
_DWORD *__cdecl sub_40919A(_DWORD *a1, int a2);
string *__cdecl sub_4094E6(string *a1, _DWORD *a2);
_DWORD *__cdecl sub_40955C(_DWORD *a1, int a2);
string *__cdecl sub_409960(string *a1, _DWORD *a2);
_DWORD *__cdecl sub_4099DC(_DWORD *a1, int a2);
string *__cdecl sub_409E0D(string *a1, _DWORD *a2);
_DWORD *__cdecl sub_409E89(_DWORD *a1, int a2);
string *__cdecl sub_40A043(string *a1, int a2);
_DWORD *__cdecl sub_40A0AA(_DWORD *a1, int a2);
char __cdecl sub_40A1F0(int a1, int *a2, _DWORD *a3);
string *__cdecl sub_40A228(string *a1, int a2);
char __cdecl sub_40A28C(int a1, int *a2, _DWORD *a3);
char __cdecl sub_40A2C3(int a1, int *a2, _DWORD *a3);
_DWORD *__cdecl sub_40A2FE(_DWORD *a1, int a2);
char __cdecl sub_40A479(_DWORD *a1, bool *a2);
string *__cdecl sub_40A51D(string *a1, _DWORD *a2);
_DWORD *__cdecl sub_40A5CA(_DWORD *a1, string *a2);
char __cdecl sub_40A9AD(int a1, int a2);
// string *__usercall sub_40AA17@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>, string *a4, _DWORD *a5);
int __cdecl sub_40ABCE(int a1, int a2);
// string *__usercall sub_40AE3E@<eax>(int a1@<eax>, string *a2, int a3);
int __cdecl sub_40AEB4(int a1, int a2);
// string *__usercall sub_40B235@<eax>(int a1@<eax>, string *a2, int a3);
_DWORD *__cdecl sub_40B2B4(_DWORD *a1, int a2);
// string *__usercall sub_40B488@<eax>(int a1@<eax>, int a2@<ebx>, string *a3, _DWORD *a4);
_DWORD *__cdecl sub_40B4FE(_DWORD *a1, int a2, string *a3);
_DWORD *__cdecl sub_40B594(_DWORD *a1, string *a2);
void __cdecl sub_40B61D(int a1);
int __cdecl sub_40B686(int a1, int a2);
string *__cdecl sub_40B6E0(string *a1, int a2);
int __cdecl sub_40B79F(_DWORD *a1, string *a2);
bool __cdecl sub_40B97E(int a1);
// int __usercall sub_40B990@<eax>(int a1@<ebx>, int a2, HWND *a3);
void __cdecl sub_40D6F4(int a1, ipstream *a2);
_DWORD *__cdecl sub_40D8A9(_DWORD *a1, _DWORD *a2);
int __cdecl sub_40DAA9(int a1, int a2);
void __cdecl sub_40DC1E(_DWORD *a1, ipstream *a2);
void __cdecl sub_40DE32(_DWORD *a1, char *a2, char *a3, char *a4);
void __cdecl sub_40DF8B(int a1, ipstream *a2);
_DWORD *__cdecl sub_40E0E2(_DWORD *a1, _DWORD *a2);
int __cdecl sub_40E2E5(int a1, int a2, int a3);
void __cdecl sub_40E6FC(_DWORD *a1, char *a2, char *a3, char *a4);
void __cdecl sub_40E989(_DWORD *a1, ipstream *a2);
size_t sub_40EAEA();
void sub_40EB99();
_DWORD *__cdecl sub_40F3ED(_DWORD *a1);
void __cdecl sub_40F471(_DWORD *a1, char a2);
_DWORD *__cdecl sub_40F53C(_DWORD *a1);
void __cdecl sub_40F5DA(_DWORD *a1, char a2);
int __cdecl sub_40F706(int a1, int a2);
unsigned int __cdecl sub_40F74F(int a1, int a2);
int __cdecl sub_40F7B9(int a1, unsigned int a2, int a3);
int __cdecl sub_40F91A(int a1, int a2);
unsigned int __cdecl sub_40F970(int a1, int a2);
int __cdecl sub_40F9E2(int a1, unsigned int a2, int a3);
void __cdecl sub_40FB9E(void **a1, char a2);
void __cdecl sub_40FE1F(char *a1, char a2);
void __cdecl sub_40FEA0(char *a1, char a2);
void __cdecl sub_40FEF1(char *a1, char a2);
void __cdecl sub_40FF3A(char *a1, char a2);
void __cdecl sub_40FF8B(char *a1, char a2);
void __cdecl sub_40FFDC(char *a1, char a2);
void __cdecl sub_410025(char *a1, char a2);
void __cdecl sub_4100A4(char *a1, char a2);
void __cdecl sub_410105(char *a1, char a2);
void __cdecl sub_410182(char *a1, char a2);
void __cdecl sub_4101D3(char *a1, char a2);
void __cdecl sub_41022C(char *a1, char a2);
void __cdecl sub_410295(char *a1, char a2);
void __cdecl sub_410324(char *a1, char a2);
void __cdecl sub_410395(char *a1, char a2);
void __cdecl sub_4103EE(char *a1, char a2);
void __cdecl sub_41053B(char *a1, char a2);
bool __cdecl sub_410626(int a1);
int __cdecl sub_410643(int a1);
void __cdecl sub_410653(int a1, ipstream *a2);
void __cdecl sub_41065D(int a1, char a2);
bool __cdecl sub_410667(int a1);
void __cdecl sub_410671(int a1, char a2);
int __cdecl sub_41067B(int a1);
int __cdecl sub_410686(int a1);
int __cdecl sub_410791(int a1);
int __cdecl sub_41079C(int a1);
int __cdecl sub_4107A7(int a1);
bool __cdecl sub_4107B2(int a1);
void __cdecl sub_4107D6(int a1, ipstream *a2);
void __cdecl sub_4107E0(int a1, char a2);
void __cdecl sub_4107EA(char *a1, char a2);
bool __cdecl sub_4108D5(int a1);
void __cdecl sub_4108F2(int a1, ipstream *a2);
bool __cdecl sub_410906(int a1);
int __cdecl sub_41091A(int a1);
int __cdecl sub_410925(int a1);
int __cdecl sub_410A24(int a1);
int __cdecl sub_410A2F(int a1);
int __cdecl sub_410A3A(int a1);
bool __cdecl sub_410A45(int a1);
bool __cdecl sub_410AA0(int a1);
bool __cdecl sub_410AF6(int a1);
bool __cdecl sub_410B08(int a1);
bool __cdecl sub_410B1A(int a1);
string *__cdecl sub_410B31(string *a1, int a2);
void __cdecl sub_410C44(_DWORD *a1, char a2);
void __cdecl sub_410C9C(int a1, char a2);
void __cdecl sub_410CA6(int a1, ipstream *a2);
void __cdecl sub_410CB0(int a1, char a2);
bool __cdecl sub_410CBA(int a1);
bool __cdecl sub_410D26(int a1);
char sub_410D7D();
bool __cdecl sub_410D84(int a1);
string *__cdecl sub_410D9B(string *a1, int a2);
char sub_410E20();
void __cdecl sub_410E27(char *a1, char a2);
void __cdecl sub_410E9D(char *a1, char a2);
void __cdecl sub_410F0B(char *a1, char a2);
void __cdecl sub_410F81(char *a1, char a2);
void __cdecl sub_410FEF(char *a1, char a2);
void __cdecl sub_411130(char *a1, char a2);
void __cdecl sub_411195(char *a1, char a2);
void __cdecl sub_41121A(char *a1, char a2);
void __cdecl sub_411325(char *a1, char a2);
void __cdecl sub_41142C(char *a1, char a2);
void __cdecl sub_41153F(char *a1, char a2);
void __cdecl sub_411656(char *a1, char a2);
void __cdecl sub_411789(char *a1, char a2);
void __cdecl sub_4118B0(char *a1, char a2);
void __cdecl sub_4119C7(char *a1, char a2);
void __cdecl sub_411AE6(char *a1, char a2);
void __cdecl sub_411B65(char *a1, char a2);
_DWORD *__cdecl sub_411BE4(_DWORD *a1, int a2, int a3, int a4);
void __cdecl sub_411D4D(char *a1, char a2);
int __cdecl sub_411E5C(int a1);
int __cdecl sub_411E7A(int a1);
int __cdecl sub_411E9F(int a1, int a2);
int *__cdecl sub_411F15(int a1, int a2);
int *__cdecl sub_4120F3(int a1, int a2, unsigned int a3);
int *__cdecl sub_412168(_DWORD *a1);
char __cdecl sub_4121BA(int a1, int *a2, int a3, int a4, double a5);
void __cdecl sub_412324(_DWORD *a1, char *a2, int a3, char *a4);
_DWORD *__cdecl sub_41318B(_DWORD *a1, int a2, int a3);
int __cdecl sub_4132F1(_DWORD *a1, ipstream *a2, int a3);
void __cdecl sub_4134C7(char *a1, char a2);
int __cdecl sub_4135B0(_DWORD *a1);
int __cdecl sub_41372F(_DWORD *a1, _DWORD *a2);
_DWORD *__cdecl sub_413AEF(_DWORD *a1, _DWORD *a2, char a3);
int __cdecl sub_413B20(int *a1, int a2, _DWORD *a3, int a4, int a5, int *a6);
void __cdecl sub_413CE9(_DWORD *a1, char *a2, char *a3, char a4);
unsigned int __cdecl sub_413E21(_DWORD *a1, ipstream *a2, int a3);
size_t sub_413EFC();
void sub_413F4E();
_DWORD *__cdecl sub_413F85(_DWORD *a1);
int __cdecl sub_413FC9(int a1);
int __cdecl sub_41405C(int a1, int a2);
int __cdecl sub_414172(int (__cdecl ***a1)(_DWORD, int));
int __cdecl sub_4141B5(int a1, int a2, unsigned int a3, unsigned int a4);
int __cdecl sub_414209(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5);
unsigned int __cdecl sub_41423E(int a1, unsigned int a2, unsigned int a3);
bool __cdecl sub_41436E(int a1);
int __cdecl sub_414395(int a1);
unsigned int __cdecl sub_4143AA(int a1, ipstream *a2, int a3);
void __cdecl sub_4143B4(int a1, char a2);
bool __cdecl sub_4143BE(int a1);
void __cdecl sub_4143C8(int a1, char a2);
int __cdecl sub_4144BE(int a1);
int __cdecl sub_4144C9(int a1);
int __cdecl sub_4144D4(int a1);
bool __cdecl sub_4144DF(int a1);
int __cdecl sub_4144FC(int a1, int a2, int a3);
int __cdecl sub_414517(int a1, ipstream *a2, int a3);
void __cdecl sub_414521(int a1, char a2);
void __cdecl sub_41452B(char *a1, char a2);
void __cdecl sub_414582(char *a1, char a2);
void __cdecl sub_414635(char *a1, char a2);
void __cdecl sub_41474C(char *a1, char a2);
void __cdecl sub_414883(char *a1, char a2);
void __cdecl sub_414A0F(char *a1, char a2);
int __cdecl sub_414A70(_DWORD *a1);
_DWORD *__cdecl sub_414AE5(_DWORD *a1, _DWORD *a2);
void __cdecl sub_414B2A(_DWORD *a1, int a2, char *a3);
int __cdecl sub_414CA1(_DWORD *a1, int a2);
_DWORD *__cdecl sub_414D03(_DWORD *a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_414D9C(_DWORD *a1, ipstream *a2);
_DWORD *__cdecl sub_414E00(_DWORD *a1, int a2, int a3);
void __cdecl sub_41505F(_DWORD *a1, ipstream *a2);
_DWORD *__cdecl sub_415093(_DWORD *a1, int a2, int a3);
_DWORD *__cdecl sub_41526B(_DWORD *a1, int a2, int a3);
void __cdecl sub_415444(char *a1, char a2);
int __cdecl sub_415560(_DWORD *a1);
_DWORD *__cdecl sub_415661(_DWORD *a1, _DWORD *a2);
int __cdecl sub_4159C4(_DWORD *a1);
int __cdecl sub_415A4D(int a1, string *a2); // idb
void __cdecl sub_415A75(_DWORD *a1, int a2, char *a3);
_DWORD *__cdecl sub_415FAD(_DWORD *a1, ipstream *a2);
int __cdecl sub_4161FA(_DWORD *a1, ipstream *a2, int a3);
void __cdecl sub_416654(int a1);
int __cdecl sub_416734(int a1, int a2);
void __cdecl sub_416781(int a1, int a2, int a3);
void __cdecl sub_41684E(char *a1, char a2);
int __cdecl sub_4169C5(int a1);
int __cdecl sub_416FCD(int a1);
int __cdecl sub_417031(_DWORD *a1, char *a2, int a3, TGauge *a4);
int __cdecl sub_41721D(_DWORD *a1, const char *arglist, int a3, TGauge *a4);
int __cdecl sub_4177EF(_DWORD *a1, int a2, int a3, TGauge *a4);
_DWORD *__cdecl sub_417940(_DWORD *a1);
void __cdecl sub_417A6B(char *a1, char a2);
int __cdecl sub_417EE6(int a1);
int __cdecl sub_417EF1(int a1);
void __cdecl sub_417F08(char *a1, char a2);
void __cdecl sub_417F98(int a1, char a2);
void __cdecl sub_417FA2(char *a1, char a2);
void __cdecl sub_41800B(int a1, char a2);
void __cdecl sub_418015(int a1, char a2);
void __cdecl sub_41801F(int a1, char a2);
bool __cdecl sub_418029(int a1);
bool __cdecl sub_418046(int a1);
int __cdecl sub_41806B(int a1, ipstream *a2, int a3);
bool __cdecl sub_41807F(int a1);
void __cdecl sub_4180EB(char *a1, char a2);
bool __cdecl sub_4181D1(int a1);
void __cdecl sub_4181F9(int a1, ipstream *a2);
bool __cdecl sub_41820D(int a1);
void __cdecl sub_418221(void *a1, char a2);
bool __cdecl sub_418263(int *a1);
int __cdecl sub_418298(int a1, ipstream *a2);
void __cdecl sub_4182A2(int a1, char a2);
void __cdecl sub_4182AC(char *a1, char a2);
void __cdecl sub_4182F5(char *a1, char a2);
void __cdecl sub_418322(char *a1, char a2);
void __cdecl sub_418541(char *a1, char a2);
void __cdecl sub_41860C(void *a1, char a2);
void __cdecl sub_41864A(char *a1, char a2);
void __cdecl sub_418761(char *a1, char a2);
void __cdecl sub_418894(char *a1, char a2);
void __cdecl sub_41896F(char *a1, char a2);
void __cdecl sub_418A42(char *a1, char a2);
void __cdecl sub_418BC6(char *a1, char a2);
void __cdecl sub_418C99(char *a1, char a2);
void __cdecl sub_418CE8(char *a1, char a2);
void __cdecl sub_418DB3(char *a1, char a2);
_DWORD *__cdecl sub_418E04(_DWORD *a1, UINT a2);
void __cdecl sub_418F0F(_DWORD *a1, char a2);
_DWORD *__cdecl sub_418F46(_DWORD *a1);
int __cdecl sub_418F85(int a1, int a2);
int __cdecl sub_418FDE(_DWORD *a1, _DWORD *a2);
bool __cdecl sub_4190C1(int a1);
bool __cdecl sub_4190FF(int a1);
_DWORD *__cdecl sub_41912A(_DWORD *a1, int a2, int a3);
int __cdecl sub_41921B(int a1);
int __cdecl sub_419256(_DWORD *a1, char a2, int a3);
_DWORD *__cdecl sub_41930A(_DWORD *a1, int a2, int a3);
int __cdecl sub_419361(int a1);
__int64 __cdecl sub_419387(_DWORD *a1);
int __cdecl sub_4194E7(_DWORD *a1);
_BOOL1 __cdecl sub_4195CC(_DWORD *a1, int a2);
void __cdecl sub_419750(_DWORD *a1, TDC *a2, int *a3);
char __cdecl sub_419A6C(_DWORD *a1, int *a2);
// int __usercall sub_419C23@<eax>(int a1@<ebx>, int a2, unsigned int a3, int *a4);
int __cdecl sub_419E29(_BYTE *a1, int a2);
int __cdecl sub_419E43(_BYTE *a1, int a2);
char __cdecl sub_419E5D(_DWORD *a1);
int __cdecl sub_419F78(_DWORD *a1);
_DWORD *__cdecl sub_41A04F(_DWORD *a1, int a2, int a3);
int __cdecl sub_41A156(_DWORD *a1, _DWORD *a2);
int __cdecl sub_41A205(_DWORD *a1, int a2, int a3);
int __cdecl sub_41A221(_DWORD *a1, int *a2);
char __cdecl sub_41A28E(_DWORD *a1, int a2, int *a3);
_DWORD *sub_41A553();
void sub_41A589();
void __cdecl sub_41A872(_DWORD *a1, char a2);
int sub_41A8F9();
int __cdecl sub_41A903(int a1);
int __cdecl sub_41A91C(int a1);
void __cdecl sub_41A92B(_DWORD *a1, char a2);
int sub_41A9B2();
void __cdecl sub_41A9BC(_DWORD *a1, char a2);
void __cdecl sub_41AA1C(_DWORD *a1, char a2);
bool __cdecl sub_41AA46(int a1);
int __cdecl sub_41AADC(HWND hWnd, int a2); // idb
int sub_41ACA9();
int __cdecl sub_41AD38(int a1, int a2, string *a3); // idb
// void __cdecl std::strstreambuf::~strstreambuf(std::strstreambuf *__hidden this); idb
int __cdecl sub_41AE43(int a1, int a2);
// int __cdecl _GetExceptDLLinfoInternal_3(_DWORD); weak
bool __cdecl sub_41AEDB(int a1, UINT uMsg, DWORD dwParam1, DWORD dwParam2);
int __cdecl sub_41AF0C(_DWORD *a1);
bool __cdecl sub_41AF68(int a1, char a2, int a3, int a4);
int __cdecl sub_41AFF4(_BYTE *a1, string *a2, int a3);
int __cdecl sub_41B095(_BYTE *a1, char a2, int a3, int a4);
void __cdecl sub_41B119(int a1);
void __cdecl sub_41B1C0(_BYTE *a1);
void __cdecl sub_41B205(_BYTE *a1);
int __cdecl sub_41B24A(_BYTE *a1);
int __cdecl sub_41B30E(_BYTE *a1, string *a2, int a3);
int __cdecl sub_41B376(_DWORD *a1);
int __cdecl sub_41B38F(int a1, int a2);
bool __cdecl sub_41B496(int a1);
int __cdecl sub_41B4CD(_DWORD *a1);
int __cdecl sub_41B53C(int a1, string *a2, int a3); // idb
int __cdecl sub_41B5DF(int a1, char a2, int a3, int a4);
void __cdecl sub_41B66A(_BYTE *a1);
void __cdecl sub_41B690(_BYTE *a1);
void __cdecl sub_41B6AE(_BYTE *a1);
int __cdecl sub_41B6E8(_BYTE *a1);
int __cdecl sub_41B783(_BYTE *a1, string *a2, int a3);
int __cdecl sub_41B7D5(int a1, int a2);
int __cdecl sub_41B873(_DWORD *a1);
int __cdecl sub_41B8D0(int a1);
bool __cdecl sub_41B920(int a1, char a2, int a3, int a4);
bool __cdecl sub_41BA0F(int a1, int a2, int a3);
_DWORD *__cdecl sub_41BA57(_DWORD *a1, int a2, const char *a3, string *a4);
int __cdecl sub_41BB48(_DWORD *a1);
bool __cdecl sub_41BBD9(int a1, char a2, DWORD a3, DWORD a4);
int __cdecl sub_41BE80(int a1, int a2);
int __cdecl sub_41BE91(int a1, _DWORD *a2);
void __cdecl sub_41BEC9(int a1, char a2);
int __cdecl sub_41BF75(int a1);
char sub_41BF95();
int __cdecl sub_41BF9C(int a1, WPARAM wParam, LONG *a3);
int __cdecl sub_41C1C0(int a1, WPARAM wParam, LONG *a3);
int __cdecl sub_41C3E4(int a1, WPARAM wParam, unsigned __int16 a3, unsigned __int16 a4);
void __cdecl sub_41C4BE(int a1, int a2);
char __cdecl sub_41C4E2(int a1);
void __cdecl sub_41C6A3(std::strstreambuf *a1, char a2);
void __cdecl sub_41C79A(std::strstreambuf *a1, char a2);
bool __cdecl sub_41C824(int a1);
bool __cdecl sub_41C839(int a1);
bool __cdecl sub_41C85B(_BYTE *a1);
bool __cdecl sub_41C87F(_BYTE *a1);
BOOL __cdecl sub_41C8A3(int a1, _BOOL1 a2);
void __cdecl sub_41C96A(int a1, char a2);
bool __cdecl sub_41C98C(int a1, int a2, int a3);
void __cdecl sub_41C996(int a1, char a2);
void __cdecl sub_41CA24(std::strstreambuf *a1, char a2);
int __cdecl sub_41CAD0(int a1, unsigned __int16 a2, char a3);
int __cdecl sub_41CB6C(int a1, unsigned __int16 a2);
UINT __cdecl sub_41CC29(int a1, HPALETTE *a2);
UINT __cdecl sub_41CC49(int a1, HGDIOBJ *a2);
int __cdecl sub_41CCDD(int a1, int a2);
int __cdecl sub_41CDC2(int a1, int a2);
TGdiBase *__cdecl sub_41CF1F(TGdiBase *a1);
void __cdecl sub_41D15C(TWindowDC *a1, char a2);
void __cdecl sub_41D38B(void **a1, char a2);
void __cdecl sub_41D3B5(TGdiObject *a1, char a2);
void __cdecl sub_41D457(TGdiObject *a1, char a2);
TBitmap *__cdecl sub_41D4F4(TBitmap *a1, int a2, int a3, const TPalette *a4);
TBitmap *__cdecl sub_41D5D3(TBitmap *a1, int a2, const TPalette *a3);
TBitmap *__cdecl sub_41D6AE(TBitmap *a1, int a2, int a3, HPALETTE *a4, unsigned __int16 a5, unsigned __int16 a6);
TBitmap *__cdecl sub_41D7A5(TBitmap *a1, int a2, HPALETTE *a3, unsigned __int16 a4, unsigned __int16 a5);
void __cdecl sub_41D898(TBitmap *a1, char a2);
bool __cdecl sub_41D902(int a1, HPALETTE *a2, unsigned __int16 a3, unsigned __int16 a4);
void __cdecl sub_41DA7B(_DWORD *a1, char a2);
char __cdecl sub_41DB0D(int a1, TDC *a2, int *a3);
char __cdecl sub_41DB36(int a1, TDC *a2, int a3, int a4, int a5, int a6);
int __cdecl sub_41DEBB(int a1, const void *a2);
_BYTE *__cdecl sub_41DF3E(_BYTE *a1, int a2, int a3, double a4);
TFont *__cdecl sub_41DFA5(int a1, const TFont *a2, int a3);
bool __cdecl sub_41E044(int a1, int a2);
void __cdecl sub_41E119(char *a1, char a2);
int __cdecl sub_41E206(int *a1, string *a2, int *a3);
int __cdecl sub_41E3BD(int *a1, int a2);
int __cdecl sub_41E882(int a1);
int __cdecl sub_41E893(int a1);
void __cdecl sub_41E8F4(TGdiObject *a1, char a2);
void __cdecl sub_41E9A2(_DWORD *a1, char a2);
bool __cdecl sub_41E9FE(int a1);
bool __cdecl sub_41EA10(int a1, int a2);
void __cdecl sub_41EA49(char *a1, char a2);
void __cdecl sub_41EB64(char *a1, char a2);
void __cdecl sub_41EC9F(char *a1, char a2);
void __cdecl sub_41EE33(char *a1, char a2);
void __cdecl sub_41EF0A(char *a1, char a2);
void __cdecl sub_41EFD9(char *a1, char a2);
LPSTR __cdecl sub_41F028(CHAR *s);
int __cdecl sub_41F121(int a1);
int __cdecl sub_41F1CF(int a1, int a2);
LPSTR __cdecl sub_41F231(int a1, int a2);
int __cdecl sub_41F2BA(int a1, int a2);
_DWORD *__cdecl sub_41F302(_DWORD *a1, int a2);
void __cdecl sub_41F598(char *a1, char a2);
int __cdecl sub_41F6AE(int a1, int a2, int a3);
int __cdecl sub_41F790(int a1, string *a2, unsigned int a3); // idb
unsigned int __cdecl sub_41F93B(int a1, string *a2, string *a3, string *a4, unsigned int a5);
void __cdecl sub_41F99A(int a1, string *a2);
void __cdecl sub_41FAA4(int a1, string *a2, int *a3);
void __cdecl sub_41FC53(int a1, int a2, string *a3);
int __cdecl sub_41FF8F(int a1, int a2, _DWORD *a3, int a4, char a5, unsigned __int8 a6);
void __cdecl sub_4200CF(int a1, int a2, _DWORD *a3, char a4);
int __cdecl sub_421AAF(int a1);
char __cdecl sub_421B26(int a1, _DWORD *a2);
int __cdecl sub_421E48(int a1, _DWORD *a2);
string *sub_4222B4();
int sub_423177();
_DWORD *__cdecl sub_4231B0(_DWORD *a1);
int __cdecl sub_42320A(int a1, int a2);
unsigned int __cdecl sub_423252(int a1, int a2);
int __cdecl sub_4232BC(int a1, unsigned int a2, int a3);
int __cdecl sub_4233B7(int a1, const void *a2);
unsigned int __cdecl sub_423405(int a1, _DWORD *a2);
int __cdecl sub_42347D(int a1, unsigned int a2, int a3);
int __cdecl sub_4236F2(int a1);
int __cdecl sub_4236FD(int a1);
int __cdecl sub_423800(int a1);
int __cdecl sub_42380B(int a1);
int __cdecl sub_423816(int a1);
int __cdecl sub_423821(int a1);
int __cdecl sub_42382C(int a1);
int __cdecl sub_423933(int a1);
int __cdecl sub_42393E(int a1);
int __cdecl sub_423949(int a1);
bool __cdecl sub_423954(int a1);
void __cdecl sub_42396B(char *a1, char a2);
void __cdecl sub_4239C2(char *a1, char a2);
void __cdecl sub_423A11(char *a1, char a2);
void __cdecl sub_423A68(char *a1, char a2);
void __cdecl sub_423B73(char *a1, char a2);
void __cdecl sub_423BA0(char *a1, char a2);
void __cdecl sub_423BCD(char *a1, char a2);
void __cdecl sub_423CB4(char *a1, char a2);
void __cdecl sub_423D9F(char *a1, char a2);
void __cdecl sub_423E96(char *a1, char a2);
void __cdecl sub_423F89(char *a1, char a2);
void __cdecl sub_424090(char *a1, char a2);
void __cdecl sub_424197(char *a1, char a2);
void __cdecl sub_424292(char *a1, char a2);
void __cdecl sub_424389(char *a1, char a2);
void __cdecl sub_4243E8(char *a1, char a2);
string *sub_424448();
void sub_4244A5();
void __cdecl sub_4245FA(_DWORD *a1, char a2);
bool __cdecl sub_42472B(int a1);
int __cdecl sub_424750(int a1);
bool __cdecl sub_424764(int a1);
void __cdecl sub_424780(int a1);
int __cdecl sub_424937(int a1);
void __cdecl sub_424C7E(char *a1, char a2);
int __cdecl sub_424EE4(int a1);
int __cdecl sub_425165(int a1);
int __cdecl sub_425190(int a1);
int __cdecl sub_4251A8(int a1);
int __cdecl sub_4251CE(int *a1);
int __cdecl sub_425227(int a1, int a2);
int __cdecl sub_4252BA(int a1, int a2);
char __cdecl sub_4253C1(int a1, char *a2, TGauge *a3);
void __cdecl sub_4254E7(_DWORD *a1, char *a2);
void __cdecl sub_425AB4(int *a1, char *a2);
void __cdecl sub_426184(int a1, int a2, TGauge *a3);
_DWORD *__cdecl sub_4262D4(_DWORD *a1);
int __cdecl sub_42634D(int a1, int a2);
int __cdecl sub_426399(int a1, int a2);
int __cdecl sub_4264AF(int a1);
int __cdecl sub_4264F3(int a1, int a2, unsigned int a3, unsigned int a4);
int __cdecl sub_426547(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5);
unsigned int __cdecl sub_42657C(int a1, unsigned int a2, unsigned int a3);
bool __cdecl sub_426608(_DWORD *a1);
bool __cdecl sub_42662B(_BYTE *a1, ipstream *a2);
bool __cdecl sub_426684(int a1, ipstream *a2);
void __cdecl sub_42668E(int a1, char a2);
int __cdecl sub_426698(int a1);
int __cdecl sub_4266A3(int a1);
int __cdecl sub_4266AE(int a1);
int __cdecl sub_4266F0(TDialog *a1); // idb
char __cdecl sub_4268F8(TWindow *a1, int arglist, char a3, char a4);
char __cdecl sub_426B62(int a1, int arglist);
char __cdecl sub_426D33(int a1, int a2);
int __cdecl sub_42703A(int *a1, int a2, int a3, _DWORD *a4);
char __cdecl sub_4274B0(_DWORD *a1, int a2, __int16 a3, const void *a4);
int __cdecl sub_4275F6(int a1, int a2, int a3, const void *a4, int a5);
char __cdecl sub_427B56(int a1, int a2, int a3);
char __cdecl sub_427C42(int a1, int a2, int a3);
BOOL __cdecl sub_427D34(int a1, int a2, int a3, const void *a4);
int __cdecl sub_427EFF(int a1, int a2, int a3, int a4);
bool __cdecl sub_427FAE(int a1, int a2, int a3);
bool __cdecl sub_4280EA(int a1, int a2);
bool __cdecl sub_428154(int a1, unsigned int a2);
int __cdecl sub_428373(int a1, string *a2, int a3, int a4, const void *a5, int a6);
char __cdecl sub_428AAD(int a1, string *a2, string *a3, __int16 a4, int a5, const void *a6);
char __cdecl sub_428E06(int a1, string *a2, char a3);
char __cdecl sub_428F57(int a1, string *a2);
int __cdecl sub_42908F(TWindow *a1, int a2, int arglist);
int __cdecl sub_4294C9(int a1, int a2, int a3);
void __cdecl sub_429865(int a1);
int __cdecl sub_42999A(TWindow *a1, int a2); // idb
int __cdecl sub_429F02(int a1, int a2);
_DWORD *__cdecl sub_42A32D(_DWORD *a1);
void __cdecl sub_42A547(_DWORD *a1, char a2);
void __cdecl sub_42A738(string *a1, char a2);
int __cdecl sub_42A802(int a1);
int __cdecl sub_42A80D(int a1);
void __cdecl sub_42A824(_DWORD *a1, char a2);
void __cdecl sub_42A8FD(int a1, char a2);
void __cdecl sub_42A91B(char *a1, char a2);
void __cdecl sub_42A978(_DWORD *a1, char a2);
char __cdecl sub_42AA01(int *a1, TDC *a2);
void __cdecl sub_42AA32(char *a1, char a2);
void __cdecl sub_42AA5F(char *a1, char a2);
void __cdecl sub_42AB55(char *a1, char a2);
void __cdecl sub_42AC40(char *a1, char a2);
void __cdecl sub_42AD23(char *a1, char a2);
void __cdecl sub_42ADFE(char *a1, char a2);
_DWORD *__cdecl sub_42AE50(_DWORD *a1, int a2, int a3, int a4, int a5, int a6, int a7);
void __cdecl sub_42AF80(TDialog *a1, char a2);
unsigned int *__cdecl sub_42B075(int a1, int a2);
void __cdecl sub_42B361(TDialog *a1, char a2);
void __cdecl sub_42B374(int a1, char a2);
_DWORD *__cdecl sub_42B478(_DWORD *a1, int a2, int a3, int a4, int a5, int a6);
void __cdecl sub_42B816(TDialog *a1, char a2);
unsigned int *__cdecl sub_42B90B(int a1, int a2);
void __cdecl sub_42C3A3(TDialog *a1, char a2);
void __cdecl sub_42C3B6(int a1, char a2);
int *__cdecl sub_42C4B4(int *a1, int a2, int a3, int a4, int a5);
void __cdecl sub_42C654(TDialog *a1, char a2);
int __cdecl sub_42C789(TDialog *a1); // idb
int __cdecl sub_42C8E4(int a1);
int __cdecl sub_42C8F7(TDialog *a1); // idb
int __cdecl sub_42C90A(TDialog *a1); // idb
int __cdecl sub_42C91D(TDialog *a1, tagWNDCLASSA *a2);
int __cdecl sub_42C930(TDialog *a1, int a2);
int __cdecl sub_42C943(TDialog *a1, tagMSG *a2);
int __cdecl sub_42C956(TDialog *a1, int a2);
int __cdecl sub_42C969(TDialog *a1); // idb
int __cdecl sub_42C97C(TDialog *a1); // idb
int __cdecl sub_42C98F(TDialog *a1, int a2);
int __cdecl sub_42C9A2(TDialog *a1); // idb
void __cdecl sub_42C9B5(TDialog *a1, char a2);
void __cdecl sub_42C9C8(int a1, char a2);
void __cdecl sub_42CA5D(TDialog *a1, char a2);
int __cdecl sub_42CAEA(int a1);
int __cdecl sub_42CAFD(TDialog *a1); // idb
int __cdecl sub_42CB10(TDialog *a1); // idb
int __cdecl sub_42CB23(TDialog *a1, tagWNDCLASSA *a2);
int __cdecl sub_42CB36(TDialog *a1, int a2);
int __cdecl sub_42CB49(TDialog *a1, tagMSG *a2);
int __cdecl sub_42CB5C(TDialog *a1, int a2);
int __cdecl sub_42CB6F(TDialog *a1); // idb
int __cdecl sub_42CB82(TDialog *a1); // idb
int __cdecl sub_42CB95(TDialog *a1, int a2);
int __cdecl sub_42CBA8(TDialog *a1); // idb
void __cdecl sub_42CBBB(TDialog *a1, char a2);
void __cdecl sub_42CBCE(int a1, char a2);
void __cdecl sub_42CBEB(TControl *a1, char a2);
TBitmap *__cdecl sub_42CC94(unsigned int a1, char a2);
string *__cdecl sub_42D23A(string *a1, string *a2);
void __cdecl sub_42D269(string *a1, int a2);
void __cdecl sub_42D318(string *a1, int a2);
void __cdecl sub_42D3BD(void **a1, char a2);
int __cdecl sub_42D422(int a1, int a2);
void __cdecl sub_42D471(_DWORD *a1, char a2);
int __cdecl sub_42D4D8(int a1, int a2);
int __cdecl sub_42D662(int a1);
int __cdecl sub_42D72D(int a1, int a2);
int __cdecl sub_42D858(int a1, char a2);
bool __cdecl sub_42D872(_DWORD *a1, int a2, int a3);
int __cdecl sub_42D8B6(int a1, int a2, const char *a3, TModule *a4);
void __cdecl sub_42DEBC(TWindow *a1, char a2);
TClientDC *__cdecl sub_42DFDB(TWindow *a1);
void __cdecl sub_42E2B9(int a1, UINT_PTR *a2);
int __cdecl sub_42E2E6(_DWORD *a1);
int __cdecl sub_42E379(int a1);
int __cdecl sub_42E3DB(_DWORD *a1);
int __cdecl sub_42E49E(int a1);
HWND __cdecl sub_42E641(TWindow *a1);
void __cdecl sub_42E717(TWindow *a1);
BOOL __cdecl sub_42E73A(TWindow *a1, int a2);
int sub_42E9CE();
int __cdecl sub_42E9D8(int a1, int a2);
TWindow *__stdcall sub_42E9EB(TWindow *a1, int a2, int a3, int a4, int a5);
int __cdecl sub_42EC92(TWindow *a1, char a2); // idb
HWND __cdecl sub_42ECB9(TWindow *a1, char a2);
void __cdecl sub_42F21C(TWindow *a1, TDC *a2, char a3, TRect *a4);
int __cdecl sub_43055C(TWindow *a1, int a2); // idb
int __cdecl sub_430797(int a1, int a2, int a3);
void __cdecl sub_43089A(int a1, int a2, int *a3);
void __cdecl sub_430DB0(TWindow *a1, int a2, int *a3);
_BYTE *__cdecl sub_4312CB(_BYTE *a1);
void __cdecl sub_4312FC(int a1, int a2, int *a3);
void __cdecl sub_43138B(int a1, int a2, int a3);
void __cdecl sub_431451(int a1, int a2, int *a3);
int __cdecl sub_4314E0(TWindow *a1, int a2); // idb
_BOOL1 __cdecl sub_43150C(HCURSOR *a1, HCURSOR a2, int a3);
char __cdecl sub_43155F(TWindow *a1, int a2, int a3);
char __cdecl sub_4315BD(int a1, char a2);
char __cdecl sub_4316F3(int a1, int a2);
char __cdecl sub_43170E(int a1);
int __cdecl sub_431721(TWindow *a1, int a2); // idb
int __cdecl sub_43177D(TWindow *a1, int a2, char *a3); // idb
int __cdecl sub_4321C9(int a1, int a2, int a3);
int __cdecl sub_4322E7(int a1, int a2, int a3);
int __cdecl sub_43241E(TWindow *a1, int a2); // idb
char __cdecl sub_43243C(TWindow *a1, string *a2);
char __cdecl sub_432480(TWindow *a1);
int __cdecl sub_4324C5(int a1, int (__cdecl ***a2)(_DWORD, bool));
char __cdecl sub_4324F9(TWindow *a1);
int __cdecl sub_43253E(int a1, int (__cdecl ***a2)(_DWORD, bool));
char __cdecl sub_432572(TWindow *a1);
int __cdecl sub_4326CE(int a1, int (__cdecl ***a2)(_DWORD, int));
char __cdecl sub_43282A(TWindow *a1);
int __cdecl sub_432883(int a1, int (__cdecl ***a2)(_DWORD, bool));
char __cdecl sub_4328D3(TWindow *a1);
int __cdecl sub_43292C(int a1, int (__cdecl ***a2)(_DWORD, bool));
char __cdecl sub_43297C(TWindow *a1);
int __cdecl sub_4329D5(int a1, int (__cdecl ***a2)(_DWORD, bool));
char __cdecl sub_432A25(TWindow *a1);
int __cdecl sub_432A7E(int a1, int (__cdecl ***a2)(_DWORD, bool));
char __cdecl sub_432ACE(TWindow *a1);
int __cdecl sub_432B27(int a1, int (__cdecl ***a2)(_DWORD, bool));
int __cdecl sub_432B77(int a1);
int __cdecl sub_432C21(int a1, int a2);
int __cdecl sub_432C87(TWindow *a1); // idb
int __cdecl sub_432CA2(int a1, int (__cdecl ***a2)(_DWORD, bool));
int __cdecl sub_432CF3(TWindow *a1); // idb
char __cdecl sub_432DAA(TWindow *a1);
BOOL __cdecl sub_432FD3(int a1);
int __cdecl sub_4330B7(int a1, int (__cdecl ***a2)(_DWORD, bool));
void __cdecl sub_4330F1(int a1, int *a2);
void __cdecl sub_433107(int a1);
_DWORD *__cdecl sub_4331CB(_DWORD *a1);
int __cdecl sub_433236(_DWORD *a1, const void *a2);
int __cdecl sub_4332A5(_DWORD *a1, const void *a2);
int __cdecl sub_433314(int a1, _BOOL1 a2);
char __cdecl sub_4334A6(TWindow *a1);
long double __cdecl sub_43353D(int a1);
_DWORD *__cdecl sub_433569(_DWORD *a1, int a2);
int __cdecl sub_4335A4(int a1, _DWORD *a2);
int __cdecl sub_433F55(int a1);
int __cdecl sub_434070(TWindow *a1, int a2, char a3); // idb
int __cdecl sub_4357CF(TWindow *a1); // idb
UINT sub_435863();
_DWORD *__cdecl sub_4358A4(_DWORD *a1);
char sub_43591A();
int __cdecl sub_4359A0(int a1, unsigned int a2, int a3);
int __cdecl sub_435A6A(int a1, int a2);
int __cdecl sub_435B80(int (__cdecl ***a1)(_DWORD, int));
int __cdecl sub_435BC3(int a1, int a2, unsigned int a3, unsigned int a4);
int __cdecl sub_435C17(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5);
unsigned int __cdecl sub_435C4C(int a1, unsigned int a2, unsigned int a3);
_DWORD *__cdecl sub_435C88(_DWORD *a1, int a2);
string *__cdecl sub_435DAF(string *a1);
void __cdecl sub_435E38(void **a1, char a2);
unsigned int __cdecl sub_435E93(int a1, unsigned int a2);
int __cdecl sub_435F60(int a1);
string *__cdecl sub_435F74(_DWORD *a1, string *a2);
int __cdecl sub_436086(_DWORD *a1);
int __cdecl sub_43614B(_DWORD *a1);
int __cdecl sub_436213(_DWORD *a1, ipstream *a2);
int __cdecl sub_436271(_DWORD *a1, opstream *a2);
void __cdecl sub_4365C4(TBitmap *a1, char a2);
void __cdecl sub_43660B(std::strstreambuf *a1, char a2);
void __cdecl sub_43669D(int a1, char a2);
bool __cdecl sub_4366BF(int a1, int a2, int a3);
void __cdecl sub_4366C9(int a1, char a2);
void __cdecl sub_4366D3(std::strstreambuf *a1, char a2);
int __cdecl sub_436722(int a1);
int __cdecl sub_43672D(int a1);
int __cdecl sub_436738(int a1);
void __cdecl sub_436743(int a1, char a2);
void __cdecl sub_436765(TBitmap *a1, char a2);
void __cdecl sub_4367F8(TWindowDC *a1, char a2);
bool __cdecl sub_436840(int a1, int a2, int a3);
_DWORD *__cdecl sub_436885(_DWORD *a1, int a2, const char *a3, TWindow *a4);
int __cdecl sub_4369DC(TWindow **a1);
void __cdecl sub_436C07(TFrameWindow *a1, char a2);
bool __cdecl sub_436C94(int a1, int a2, int a3);
int __cdecl sub_436CA7(int a1, TWindow *a2);
int __cdecl sub_436CBA(TFrameWindow *a1); // idb
int __cdecl sub_436CCD(TFrameWindow *a1); // idb
int __cdecl sub_436CE0(int a1);
int __cdecl sub_436CF3(int a1);
int __cdecl sub_436D06(TFrameWindow *a1, unsigned int a2, HWND a3, unsigned int a4);
int __cdecl sub_436D19(TFrameWindow *a1, const char *a2, int a3);
int __cdecl sub_436D2C(TFrameWindow *a1, HWND a2, HWND a3);
int __cdecl sub_436D3F(TFrameWindow *a1, int a2);
int __cdecl sub_436D52(TFrameWindow *a1, tagMSG *a2);
void __cdecl sub_436D65(TFrameWindow *a1, char a2);
void __cdecl sub_436D78(int a1, char a2);
void __cdecl sub_436E05(TThread *a1, char a2);
void __cdecl sub_436F85(HANDLE *a1, char a2);
void __cdecl sub_436FFE(HANDLE *a1, char a2);
void __cdecl sub_43706E(HANDLE *a1, char a2);
int __cdecl sub_4370B8(int a1, int a2);
void __cdecl sub_437289(void **a1, char a2);
bool __cdecl sub_4372B9(int a1, LPVOID *lplpBuffer);
bool __cdecl sub_437367(int a1, LPVOID *lplpBuffer);
bool __cdecl sub_437415(int a1, LPVOID *lplpBuffer);
void __cdecl sub_4374C3(TDialog *a1);
_DWORD *__cdecl sub_437A4D(_DWORD *a1);
void __cdecl sub_437A59(void **a1, char a2);
void __cdecl sub_437AB7(TControl *a1, char a2);
bool __cdecl sub_437B60(_DWORD *a1, int a2, int a3);
int __cdecl sub_437BA4(int a1, int a2);
void __cdecl sub_437DFD(TApplication *a1, char a2);
int __cdecl sub_437EB1(int a1);
char __cdecl sub_437ED4(int a1);
bool sub_437F1D();
char __cdecl sub_437F61(int a1);
int __cdecl sub_437F95(TApplication *a1); // idb
void __cdecl sub_43803E(TApplication *a1);
HWND __cdecl sub_438485(int a1, char a2);
void __cdecl sub_4384B3(int a1);
bool sub_438675();
int sub_43883B();
int sub_43891A();
void __cdecl sub_438B9B(TDialog *a1, char a2);
int __cdecl sub_438C30(int a1);
void __cdecl sub_438C43(TDialog *a1);
int __cdecl sub_438C56(TDialog *a1); // idb
int __cdecl sub_438C69(TDialog *a1, tagWNDCLASSA *a2);
int __cdecl sub_438C7C(TDialog *a1, int a2);
int __cdecl sub_438C8F(TDialog *a1, tagMSG *a2);
int __cdecl sub_438CA2(TDialog *a1, int a2);
int __cdecl sub_438CB5(TDialog *a1); // idb
int __cdecl sub_438CC8(TDialog *a1); // idb
int __cdecl sub_438CDB(TDialog *a1, int a2);
int __cdecl sub_438CEE(TDialog *a1); // idb
void __cdecl sub_438D01(TDialog *a1, char a2);
void __cdecl sub_438D14(int a1, char a2);
int __cdecl sub_438D46(int a1, int a2);
void __cdecl sub_438D50(int a1);
int __cdecl sub_438D5A(int a1, tagMSG *a2);
int __cdecl sub_438D64(int a1, int a2);
int __cdecl sub_438D6E(int a1);
int __cdecl sub_438D78(int a1);
void __cdecl sub_438D82(int a1, char a2);
void __cdecl sub_438D8C(int a1, char a2);
// int sscanf(const char *buffer, const char *format, ...);
// xmsg *xmsg::xmsg(xmsg *__hidden this, const xmsg *); weak
// int __cdecl vsprintf(char *buffer, const char *format, void *arglist);
// _DWORD __DynamicCast(void *, void *, void *, void *, int); idb
// void *__cdecl memcpy(void *dest, const void *src, size_t n);
// void filebuf::~filebuf(filebuf *__hidden this); idb
// _DWORD string::assert_element(string *__hidden this, unsigned int); idb
// _DWORD string::substr(string *__hidden this, unsigned int); idb
// void __cdecl srand(unsigned int seed);
// int sprintf(char *buffer, const char *format, ...);
// void *__cdecl memset(void *s, int c, size_t n);
// xmsg *xmsg::xmsg(xmsg *__hidden this, const string *); idb
// int __cdecl operator>>(_DWORD, _DWORD); weak
// _DWORD to_lower(const string *); idb
// _DWORD strchr(char *, int); idb
// _DWORD string::compare(string *__hidden this, const string *, unsigned int, unsigned int); idb
// TStringRef *TStringRef::TStringRef(TStringRef *__hidden this, const char *, unsigned int, const char *, unsigned int, unsigned int); idb
// _DWORD string::set_case_sensitive(string *__hidden this, int); idb
// void ifstream::~ifstream(ifstream *__hidden this); idb
// _DWORD string::hash(string *__hidden this); idb
// _DWORD string::append(string *__hidden this, const char *, unsigned int, unsigned int); idb
// int __cdecl istream::operator>>(_DWORD, _DWORD); weak
// _DWORD string::to_upper(string *__hidden this); idb
// _DWORD to_upper(const string *); idb
// string *string::string(string *__hidden this, const string *); idb
// int __cdecl _lrand();
// _DWORD operator new[](unsigned int); idb
// _DWORD fstreambase::close(fstreambase *__hidden this); idb
// int __cdecl fnsplit(const char *path, char *drive, char *dir, char *name, char *ext);
// size_t __cdecl strlen(const char *s);
// string *string::string(string *__hidden this, const char *); idb
// char *__cdecl strtok(char *s1, const char *s2);
// ifstream *ifstream::ifstream(ifstream *__hidden this, const char *, int, int); idb
// void xmsg::~xmsg(xmsg *__hidden this); idb
// _DWORD string::find_first_of(string *__hidden this, const string *, unsigned int); idb
// _DWORD string::replace(string *__hidden this, unsigned int, unsigned int, const string *, unsigned int, unsigned int); idb
// _DWORD _ThrowExceptionLDTC(void *, void *, void *, void *, unsigned int, unsigned int, unsigned int, unsigned __int8 *, void *); idb
// int __cdecl atol(const char *s);
// string *string::string(string *__hidden this); idb
// _DWORD string::compare(string *__hidden this, const string *); idb
// _DWORD string::find(string *__hidden this, const string *, unsigned int); idb
// int __cdecl string::operator()(_DWORD, _DWORD); weak
// _DWORD operator new(unsigned int); idb
// int __cdecl istream::operator>>(_DWORD, _DWORD); weak
// string *string::string(string *__hidden this, HINSTANCE, unsigned int, int); idb
// _DWORD string::assign(string *__hidden this, const string *, unsigned int, unsigned int); idb
// char *__cdecl strcpy(char *dest, const char *src);
// _DWORD xerror::MakeString(xerror *__hidden this, const char *, const char *, const char *, unsigned int); idb
// void operator delete(void *); idb
// string *string::string(string *__hidden this, char); idb
// filebuf *filebuf::filebuf(filebuf *__hidden this); idb
// char *__cdecl strncpy(char *dest, const char *src, size_t maxlen);
// int __cdecl operator+(_DWORD, _DWORD, _DWORD); weak
// int __cdecl strnicmp(const char *s1, const char *s2, size_t maxlen);
// _DWORD string::read_file(string *__hidden this, istream *); idb
// _DWORD string::append(string *__hidden this, const string *, unsigned int, unsigned int); idb
// void string::~string(string *__hidden this); idb
// void __cdecl fnmerge(char *path, const char *drive, const char *dir, const char *name, const char *ext);
// void operator delete[](void *); idb
// int _exitargv(void); weak
// _DWORD string::rfind(string *__hidden this, const string *, unsigned int); idb
// double __cdecl pow(double x, double y);
// _DWORD string::substr(string *__hidden this, unsigned int, unsigned int); idb
// _DWORD string::to_lower(string *__hidden this); idb
// UINT __stdcall GetPrivateProfileIntA(LPCSTR lpAppName, LPCSTR lpKeyName, INT nDefault, LPCSTR lpFileName);
// LPVOID __stdcall LockResource(HGLOBAL hResData);
// DWORD __stdcall GetFullPathNameA(LPCSTR lpFileName, DWORD nBufferLength, LPSTR lpBuffer, LPSTR *lpFilePart);
// int __stdcall lstrcmpA(LPCSTR lpString1, LPCSTR lpString2);
// DWORD __stdcall GetModuleFileNameA(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
// LANGID __stdcall GetSystemDefaultLangID();
// int __stdcall MulDiv(int nNumber, int nNumerator, int nDenominator);
// int __stdcall lstrcmpiA(LPCSTR lpString1, LPCSTR lpString2);
// LPSTR __stdcall lstrcpyA(LPSTR lpString1, LPCSTR lpString2);
// LPVOID __stdcall TlsGetValue(DWORD dwTlsIndex);
// void __stdcall Sleep(DWORD dwMilliseconds);
// BOOL __stdcall SetCurrentDirectoryA(LPCSTR lpPathName);
// HGLOBAL __stdcall LoadResource(HMODULE hModule, HRSRC hResInfo);
// BOOL __stdcall GetVolumeInformationA(LPCSTR lpRootPathName, LPSTR lpVolumeNameBuffer, DWORD nVolumeNameSize, LPDWORD lpVolumeSerialNumber, LPDWORD lpMaximumComponentLength, LPDWORD lpFileSystemFlags, LPSTR lpFileSystemNameBuffer, DWORD nFileSystemNameSize);
// LANGID __stdcall GetUserDefaultLangID();
// void __stdcall GetSystemTime(LPSYSTEMTIME lpSystemTime);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// DWORD __stdcall GetFileAttributesA(LPCSTR lpFileName);
// UINT __stdcall GetDriveTypeA(LPCSTR lpRootPathName);
// BOOL __stdcall FreeResource(HGLOBAL hResData);
// HLOCAL __stdcall LocalFree(HLOCAL hMem);
// HRSRC __stdcall FindResourceA(HMODULE hModule, LPCSTR lpName, LPCSTR lpType);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// HINSTANCE __stdcall ShellExecuteA(HWND hwnd, LPCSTR lpOperation, LPCSTR lpFile, LPCSTR lpParameters, LPCSTR lpDirectory, INT nShowCmd);
// _DWORD TColor::GetValue(TColor *__hidden this); idb
// _DWORD TMsgThread::PumpWaitingMessages(TMsgThread *__hidden this); idb
// TPReadObjects *TPReadObjects::TPReadObjects(TPReadObjects *__hidden this); idb
// _DWORD TProfile::GetInt(TProfile *__hidden this, const char *, int); idb
// _DWORD TProfile::GetString(TProfile *__hidden this, const char *, char *, unsigned int, const char *); idb
// void TProfile::~TProfile(TProfile *__hidden this); idb
// _DWORD TProfile::WriteString(TProfile *__hidden this, const char *, const char *); idb
// int __cdecl TRect::operator&=(_DWORD, _DWORD); weak
// _DWORD TProfile::WriteInt(TProfile *__hidden this, const char *, int); idb
// TProfile *TProfile::TProfile(TProfile *__hidden this, const char *, const char *); idb
// _DWORD TRect::Offset(TRect *__hidden this, int, int); idb
// void TStreamableBase::~TStreamableBase(TStreamableBase *__hidden this); idb
// _DWORD TRect::Normalize(TRect *__hidden this); idb
// void TThread::~TThread(TThread *__hidden this); idb
// _DWORD TSystem::SupportsThreads(TSystem *__hidden this); idb
// _DWORD TRect::Inflate(TRect *__hidden this, int, int); idb
// TXBase *TXBase::TXBase(TXBase *__hidden this, const string *); idb
// void TXBase::~TXBase(TXBase *__hidden this); idb
// TXBase *TXBase::TXBase(TXBase *__hidden this, const TXBase *); idb
// int __cdecl TRect::operator|=(_DWORD, _DWORD); weak
// _DWORD fpbase::close(fpbase *__hidden this); idb
// int __cdecl operator>>(_DWORD, _DWORD); weak
// int __cdecl operator>>(_DWORD, _DWORD); weak
// int __cdecl operator<<(_DWORD, _DWORD); weak
// _DWORD opstream::writeWord32(opstream *__hidden this, unsigned int); idb
// _DWORD NColors(unsigned __int16); idb
// _DWORD strnewdup(const char *, unsigned int); idb
// void pstream::~pstream(pstream *__hidden this); idb
// _DWORD opstream::writeBytes(opstream *__hidden this, const void *, unsigned int); idb
// opstream *opstream::opstream(opstream *__hidden this); idb
// _DWORD ipstream::readWord32(ipstream *__hidden this); idb
// _DWORD ipstream::readWord(ipstream *__hidden this); idb
// _DWORD ipstream::readVersion(ipstream *__hidden this); idb
// _DWORD ipstream::readBytes(ipstream *__hidden this, void *, unsigned int); idb
// _DWORD fpbase::open(fpbase *__hidden this, const char *, int, int); idb
// BOOL __stdcall UpdateWindow(HWND hWnd);
// HWND __stdcall SetFocus(HWND hWnd);
// BOOL __stdcall IsZoomed(HWND hWnd);
// BOOL __stdcall ClientToScreen(HWND hWnd, LPPOINT lpPoint);
// BOOL __stdcall GetCursorPos(LPPOINT lpPoint);
// HWND __stdcall FindWindowA(LPCSTR lpClassName, LPCSTR lpWindowName);
// BOOL __stdcall EnableWindow(HWND hWnd, BOOL bEnable);
// BOOL __stdcall InvalidateRect(HWND hWnd, const RECT *lpRect, BOOL bErase);
// int __stdcall GetWindowTextA(HWND hWnd, LPSTR lpString, int nMaxCount);
// BOOL __stdcall IsIconic(HWND hWnd);
// BOOL __stdcall IsWindow(HWND hWnd);
// int __stdcall GetSystemMetrics(int nIndex);
// HCURSOR __stdcall LoadCursorFromFileA(LPCSTR lpFileName);
// HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
// int __stdcall MessageBoxExA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType, WORD wLanguageId);
// BOOL __stdcall MessageBeep(UINT uType);
// BOOL __stdcall KillTimer(HWND hWnd, UINT_PTR uIDEvent);
// UINT __stdcall RegisterWindowMessageA(LPCSTR lpString);
// BOOL __stdcall PostMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// BOOL __stdcall ScreenToClient(HWND hWnd, LPPOINT lpPoint);
// BOOL __stdcall OemToCharA(LPCSTR lpszSrc, LPSTR lpszDst);
// BOOL __stdcall DestroyCursor(HCURSOR hCursor);
// BOOL __stdcall SetWindowPos(HWND hWnd, HWND hWndInsertAfter, int X, int Y, int cx, int cy, UINT uFlags);
// BOOL __stdcall SetWindowTextA(HWND hWnd, LPCSTR lpString);
// UINT_PTR __stdcall SetTimer(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
// BOOL __stdcall ShowWindow(HWND hWnd, int nCmdShow);
// int __stdcall ShowCursor(BOOL bShow);
// BOOL __stdcall SetForegroundWindow(HWND hWnd);
// int wsprintfA(LPSTR, LPCSTR, ...);
// HWND __stdcall WindowFromPoint(POINT Point);
// HCURSOR __stdcall SetCursor(HCURSOR hCursor);
// int __cdecl TGdiObject::RefAdd(_DWORD, _DWORD); weak
// void TGdiObject::~TGdiObject(TGdiObject *__hidden this); idb
// _DWORD TGdiBase::CheckValid(TGdiBase *__hidden this, unsigned int); idb
// _DWORD TGauge::StepIt(TGauge *__hidden this); idb
// _DWORD TApplication::SetMainWindow(TApplication *__hidden this, TFrameWindow *); weak
// _DWORD TGauge::SetValue(TGauge *__hidden this, int); idb
// _DWORD TGauge::SetStep(TGauge *__hidden this, int); idb
// _DWORD TGauge::SetRange(TGauge *__hidden this, int, int); idb
// TGauge *TGauge::TGauge(TGauge *__hidden this, TWindow *, int, TModule *); weak
// _DWORD TApplication::Run(TApplication *__hidden this); idb
// _DWORD TFrameWindow::SetupWindow(TFrameWindow *__hidden this); idb
// int __cdecl TFrameWindow::SetIconSm(_DWORD, _DWORD, _DWORD); weak
// int __cdecl TFrameWindow::SetIcon(_DWORD, _DWORD, _DWORD); weak
// _DWORD TApplication::ProcessMsg(TApplication *__hidden this, tagMSG *); idb
// _DWORD TFrameWindow::SetDocTitle(TFrameWindow *__hidden this, const char *, int); idb
// _DWORD TDC::RestoreBrush(TDC *__hidden this); idb
// _DWORD TFrameWindow::RemoveChild(TFrameWindow *__hidden this, TWindow *); weak
// _DWORD TFrameWindow::PreProcessMsg(TFrameWindow *__hidden this, tagMSG *); idb
// _DWORD TFrameWindow::IdleAction(TFrameWindow *__hidden this, int); idb
// _DWORD TFrameWindow::HoldFocusHWnd(TFrameWindow *__hidden this, HWND, HWND); idb
// int __cdecl TFrameWindow::Find(_DWORD, _DWORD, _DWORD); weak
// int __cdecl TFrameWindow::EvCommandEnable(_DWORD); weak
// _DWORD TFrameWindow::EvCommand(TFrameWindow *__hidden this, unsigned int, HWND, unsigned int); idb
// _DWORD TFrameWindow::CleanupWindow(TFrameWindow *__hidden this); idb
// _DWORD TApplication::MessageLoop(TApplication *__hidden this); idb
// void TApplication::~TApplication(TApplication *__hidden this); idb
// void TWindowDC::~TWindowDC(TWindowDC *__hidden this); idb
// void TFrameWindow::~TFrameWindow(TFrameWindow *__hidden this); idb
// int __cdecl TWindow::TransferData(_DWORD, _DWORD); weak
// TFrameWindow *TFrameWindow::TFrameWindow(TFrameWindow *__hidden this, TWindow *, const char *, TWindow *, bool, TModule *); weak
// _DWORD TWindow::SetupWindow(TWindow *__hidden this); idb
// TFont *TFont::TFont(TFont *__hidden this, const TFont *); weak
// _DWORD TApplication::MessageBox(TApplication *__hidden this, HWND, const char *, const char *, unsigned int); idb
// _DWORD TWindow::SetWindowPos(TWindow *__hidden this, HWND, int, int, int, int, unsigned int); idb
// TFont *TFont::TFont(TFont *__hidden this, const char *, int, int, int, int, int, unsigned __int8, unsigned __int8, unsigned __int8, unsigned __int8, unsigned __int8, unsigned __int8, unsigned __int8, unsigned __int8); idb
// int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD); weak
// TFont *TFont::TFont(TFont *__hidden this, const tagLOGFONTA *); idb
// _DWORD TWindow::SetCaption(TWindow *__hidden this, const char *); idb
// int __cdecl TEventHandler::SearchEntries(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TApplication::TApplication(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD TApplication::InitInstance(TApplication *__hidden this); idb
// TDib *TDib::TDib(TDib *__hidden this, const char *); idb
// _DWORD TWindow::Paint(TWindow *__hidden this, TDC *, bool, TRect *); idb
// _DWORD TWindow::IdleAction(TWindow *__hidden this, int); idb
// int __cdecl TDib::TDib(_DWORD, _DWORD, _DWORD); weak
// _DWORD TWindow::HandleMessage(TWindow *__hidden this, unsigned int, unsigned int, int); idb
// _DWORD TDialog::SetupWindow(TDialog *__hidden this); idb
// void TControl::~TControl(TControl *__hidden this); idb
// _DWORD TDialog::PreProcessMsg(TDialog *__hidden this, tagMSG *); idb
// _DWORD TWindow::GetClientRect(TWindow *__hidden this, TRect *); idb
// _DWORD TWindow::GetClassNameA(TWindow *__hidden this); idb
// _DWORD TDialog::IdleAction(TDialog *__hidden this, int); idb
// TClientDC *TClientDC::TClientDC(TClientDC *__hidden this, HWND); idb
// int __cdecl TWindow::Find(_DWORD, _DWORD, _DWORD); weak
// _DWORD TDialog::GetWindowClass(TDialog *__hidden this, tagWNDCLASSA *); idb
// _DWORD TDialog::GetClassNameA(TDialog *__hidden this); idb
// _DWORD TCheckBox::SetCheck(TCheckBox *__hidden this, unsigned int); idb
// int __cdecl TWindow::EvSize(_DWORD, _DWORD, _DWORD); weak
// int __cdecl TDialog::Find(_DWORD); weak
// _DWORD TDialog::Execute(TDialog *__hidden this); idb
// _DWORD TWindow::Destroy(TWindow *__hidden this, int); idb
// _DWORD TDialog::DoExecute(TDialog *__hidden this); idb
// int __cdecl TCheckBox::TCheckBox(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD TWindow::DefaultProcessing(TWindow *__hidden this); idb
// _DWORD TWindow::CleanupWindow(TWindow *__hidden this); idb
// _DWORD TDialog::Destroy(TDialog *__hidden this, int); idb
// _DWORD TDialog::Create(TDialog *__hidden this); idb
// void TWindow::~TWindow(TWindow *__hidden this); idb
// void TBrush::~TBrush(TBrush *__hidden this); idb
// TWindow *TWindow::TWindow(TWindow *__hidden this); idb
// _DWORD TDialog::CloseWindow(TDialog *__hidden this, int); idb
// TWindow *TWindow::TWindow(TWindow *__hidden this, TWindow *, const char *, TModule *); weak
// void TDialog::~TDialog(TDialog *__hidden this); idb
// TBrush *TBrush::TBrush(TBrush *__hidden this, const TBitmap *); weak
// int __cdecl TDialog::TDialog(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// TBrush *TBrush::TBrush(TBrush *__hidden this, const TColor *); idb
// TStatic *TStatic::TStatic(TStatic *__hidden this, TWindow *, int, unsigned int, TModule *); weak
// _DWORD TApplication::IdleAction(TApplication *__hidden this, int); idb
// TScreenDC *TScreenDC::TScreenDC(TScreenDC *__hidden this); idb
// void TDib::~TDib(TDib *__hidden this); idb
// void TRegion::~TRegion(TRegion *__hidden this); idb
// int __cdecl TRegion::TRegion(_DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD TWindow::SendMessageA(TWindow *__hidden this, unsigned int, unsigned int, int); idb
// _DWORD TBitmap::Create(TBitmap *__hidden this, const TDib *, const TPalette *); weak
// TPalette *TPalette::TPalette(TPalette *__hidden this, const tagPALETTEENTRY *, int); idb
// int __cdecl TPalette::TPalette(_DWORD, _DWORD, _DWORD); weak
// void TBitmap::~TBitmap(TBitmap *__hidden this); idb
// _DWORD TApplication::GetInitCmdLine(TApplication *__hidden this); idb
// _DWORD TModule::SetName(TModule *__hidden this, const char *); idb
// TBitmap *TBitmap::TBitmap(TBitmap *__hidden this); idb
// void TModule::~TModule(TModule *__hidden this); idb
// int __cdecl TApplication::Find(_DWORD, _DWORD, _DWORD); weak
// TModule *TModule::TModule(TModule *__hidden this, const char *, HINSTANCE); idb
// TModule *TModule::TModule(TModule *__hidden this, const char *, bool, bool); idb
// TBitmap *TBitmap::TBitmap(TBitmap *__hidden this, const TDC *, int, int, bool); idb
// _DWORD TDC::SelectObject(TDC *__hidden this, const TPalette *, bool); idb
// _DWORD TApplication::TermInstance(TApplication *__hidden this, int); idb
// _DWORD TMemoryDC::SelectObject(TMemoryDC *__hidden this, const TBitmap *); idb
// _DWORD TApplication::EnableCtl3d(TApplication *__hidden this, bool); idb
// _DWORD TMemoryDC::RestoreBitmap(TMemoryDC *__hidden this); idb
// void TMemoryDC::~TMemoryDC(TMemoryDC *__hidden this); idb
// _DWORD TDC::SelectObject(TDC *__hidden this, const TBrush *); idb
// TMemoryDC *TMemoryDC::TMemoryDC(TMemoryDC *__hidden this, const TDC *); idb
// _DWORD TDC::SelectObject(TDC *__hidden this, const TFont *); idb
// BOOL __stdcall StretchBlt(HDC, int, int, int, int, HDC, int, int, int, int, DWORD);
// BOOL __stdcall SetTextJustification(HDC, int, int);
// UINT __stdcall SetTextAlign(HDC, UINT);
// int __stdcall SetStretchBltMode(HDC, int);
// int __stdcall SetROP2(HDC, int);
// UINT __stdcall SetPaletteEntries(HPALETTE, UINT, UINT, const PALETTEENTRY *);
// int __stdcall SetBkMode(HDC, int);
// int __stdcall SelectClipRgn(HDC, HRGN);
// BOOL __stdcall Rectangle(HDC, int, int, int, int);
// UINT __stdcall RealizePalette(HDC);
// BOOL __stdcall PtInRegion(HRGN, int, int);
// BOOL __stdcall PatBlt(HDC, int, int, int, int, DWORD);
// BOOL __stdcall GetTextExtentPointA(HDC, LPCSTR, int, LPSIZE);
// HGDIOBJ __stdcall GetStockObject(int);
// UINT __stdcall GetPaletteEntries(HPALETTE, UINT, UINT, LPPALETTEENTRY);
// int __stdcall GetObjectA(HGDIOBJ, int, LPVOID);
// int __stdcall ExcludeClipRect(HDC, int, int, int, int);
// HPALETTE __stdcall CreateHalftonePalette(HDC);
// BOOL __stdcall BitBlt(HDC, int, int, int, int, HDC, int, int, DWORD);
// UINT __stdcall waveOutGetNumDevs();
// MMRESULT __stdcall timeSetEvent(UINT uDelay, UINT uResolution, LPTIMECALLBACK fptc, DWORD dwUser, UINT fuEvent);
// MMRESULT __stdcall timeKillEvent(UINT uTimerID);
// MMRESULT __stdcall timeGetDevCaps(LPTIMECAPS ptc, UINT cbtc);
// MMRESULT __stdcall timeEndPeriod(UINT uPeriod);
// MMRESULT __stdcall timeBeginPeriod(UINT uPeriod);
// UINT __stdcall midiOutGetNumDevs();
// MCIERROR __stdcall mciSendCommandA(MCIDEVICEID mciId, UINT uMsg, DWORD dwParam1, DWORD dwParam2);
// BOOL __stdcall PlaySoundA(LPCSTR pszSound, HMODULE hmod, DWORD fdwSound);
// HRESULT __stdcall DirectDrawCreate(GUID *lpGUID, LPDIRECTDRAW *lplpDD, IUnknown *pUnkOuter);
// BOOL __stdcall VerQueryValueA(const LPVOID pBlock, LPSTR lpSubBlock, LPVOID *lplpBuffer, PUINT puLen);
// DWORD __stdcall GetFileVersionInfoSizeA(LPSTR lptstrFilename, LPDWORD lpdwHandle);
// BOOL __stdcall GetFileVersionInfoA(LPSTR lptstrFilename, DWORD dwHandle, DWORD dwLen, LPVOID lpData);
// LONG __stdcall RegQueryValueExA(HKEY hKey, LPCSTR lpValueName, LPDWORD lpReserved, LPDWORD lpType, LPBYTE lpData, LPDWORD lpcbData);
// LONG __stdcall RegQueryInfoKeyA(HKEY hKey, LPSTR lpClass, LPDWORD lpcbClass, LPDWORD lpReserved, LPDWORD lpcSubKeys, LPDWORD lpcbMaxSubKeyLen, LPDWORD lpcbMaxClassLen, LPDWORD lpcValues, LPDWORD lpcbMaxValueNameLen, LPDWORD lpcbMaxValueLen, LPDWORD lpcbSecurityDescriptor, PFILETIME lpftLastWriteTime);
// LONG __stdcall RegOpenKeyExA(HKEY hKey, LPCSTR lpSubKey, DWORD ulOptions, REGSAM samDesired, PHKEY phkResult);
// LONG __stdcall RegEnumKeyA(HKEY hKey, DWORD dwIndex, LPSTR lpName, DWORD cbName);
// LONG __stdcall RegDeleteKeyA(HKEY hKey, LPCSTR lpSubKey);
// LONG __stdcall RegCreateKeyExA(HKEY hKey, LPCSTR lpSubKey, DWORD Reserved, LPSTR lpClass, DWORD dwOptions, REGSAM samDesired, LPSECURITY_ATTRIBUTES lpSecurityAttributes, PHKEY phkResult, LPDWORD lpdwDisposition);
// LONG __stdcall RegCloseKey(HKEY hKey);
// int InitVNCommandMessage(void); weak

//-------------------------------------------------------------------------
// Data declarations

_tpidc stru_4030AC[1] =
{
  {
    12,
    3,
    48,
    (void *)4,
    119,
    60,
    76,
    NULL,
    0,
    0,
    NULL,
    3,
    3,
    &sub_4032B9,
    1,
    80,
    "TXRegistry"
  }
}; // weak
_tpidc stru_403B88[1] =
{
  {
    4,
    3,
    48,
    (void *)0xFFFFFFFF,
    7,
    64,
    80,
    NULL,
    0,
    0,
    NULL,
    3,
    3,
    &sub_403CAD,
    1,
    84,
    "precondition"
  }
}; // weak
_tpidc stru_4068BF[1] =
{
  {
    4,
    3,
    48,
    (void *)0xFFFFFFFF,
    7,
    56,
    72,
    NULL,
    0,
    0,
    NULL,
    3,
    3,
    &sub_406C67,
    1,
    76,
    "check"
  }
}; // weak
_tpidc stru_436A47[1] =
{
  {
    172,
    3,
    48,
    (void *)0x56,
    127,
    64,
    92,
    NULL,
    0,
    0,
    NULL,
    8,
    8,
    &TApplication::~TApplication,
    1,
    108,
    "TApplication"
  }
}; // weak
_tpidc stru_436AC7[1] =
{
  {
    176,
    3,
    48,
    (void *)0x56,
    127,
    64,
    80,
    NULL,
    0,
    0,
    NULL,
    10,
    10,
    &sub_437DFD,
    1,
    96,
    "TVNApplication"
  }
}; // weak
// extern _UNKNOWN TXBase::InstanceCount; weak
DWORD TlsIndex = 0u; // idb
int dword_43A06B = 0; // weak
_UNKNOWN unk_43A0D8; // weak
char aStrStr[] = "str && *str"; // idb
char aLibStrarrayCpp[] = "lib\\strarray.cpp"; // idb
char aPrecondition[] = "Precondition"; // idb
char aPath[] = "path"; // idb
char aToolsfctCpp[] = "toolsfct.cpp"; // idb
char aPrecondition_0[] = "Precondition"; // idb
CHAR Operation[] = "open"; // idb
char byte_43A8E2 = '\0'; // idb
char byte_43A8E3 = '\0'; // idb
char asc_43A8E4[4] = "..\\"; // weak
char byte_43A8E9 = '\0'; // idb
char byte_43A8EA = '\0'; // idb
char byte_43A8EC = '\0'; // idb
char byte_43A8EE = '\0'; // idb
_UNKNOWN unk_43A8EF; // weak
char byte_43A8F0[4] = { '\0', '\0', '\0', '\0' }; // idb
char s2[2] = "."; // idb
char asc_43A99A[2] = "."; // idb
char aLim0Data0Index[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_0[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_2[] = "Precondition"; // idb
char aLocLowerboundZ[] = "loc >= Lowerbound && ZeroBase(loc) < Data.Limit()"; // idb
char aCBc5IncludeCla_1[] = "C:\\BC5\\INCLUDE\\classlib\\arrays.h"; // idb
char aPrecondition_3[] = "Precondition"; // idb
char aLim0Data0Index_0[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_2[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_4[] = "Precondition"; // idb
char aLim0Data0Index_1[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_4[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_6[] = "Precondition"; // idb
char aLim0Data0Index_2[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_6[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_8[] = "Precondition"; // idb
char aLim0Data0Index_3[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_7[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_9[] = "Precondition"; // idb
int (__cdecl *off_43B4EC)(int, int) = &sub_405B50; // weak
int (__cdecl *off_43B500[2])(int) = { &sub_406DE5, &sub_406DF0 }; // weak
int (__cdecl *off_43B51C[2])(int) = { &sub_406DE5, &sub_406DF0 }; // weak
int (__cdecl *off_43B538[3])(int) = { &sub_406EF7, &sub_406F02, &sub_406F0D }; // weak
int (__cdecl *off_43B554)(void *, char) = &sub_406D2D; // weak
char aDestNull[] = "dest != NULL"; // idb
char aDllVarCpp[] = "dll_var.cpp"; // idb
char aPrecondition_10[] = "Precondition"; // idb
char aCurUpper_11[12] = "Cur < Upper"; // weak
char aCBc5IncludeCla_49[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_139[13] = "Precondition"; // weak
char aLim0Data0Index_30[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_50[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_140[13] = "Precondition"; // weak
char aCurUpper_12[12] = "Cur < Upper"; // weak
char aCBc5IncludeCla_51[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_141[13] = "Precondition"; // weak
char aLim0Data0Index_31[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_52[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_142[13] = "Precondition"; // weak
char aLim0Data0Index_32[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_54[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_144[13] = "Precondition"; // weak
char aCurUpper_14[12] = "Cur < Upper"; // weak
char aCBc5IncludeCla_55[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_145[13] = "Precondition"; // weak
char aLim0Data0Index_33[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_56[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_146[13] = "Precondition"; // weak
int dword_43BA0C = 0; // weak
void *dword_43BA10 = NULL; // idb
int dword_43BA14 = 0; // weak
int dword_43BA18 = 0; // weak
void *dword_43BA1C = NULL; // idb
int dword_43BA20 = 0; // weak
int dword_43BA24 = 0; // weak
void *dword_43BA28 = NULL; // idb
int dword_43BA2C = 0; // weak
_UNKNOWN unk_43C854; // weak
_UNKNOWN unk_43DC55; // weak
char byte_43F76A[2] = { '\0', '\0' }; // idb
char s[] = "quit"; // idb
char aEvOnfocus[] = "EV_ONFOCUS"; // idb
char asc_43F8FD[] = "="; // idb
char aRandom[] = "RANDOM"; // idb
_UNKNOWN unk_43F914; // weak
char byte_43F915 = '\0'; // idb
char asc_43F916[] = "\\\""; // idb
char asc_43F919[] = "\""; // idb
char byte_43F92E = '\0'; // idb
char byte_43F941 = '\0'; // idb
char byte_43F94A = '\0'; // idb
_BYTE algn_43F953 = 0; // weak
char aU_4[5] = "%+u "; // weak
char aU_5[4] = "%u "; // weak
char aU_6[5] = "%+u "; // weak
char aU_7[4] = "%u "; // weak
char aU_8[3] = "%u"; // weak
char byte_43F969 = '\0'; // idb
char byte_43F97E = '\0'; // idb
char byte_43F97F = '\0'; // idb
char byte_43F997 = '\0'; // idb
char byte_43F998 = '\0'; // idb
char byte_43F999 = '\0'; // idb
char byte_43F9B4 = '\0'; // idb
char byte_43F9B5 = '\0'; // idb
char byte_43F9D3 = '\0'; // idb
char byte_43F9D4 = '\0'; // idb
char byte_43F9EF = '\0'; // idb
char aThen[] = " then "; // idb
char aElse[] = " else "; // idb
char byte_43FA1C = '\0'; // idb
char byte_43FA2F = '\0'; // idb
char byte_43FA61 = '\0'; // idb
char byte_43FA68 = '\0'; // idb
char asc_43FA69[] = " "; // idb
char aWnd[] = "wnd"; // idb
char aCommandsCpp[] = "commands.cpp"; // idb
char aPrecondition_11[] = "Precondition"; // idb
char aGethandle[] = "GetHandle()"; // idb
char aCBc5IncludeOwl[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_12[] = "Precondition"; // idb
char aGethandle_0[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_0[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_13[] = "Precondition"; // idb
char aGethandle_1[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_1[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_14[] = "Precondition"; // idb
char aGethandle_2[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_2[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_15[] = "Precondition"; // idb
char aGethandle_3[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_3[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_16[] = "Precondition"; // idb
char aGethandle_4[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_4[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_17[] = "Precondition"; // idb
char byte_43FBC7 = '\0'; // idb
char aLocLowerboundZ_0[] = "loc >= Lowerbound && ZeroBase(loc) < Data.Limit()"; // idb
char aCBc5IncludeCla_8[] = "C:\\BC5\\INCLUDE\\classlib/arrays.h"; // idb
char aPrecondition_18[] = "Precondition"; // idb
char aLim0Data0Index_4[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_9[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_19[] = "Precondition"; // idb
char aLim0Data0Index_5[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_11[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_21[] = "Precondition"; // idb
char byte_43FD09 = '\0'; // idb
char byte_43FD0A = '\0'; // idb
char aLocLowerboundZ_1[] = "loc >= Lowerbound && ZeroBase(loc) < Data.Limit()"; // idb
char aCBc5IncludeCla_12[] = "C:\\BC5\\INCLUDE\\classlib/arrays.h"; // idb
char aPrecondition_22[] = "Precondition"; // idb
char aLim0Data0Index_6[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_13[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_23[] = "Precondition"; // idb
char aLim0Data0Index_34[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_58[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_148[13] = "Precondition"; // weak
char aCurUpper_16[12] = "Cur < Upper"; // weak
char aCBc5IncludeCla_59[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_149[13] = "Precondition"; // weak
char aLim0Data0Index_35[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_60[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_150[13] = "Precondition"; // weak
char aCurUpper_17[12] = "Cur < Upper"; // weak
char aCBc5IncludeCla_61[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_151[13] = "Precondition"; // weak
char aLim0Data0Index_36[36] = "Lim > 0 && Data != 0 && index < Lim"; // weak
char aCBc5IncludeCla_62[34] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // weak
char aPrecondition_152[13] = "Precondition"; // weak
char aNum[] = "_NUM"; // idb
int (__cdecl *off_440090)(void *, char) = &sub_40FB9E; // weak
int (__cdecl *off_4400A0)(void *, char) = &sub_41053B; // weak
int (__cdecl *off_4400C0[2])(int) = { &sub_410671, &sub_410667 }; // weak
int (__cdecl *off_4400D0[2])(int) = { &sub_41065D, &sub_410653 }; // weak
int (__cdecl *off_4400E4[2])(int) = { &sub_41067B, &sub_410686 }; // weak
int (__cdecl *off_440100[2])(int) = { &sub_41067B, &sub_410686 }; // weak
int (__cdecl *off_44011C[3])(int) = { &sub_410791, &sub_41079C, &sub_4107A7 }; // weak
int (__cdecl *off_44013C)(void *, char) = &sub_40F5DA; // weak
int (__cdecl *off_440158[2])(int) = { &sub_4107E0, &sub_4107D6 }; // weak
int (__cdecl *off_44016C)(int, int) = &sub_40D8A9; // weak
_UNKNOWN *off_440188 = &loc_410910; // weak
_UNKNOWN *off_440198 = &loc_4108FC; // weak
int (__cdecl *off_4401AC[2])(int) = { &sub_41091A, &sub_410925 }; // weak
int (__cdecl *off_4401C8[2])(int) = { &sub_41091A, &sub_410925 }; // weak
int (__cdecl *off_4401E4[3])(int) = { &sub_410A24, &sub_410A2F, &sub_410A3A }; // weak
bool (__cdecl *off_440204)(int a1) = &sub_410A45; // weak
bool (__cdecl *off_44021C)(int a1) = &sub_410A45; // weak
int (__cdecl *off_440234)(int) = &sub_410AA0; // weak
int (__cdecl *off_440248)(int) = &sub_410AF6; // weak
int (__cdecl *off_44025C)(int) = &sub_410AF6; // weak
int (__cdecl *off_440270)(int) = &sub_410B08; // weak
int (__cdecl *off_440284)(int) = &sub_410B1A; // weak
int (__cdecl *off_440298)(int) = &sub_410B1A; // weak
int (__cdecl *off_4402AC)(int) = &sub_410B1A; // weak
int (__cdecl *off_4402C0)(void *, char) = &unknown_libname_5; // weak
int (__cdecl *off_4402D4)(void *, char) = &unknown_libname_6; // weak
int (__cdecl *off_4402E8)(void *, char) = &sub_410C44; // weak
int (__cdecl *off_4402F8)(int) = &sub_410C9C; // weak
int (__cdecl *off_44030C)(void *, char) = &sub_40F471; // weak
int (__cdecl *off_440324[2])(int) = { &sub_410CB0, &sub_410CA6 }; // weak
int (__cdecl *off_440338)(int) = &sub_410CBA; // weak
int (__cdecl *off_440350)(int, int) = &sub_40A479; // weak
int (__cdecl *off_440364)(int) = &sub_410A45; // weak
int (__cdecl *off_44037C)(int) = &sub_410D26; // weak
int (__cdecl *off_440390)(int) = &sub_410D26; // weak
int (__cdecl *off_4403A4)(int) = &sub_410D26; // weak
int (__cdecl *off_4403B8)(int) = &sub_410D26; // weak
int (__cdecl *off_4403CC)(int) = &sub_410D26; // weak
int (*off_4403E0)() = &sub_410D7D; // weak
int (__cdecl *off_4403F4)(int) = &sub_410D84; // weak
int (__cdecl *off_440408)(int) = &sub_410D26; // weak
int (__cdecl *off_44041C)(int) = &sub_410D26; // weak
int (__cdecl *off_440430)(int) = &sub_410D26; // weak
int (*off_440444)() = &sub_410E20; // weak
int (*off_440458[2])() = { &_pure_error_, &_pure_error_ }; // weak
int dword_440460 = 0; // weak
void *dword_440464 = NULL; // idb
int dword_440468 = 0; // weak
char aDefault[] = "default"; // idb
char aLim0Data0Index_7[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_15[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_25[] = "Precondition"; // idb
char byte_4412F5 = '\0'; // idb
char byte_4412FF = '\0'; // idb
char asc_441300[] = " "; // idb
char aPtrNull[] = "ptr != NULL"; // idb
char aHotspotCpp[] = "hotspot.cpp"; // idb
char aCheck[] = "Check"; // idb
char aPointsNull[] = "Points == NULL"; // idb
char aHotspotCpp_0[] = "hotspot.cpp"; // idb
char aCheck_0[] = "Check"; // idb
char asc_441341[] = " "; // idb
char aPtrNull_0[] = "ptr != NULL"; // idb
char aHotspotCpp_1[] = "hotspot.cpp"; // idb
char aCheck_1[] = "Check"; // idb
char asc_441361[] = " "; // idb
char aPtrNull_1[] = "ptr != NULL"; // idb
char aHotspotCpp_2[] = "hotspot.cpp"; // idb
char aCheck_2[] = "Check"; // idb
char byte_441395 = '\0'; // idb
char asc_441396[] = ","; // idb
char aPtrNull_2[] = "ptr != NULL"; // idb
char aHotspotCpp_3[] = "hotspot.cpp"; // idb
char aCheck_3[] = "Check"; // idb
char asc_4413B6[] = ","; // idb
char aPtrNull_3[] = "ptr != NULL"; // idb
char aHotspotCpp_4[] = "hotspot.cpp"; // idb
char aCheck_4[] = "Check"; // idb
char asc_4413D6[] = ","; // idb
char aPtrNull_4[] = "ptr != NULL"; // idb
char aHotspotCpp_5[] = "hotspot.cpp"; // idb
char aCheck_5[] = "Check"; // idb
char asc_4413F6[] = ","; // idb
char aPtrNull_5[] = "ptr != NULL"; // idb
char aHotspotCpp_6[] = "hotspot.cpp"; // idb
char aCheck_6[] = "Check"; // idb
char asc_441416[] = ","; // idb
char aPtrNull_6[] = "ptr != NULL"; // idb
char aHotspotCpp_7[] = "hotspot.cpp"; // idb
char aCheck_7[] = "Check"; // idb
char byte_441441 = '\0'; // idb
char a0000[] = "0,0,0,0"; // idb
char byte_441488 = '\0'; // idb
char aLim0Data0Index_8[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_16[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_26[] = "Precondition"; // idb
char aCurUpper_4[] = "Cur < Upper"; // idb
char aCBc5IncludeCla_17[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_27[] = "Precondition"; // idb
char aLim0Data0Index_9[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_18[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_28[] = "Precondition"; // idb
char aLocLowerboundZ_2[] = "loc >= Lowerbound && ZeroBase(loc) < Data.Limit()"; // idb
char aCBc5IncludeCla_19[] = "C:\\BC5\\INCLUDE\\classlib/arrays.h"; // idb
char aPrecondition_29[] = "Precondition"; // idb
char aLim0Data0Index_10[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_20[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_30[] = "Precondition"; // idb
char aHsnum[] = "HSNUM"; // idb
char aNhotspot[] = "NHOTSPOT"; // idb
char aLim0Data0Index_11[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_21[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_31[] = "Precondition"; // idb
int (__cdecl *off_4417A0)(void *, char) = &sub_4134C7; // weak
int (__cdecl *off_4417C0[2])(int) = { &sub_4143C8, &sub_4143BE }; // weak
int (__cdecl *off_4417D0[2])(int) = { &sub_4143B4, &sub_4143AA }; // weak
int (__cdecl *off_4417E4[2])(int) = { &sub_406DE5, &sub_406DF0 }; // weak
int (__cdecl *off_441800[3])(int) = { &sub_4144BE, &sub_4144C9, &sub_4144D4 }; // weak
int (__cdecl *off_44181C)(void *, char) = &sub_411D4D; // weak
int (__cdecl *off_441848[2])(int) = { &sub_414521, &sub_414517 }; // weak
char byte_44295A = '\0'; // idb
_UNKNOWN unk_442968; // weak
char byte_442999 = '\0'; // idb
char byte_44299D = '\0'; // idb
_UNKNOWN unk_4429AA; // weak
_UNKNOWN unk_4429BA; // weak
_UNKNOWN unk_4429BF; // weak
_UNKNOWN unk_4429CB; // weak
_UNKNOWN unk_4429D7; // weak
_UNKNOWN unk_4429E3; // weak
char byte_442A46 = '\0'; // idb
char byte_442A47 = '\0'; // idb
char byte_442A48 = '\0'; // idb
char aPassword[] = "PASSWORD"; // idb
char byte_442A52 = '\0'; // idb
char byte_442A53 = '\0'; // idb
char byte_442A54 = '\0'; // idb
char aMain[] = "MAIN"; // idb
char aAreas[] = "AREAS"; // idb
char aTitle[] = "TITLE"; // idb
char byte_442AF4 = '\0'; // idb
char aExitId[] = "EXIT_ID"; // idb
char aIndexId[] = "INDEX_ID"; // idb
char aVnfile[] = "VNFILE"; // idb
char aFnLength[] = "fn.length()"; // idb
char aSceneCpp[] = "scene.cpp"; // idb
char aPrecondition_34[] = "Precondition"; // idb
char aIni[] = ".INI"; // idb
int (__cdecl *off_442CA8[2])(int) = { &sub_417EE6, &sub_417EF1 }; // weak
int (__cdecl *off_442CC4)(void *, int) = &sub_417F08; // weak
int (__cdecl *off_442CD0)(int) = &sub_417F98; // weak
int (__cdecl *off_442CE0)(void *, int) = &sub_417FA2; // weak
int (__cdecl *off_442CEC)(int) = &sub_41800B; // weak
int (__cdecl *off_442D0C)(void *, int) = &sub_417A6B; // weak
int (__cdecl *off_442D18)(int) = &sub_41801F; // weak
int (__cdecl *off_442D24)(int) = &sub_418015; // weak
int (__cdecl *off_442D34)(void *, char) = &sub_41684E; // weak
int (__cdecl *off_442D44)(int, int, int) = &sub_416781; // weak
int (__cdecl *off_442D54)(int, int, int) = &sub_416781; // weak
int (__cdecl *off_442D64)(int, int, char *) = &sub_415A75; // weak
_UNKNOWN *off_442D80 = &loc_418089; // weak
_UNKNOWN *off_442D90 = &loc_418075; // weak
int (__cdecl *off_442DA4)(int, int, char *) = &sub_414B2A; // weak
int (__cdecl *off_442DB8)(int, int) = &sub_40D8A9; // weak
_UNKNOWN *off_442DD4 = &loc_418217; // weak
_UNKNOWN *off_442DE4 = &loc_418203; // weak
int (__cdecl *off_442DF8)(void *, char) = &sub_418221; // weak
int (__cdecl *off_442E0C[2])(int) = { &sub_4182A2, &sub_418298 }; // weak
char aResolution0[] = "resolution > 0"; // idb
char aTimernfxCpp[] = "timernfx.cpp"; // idb
char aPrecondition_35[] = "Precondition"; // idb
char aDataDelay0Data[] = "data.Delay > 0 && data.TimeProc != NULL"; // idb
char aTimernfxCpp_0[] = "timernfx.cpp"; // idb
char aCheck_8[] = "Check"; // idb
char aImgWnd[] = "img && wnd"; // idb
char aTimernfxCpp_1[] = "timernfx.cpp"; // idb
char aPrecondition_36[] = "Precondition"; // idb
char aGethandle_5[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_5[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_37[] = "Precondition"; // idb
char aImageWindow[] = "Image && Window"; // idb
char aTimernfxCpp_2[] = "timernfx.cpp"; // idb
char aPrecondition_38[] = "Precondition"; // idb
char aGethandle_6[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_6[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_39[] = "Precondition"; // idb
char aGethandle_7[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_7[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_40[] = "Precondition"; // idb
char aGethandle_8[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_8[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_41[] = "Precondition"; // idb
char aGethandle_9[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_9[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_42[] = "Precondition"; // idb
char aImageWidthImag[] = "Image->Width() && Image->Height()"; // idb
char aTimernfxCpp_3[] = "timernfx.cpp"; // idb
char aCheck_9[] = "Check"; // idb
char aTics[] = "tics"; // idb
char aTimernfxCpp_4[] = "timernfx.cpp"; // idb
char aPrecondition_43[] = "Precondition"; // idb
char aGethandle_10[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_10[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_44[] = "Precondition"; // idb
int (__cdecl *off_443638)(void *, char) = &sub_41A872; // weak
int (__cdecl *off_443660)(void *, char) = &sub_41A92B; // weak
int (__cdecl *off_443684)(void *, char) = &sub_41A9BC; // weak
int (__cdecl *off_4436A8)(void *, char) = &sub_41AA1C; // weak
int (__cdecl *off_4436C8)(void *, char) = &sub_418F0F; // weak
_UNKNOWN unk_44370C; // weak
LPDIRECTDRAW lpDD = NULL; // idb
int dword_4437A0 = 0; // weak
int dword_4437A4 = 0; // weak
int dword_4437A8 = 0; // weak
int dword_4437AC = 0; // weak
int dword_4437B0 = 0; // weak
int dword_4437B4 = 0; // weak
int dword_4437B8 = 0; // weak
CHAR Text[] = "DirectDrawCreate FAILED"; // idb
CHAR aQueryinterface[] = "QueryInterface FAILED"; // idb
CHAR aSetcooperative[] = "SetCooperativeLevel FAILED"; // idb
CHAR aCouldnTSetDisp[] = "Couldn't set display mode."; // idb
_UNKNOWN unk_4439B0; // weak
char byte_443D39 = '\0'; // idb
char byte_443D3A = '\0'; // idb
char aWaveaudio[] = "waveaudio"; // idb
char byte_443D45 = '\0'; // idb
char aSequencer[] = "sequencer"; // idb
char aGethandle_11[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_11[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_45[] = "Precondition"; // idb
char aGethandle_12[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_12[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_46[] = "Precondition"; // idb
char aGethandle_13[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_13[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_47[] = "Precondition"; // idb
char aGethandle_14[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_14[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_48[] = "Precondition"; // idb
char aGethandle_15[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_15[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_49[] = "Precondition"; // idb
char aGethandle_16[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_16[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_50[] = "Precondition"; // idb
char aGethandle_17[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_17[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_51[] = "Precondition"; // idb
char aGethandle_18[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_18[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_52[] = "Precondition"; // idb
char aGethandle_19[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_19[] = "C:\\BC5\\INCLUDE\\OWL\\WINDOW.H"; // idb
char aPrecondition_53[] = "Precondition"; // idb
int (__cdecl *off_443F3C)(std::strstreambuf *, int) = &sub_41C79A; // weak
int (__cdecl *off_443F80)(int) = &sub_41C996; // weak
_UNKNOWN *off_444004 = &loc_41C977; // weak
int (__cdecl *off_444010)(int) = &sub_41C96A; // weak
void (*off_444020)(TStreamableBase *__hidden this) = &TStreamableBase::~TStreamableBase; // weak
_UNKNOWN *off_444030 = &TEventHandler::Find; // weak
int (__cdecl *off_444040)(std::strstreambuf *, char) = &sub_41CA24; // weak
int (__cdecl *off_444084)(std::strstreambuf *, char) = &std::ctype<wchar_t>::~ctype; // weak
int (__cdecl *off_4440C8)(std::strstreambuf *, char) = &sub_41C6A3; // weak
void (__cdecl *off_44410C)(std::strstreambuf *__hidden this) = &std::strstreambuf::~strstreambuf; // weak
char aIndexNumentrie[] = "index < NumEntries"; // idb
char aPaletteCpp[] = "palette.cpp"; // idb
char aPrecondition_54[] = "Precondition"; // idb
char aVnpalette[] = "VNPALETTE"; // idb
int (__cdecl *off_444320)(void *, char) = &sub_41D38B; // weak
char aDibPalette[] = "Dib && palette"; // idb
char aGdiobjecCpp[] = "gdiobjec.cpp"; // idb
char aPrecondition_55[] = "Precondition"; // idb
char aLocLowerboundZ_3[] = "loc >= Lowerbound && ZeroBase(loc) < Data.Limit()"; // idb
char aCBc5IncludeCla_24[] = "C:\\BC5\\INCLUDE\\classlib/arrays.h"; // idb
char aPrecondition_56[] = "Precondition"; // idb
char aLim0Data0Index_13[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_25[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_57[] = "Precondition"; // idb
char aANull[] = "a != NULL"; // idb
char aGdiobjecCpp_0[] = "gdiobjec.cpp"; // idb
char aPrecondition_58[] = "Precondition"; // idb
char aLim0Data0Index_14[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_26[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_59[] = "Precondition"; // idb
int (__cdecl *off_4449CC)(void *, char) = &sub_41E119; // weak
int (__cdecl *off_4449DC)(void *, char) = &sub_41DA7B; // weak
int (__cdecl *off_4449EC)(TBitmap *, char) = &sub_41D898; // weak
int (__cdecl *off_444A04)(void *, char) = &sub_41E9A2; // weak
int off_444A14 = 4316990; // idb
int dword_444A18 = 7; // idb
int nNumber = 12; // idb
int nNumerator = 72; // idb
_DWORD dword_444A38[1] = { 0 }; // weak
_UNKNOWN unk_444A3C; // weak
_UNKNOWN unk_444A40; // weak
_UNKNOWN unk_444A44; // weak
_UNKNOWN unk_444A48; // weak
_UNKNOWN unk_444A4C; // weak
_UNKNOWN unk_444A50; // weak
_UNKNOWN unk_444A54; // weak
_UNKNOWN unk_444A58; // weak
_UNKNOWN unk_444A5C; // weak
_UNKNOWN unk_444A60; // weak
_UNKNOWN unk_444A64; // weak
_UNKNOWN unk_444A68; // weak
_UNKNOWN unk_444A6C; // weak
_UNKNOWN unk_444A70; // weak
_UNKNOWN unk_444A74; // weak
_UNKNOWN unk_444A78; // weak
_UNKNOWN unk_444A7C; // weak
_UNKNOWN unk_444A80; // weak
_UNKNOWN unk_444A84; // weak
_UNKNOWN unk_444A88; // weak
_UNKNOWN unk_444A8C; // weak
_UNKNOWN unk_444A90; // weak
_UNKNOWN unk_444A94; // weak
_UNKNOWN unk_444A98; // weak
_UNKNOWN unk_444A9C; // weak
_UNKNOWN unk_444AA0; // weak
_UNKNOWN unk_444AA4; // weak
_UNKNOWN unk_444AA8; // weak
_UNKNOWN unk_444AAC; // weak
_UNKNOWN unk_444AB0; // weak
_UNKNOWN unk_444AB4; // weak
_UNKNOWN unk_444AB8; // weak
_UNKNOWN unk_444ABC; // weak
_UNKNOWN unk_444AC0; // weak
_UNKNOWN unk_444AC4; // weak
_UNKNOWN unk_444AC8; // weak
_UNKNOWN unk_444ACC; // weak
_UNKNOWN unk_444AD0; // weak
_UNKNOWN unk_444AD4; // weak
_UNKNOWN unk_444AD8; // weak
_UNKNOWN unk_444ADC; // weak
_UNKNOWN unk_444AE0; // weak
_UNKNOWN unk_444AE4; // weak
_UNKNOWN unk_444AE8; // weak
_UNKNOWN unk_444AEC; // weak
_UNKNOWN unk_444AF0; // weak
_UNKNOWN unk_444AF4; // weak
_UNKNOWN unk_444AF8; // weak
_UNKNOWN unk_444AFC; // weak
_UNKNOWN unk_444B00; // weak
_UNKNOWN unk_444B04; // weak
_UNKNOWN unk_444B08; // weak
_UNKNOWN unk_444B0C; // weak
_UNKNOWN unk_444B10; // weak
_UNKNOWN unk_444B14; // weak
_UNKNOWN unk_444B18; // weak
_UNKNOWN unk_444B1C; // weak
_UNKNOWN unk_444B20; // weak
_UNKNOWN unk_444B24; // weak
_UNKNOWN unk_444B28; // weak
_UNKNOWN unk_444B2C; // weak
_UNKNOWN unk_444B30; // weak
_UNKNOWN unk_444B34; // weak
_UNKNOWN unk_444B38; // weak
_UNKNOWN unk_444B3C; // weak
_UNKNOWN unk_444B40; // weak
_UNKNOWN unk_444B44; // weak
_UNKNOWN unk_444B48; // weak
_UNKNOWN unk_444B4C; // weak
_UNKNOWN unk_444B50; // weak
_UNKNOWN unk_444B54; // weak
_UNKNOWN unk_444B58; // weak
_UNKNOWN unk_444B5C; // weak
_UNKNOWN unk_444B60; // weak
_UNKNOWN unk_444B64; // weak
_UNKNOWN unk_444B68; // weak
_UNKNOWN unk_444B6C; // weak
_UNKNOWN unk_444B70; // weak
_UNKNOWN unk_444B74; // weak
_UNKNOWN unk_444B78; // weak
_UNKNOWN unk_444B7C; // weak
_UNKNOWN unk_444B80; // weak
_UNKNOWN unk_444B84; // weak
_UNKNOWN unk_444B88; // weak
_UNKNOWN unk_444B8C; // weak
_UNKNOWN unk_444B90; // weak
_UNKNOWN unk_444B94; // weak
_UNKNOWN unk_444B98; // weak
_UNKNOWN unk_444B9C; // weak
_UNKNOWN unk_444BA0; // weak
_UNKNOWN unk_444BA4; // weak
_UNKNOWN unk_444BA8; // weak
_UNKNOWN unk_444BAC; // weak
_UNKNOWN unk_444BB0; // weak
_UNKNOWN unk_444BB4; // weak
_UNKNOWN unk_444BB8; // weak
_UNKNOWN unk_444BBC; // weak
_UNKNOWN unk_444BC0; // weak
_UNKNOWN unk_444BC4; // weak
_UNKNOWN unk_444BC8; // weak
_UNKNOWN unk_444BCC; // weak
_UNKNOWN unk_444BD0; // weak
_UNKNOWN unk_444BD4; // weak
_UNKNOWN unk_444BD8; // weak
_UNKNOWN unk_444BDC; // weak
_UNKNOWN unk_444BE0; // weak
_UNKNOWN unk_444BE4; // weak
_UNKNOWN unk_444BE8; // weak
_UNKNOWN unk_444BEC; // weak
_UNKNOWN unk_444BF0; // weak
_UNKNOWN unk_444BF4; // weak
_UNKNOWN unk_444BF8; // weak
_UNKNOWN unk_444BFC; // weak
_UNKNOWN unk_444C00; // weak
_UNKNOWN unk_444C04; // weak
_UNKNOWN unk_444C08; // weak
_UNKNOWN unk_444C0C; // weak
_UNKNOWN unk_444C10; // weak
_UNKNOWN unk_444C14; // weak
_UNKNOWN unk_444C18; // weak
_UNKNOWN unk_444C1C; // weak
_UNKNOWN unk_444C20; // weak
_UNKNOWN unk_444C24; // weak
_UNKNOWN unk_444C28; // weak
_UNKNOWN unk_444C2C; // weak
_UNKNOWN unk_444C30; // weak
_UNKNOWN unk_444C34; // weak
_UNKNOWN unk_444C38; // weak
_UNKNOWN unk_444C3C; // weak
_UNKNOWN unk_444C40; // weak
_UNKNOWN unk_444C44; // weak
_UNKNOWN unk_444C48; // weak
_UNKNOWN unk_444C4C; // weak
_UNKNOWN unk_444C50; // weak
_UNKNOWN unk_444C54; // weak
_UNKNOWN unk_444C58; // weak
_UNKNOWN unk_444C5C; // weak
_UNKNOWN unk_444C60; // weak
_UNKNOWN unk_444C64; // weak
_UNKNOWN unk_444C68; // weak
_UNKNOWN unk_444C6C; // weak
_UNKNOWN unk_444C70; // weak
_UNKNOWN unk_444C74; // weak
_UNKNOWN unk_444C78; // weak
_UNKNOWN unk_444C7C; // weak
_UNKNOWN unk_444C80; // weak
_UNKNOWN unk_444C84; // weak
_UNKNOWN unk_444C88; // weak
_UNKNOWN unk_444C8C; // weak
_UNKNOWN unk_444C90; // weak
_UNKNOWN unk_444C94; // weak
_UNKNOWN unk_444C98; // weak
_UNKNOWN unk_444C9C; // weak
_UNKNOWN unk_444CA0; // weak
_UNKNOWN unk_444CA4; // weak
char byte_4460FE[2] = { '\xE8', '\0' }; // weak
char byte_446109[2] = { '\xE9', '\0' }; // weak
char byte_446114[2] = { '\xE0', '\0' }; // weak
char byte_44611F[2] = { '\xF9', '\0' }; // weak
char byte_446129[2] = { '\xE2', '\0' }; // weak
char byte_446133[2] = { '\xEA', '\0' }; // weak
char byte_44613D[2] = { '\xEE', '\0' }; // weak
char byte_446147[2] = { '\xF4', '\0' }; // weak
char byte_446151[2] = { '\xFB', '\0' }; // weak
char byte_44615A[2] = { '\xE4', '\0' }; // weak
char byte_446163[2] = { '\xEB', '\0' }; // weak
char byte_44616C[2] = { '\xEF', '\0' }; // weak
char byte_446175[2] = { '\xF6', '\0' }; // weak
char byte_44617E[2] = { '\xFC', '\0' }; // weak
char byte_446187[2] = { '\xFF', '\0' }; // weak
char byte_446192[2] = { '\xE7', '\0' }; // weak
char byte_44619C[2] = { '\x9C', '\0' }; // weak
char byte_4461A6[2] = { '\x8C', '\0' }; // weak
char byte_4461B0[2] = { '\xAB', '\0' }; // weak
char byte_4461BA[2] = { '\xBB', '\0' }; // weak
char byte_4461E2[2] = { '\xA0', '\0' }; // weak
char byte_4461EC[2] = { '\x99', '\0' }; // weak
char byte_4461F5[2] = { '\xA9', '\0' }; // weak
char byte_4461FD[2] = { '\xAE', '\0' }; // weak
char byte_446208[2] = { '\xE1', '\0' }; // weak
char byte_446213[2] = { '\xED', '\0' }; // weak
char byte_44621E[2] = { '\xF3', '\0' }; // weak
char byte_446229[2] = { '\xFA', '\0' }; // weak
char byte_446234[2] = { '\xFD', '\0' }; // weak
char byte_44623F[2] = { '\xEC', '\0' }; // weak
char byte_44624A[2] = { '\xF2', '\0' }; // weak
char byte_446254[2] = { '\xE5', '\0' }; // weak
char byte_44625E[2] = { '\xE6', '\0' }; // weak
char byte_446269[2] = { '\xE3', '\0' }; // weak
char byte_446274[2] = { '\xF5', '\0' }; // weak
char byte_44627F[2] = { '\xF1', '\0' }; // weak
char byte_44628A[2] = { '\xC0', '\0' }; // weak
char byte_446295[2] = { '\xC1', '\0' }; // weak
char byte_44629F[2] = { '\xC2', '\0' }; // weak
char byte_4462AA[2] = { '\xC3', '\0' }; // weak
char byte_4462B3[2] = { '\xC4', '\0' }; // weak
char byte_4462BD[2] = { '\xC5', '\0' }; // weak
char byte_4462C7[2] = { '\xC6', '\0' }; // weak
char byte_4462D2[2] = { '\xC7', '\0' }; // weak
char byte_4462DD[2] = { '\xC8', '\0' }; // weak
char byte_4462E8[2] = { '\xC9', '\0' }; // weak
char byte_4462F2[2] = { '\xCA', '\0' }; // weak
char byte_4462FB[2] = { '\xCB', '\0' }; // weak
char byte_446306[2] = { '\xCC', '\0' }; // weak
char byte_446311[2] = { '\xCD', '\0' }; // weak
char byte_44631B[2] = { '\xCE', '\0' }; // weak
char byte_446324[2] = { '\xCF', '\0' }; // weak
char byte_44632C[2] = { '\xD0', '\0' }; // weak
char byte_446337[2] = { '\xD1', '\0' }; // weak
char byte_446342[2] = { '\xD2', '\0' }; // weak
char byte_44634D[2] = { '\xD3', '\0' }; // weak
char byte_446357[2] = { '\xD4', '\0' }; // weak
char byte_446362[2] = { '\xD5', '\0' }; // weak
char byte_44636B[2] = { '\xD6', '\0' }; // weak
char byte_446376[2] = { '\xD8', '\0' }; // weak
char byte_446381[2] = { '\xD9', '\0' }; // weak
char byte_44638C[2] = { '\xDA', '\0' }; // weak
char byte_446396[2] = { '\xDB', '\0' }; // weak
char byte_44639F[2] = { '\xDC', '\0' }; // weak
char byte_4463AA[2] = { '\xDD', '\0' }; // weak
char byte_4463B4[2] = { '\xDE', '\0' }; // weak
char byte_4463BC[2] = { '\xF0', '\0' }; // weak
char byte_4463C7[2] = { '\xF8', '\0' }; // weak
char byte_4463D1[2] = { '\xFE', '\0' }; // weak
char byte_4463DB[2] = { '\xDF', '\0' }; // weak
char byte_4463E4[2] = { '\xB2', '\0' }; // weak
char byte_4463EF[2] = { '\xB7', '\0' }; // weak
char byte_4463F7[6] = { '\xB0', '\0', '\0', '\0', '\0', '\0' }; // weak
char aFont[] = "font"; // idb
char aHtmldataCpp[] = "htmldata.cpp"; // idb
char aPrecondition_60[] = "Precondition"; // idb
CHAR String2[] = "Times New Roman"; // idb
char byte_44642C = '\0'; // idb
char aTextStart[] = "Text[start] == '<'"; // idb
char aHtmldataCpp_0[] = "htmldata.cpp"; // idb
char aPrecondition_61[] = "Precondition"; // idb
char asc_44645A[] = ">"; // idb
char byte_44645C = '\0'; // idb
char asc_44645D[] = "&"; // idb
char asc_44645F[] = "&"; // idb
char aHref[] = "HREF"; // idb
char asc_446466[] = "\"'"; // idb
char asc_446469[] = ".\"'"; // idb
char aSize[] = "SIZE"; // idb
char aFace[] = "FACE"; // idb
char asc_446489[] = "\""; // idb
char asc_44648B[] = "\""; // idb
char aColor[] = "COLOR"; // idb
char src = '\x95'; // idb
char aTextLength[] = "Text.length()"; // idb
char aHtmldataCpp_1[] = "htmldata.cpp"; // idb
char aPrecondition_62[] = "Precondition"; // idb
char aLim0Data0Index_15[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_27[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_63[] = "Precondition"; // idb
char aBr[] = "BR"; // idb
char aOl[] = "OL"; // idb
char aOl_0[] = "OL "; // idb
char aOl_1[] = "/OL"; // idb
char aUl[] = "UL"; // idb
char aUl_0[] = "UL "; // idb
char aUl_1[] = "/UL"; // idb
char aLi_0[] = "LI"; // idb
char aTr[] = "/TR"; // idb
char aP[] = "P"; // idb
char aP_0[] = "P "; // idb
char aB[] = "B"; // idb
char aB_0[] = "/B"; // idb
char aI_2[] = "I"; // idb
char aI_3[] = "/I"; // idb
char aU_2[] = "U"; // idb
char aU_3[] = "/U"; // idb
char aH1[] = "H1"; // idb
char aH6[] = "H6"; // idb
char aH1_0[] = "/H1"; // idb
char aH6_0[] = "/H6"; // idb
char aPre[] = "PRE"; // idb
CHAR aCourierNew[] = "Courier New"; // idb
char aPre_0[] = "/PRE"; // idb
CHAR aTimesNewRoman_0[] = "Times New Roman"; // idb
char aFont_0[] = "FONT"; // idb
char aFont_1[] = "/FONT"; // idb
char aA[] = "A "; // idb
char aA_0[] = "/A"; // idb
char asc_44659A[] = "< \n"; // idb
char aLim0Data0Index_16[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_28[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_64[] = "Precondition"; // idb
char byte_4465F2 = '\0'; // idb
int (__cdecl *off_4469D8[2])(int) = { &sub_4236F2, &sub_4236FD }; // weak
int (__cdecl *off_4469F4[2])(int) = { &sub_4236F2, &sub_4236FD }; // weak
int (__cdecl *off_446A10[3])(int) = { &sub_423800, &sub_42380B, &sub_423816 }; // weak
int (__cdecl *off_446A30[2])(int) = { &sub_423821, &sub_42382C }; // weak
int (__cdecl *off_446A4C[2])(int) = { &sub_423821, &sub_42382C }; // weak
int (__cdecl *off_446A68[3])(int) = { &sub_423933, &sub_42393E, &sub_423949 }; // weak
int (__cdecl *off_446A88)(int) = &sub_423954; // weak
unsigned int dword_446A8C = 0u; // idb
int dword_446A90 = 0; // weak
UINT Msg = 0u; // idb
UINT dword_446A98 = 0u; // idb
UINT dword_446A9C = 0u; // idb
int dword_446AA0 = 0; // weak
int dword_446AA4 = 0; // idb
int dword_446AA8 = 0; // idb
_UNKNOWN unk_446AAC; // weak
_UNKNOWN unk_446AB0; // weak
int dword_446AB8 = 0; // weak
char byte_446BCD = '\0'; // idb
char byte_446BCE[2] = { '\0', '\0' }; // idb
int (__cdecl *off_446BDC)(void *, char) = &sub_4245FA; // weak
char byte_44778A = '\0'; // idb
char byte_44778B = '\0'; // idb
char byte_44778C = '\0'; // idb
char byte_44778D = '\0'; // idb
char byte_44778E = '\0'; // idb
_UNKNOWN unk_44779C; // weak
_UNKNOWN unk_4477B8; // weak
_UNKNOWN unk_4477BD; // weak
_UNKNOWN unk_4477C2; // weak
_UNKNOWN unk_4477C8; // weak
_UNKNOWN unk_4477CF; // weak
_UNKNOWN unk_4477D4; // weak
_UNKNOWN unk_4477D9; // weak
char aMain_0[5] = "MAIN"; // weak
char aLimits[7] = "LIMITS"; // weak
char aMain_1[5] = "MAIN"; // weak
char aPrefs_0[6] = "PREFS"; // weak
char aHandleHinstanc[] = "Handle > HINSTANCE(HINSTANCE_ERROR)"; // idb
char aCBc5IncludeOwl_20[] = "C:\\BC5\\INCLUDE\\owl/module.h"; // idb
char aPrecondition_65[] = "Precondition"; // idb
char aVnp[] = ".vnp"; // idb
char aLim0Data0Index_17[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_29[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_66[] = "Precondition"; // idb
int (__cdecl *off_4479F0)(void *, char) = &sub_41860C; // weak
int (__cdecl *off_447A04[2])(int) = { &sub_42668E, &sub_426684 }; // weak
int (__cdecl *off_447A18[2])(int) = { &sub_406DE5, &sub_406DF0 }; // weak
int (__cdecl *off_447A34[3])(int) = { &sub_426698, &sub_4266A3, &sub_4266AE }; // weak
int (__cdecl *off_447A50)(void *, char) = &sub_424C7E; // weak
int (__cdecl *off_447A6C[2])(int, int) = { &sub_4052EB, &sub_405354 }; // weak
char aGethandle_20[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_21[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_67[] = "Precondition"; // idb
char aGethandle_21[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_22[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_68[] = "Precondition"; // idb
char aLim0Data0Index_18[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_30[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_69[] = "Precondition"; // idb
char aLim0Data0Index_19[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_31[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_70[] = "Precondition"; // idb
char aGethandle_22[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_23[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_71[] = "Precondition"; // idb
char aMsSansSerif[] = "MS Sans Serif"; // idb
char byte_448FF0 = '\0'; // idb
char aSystem[] = "system"; // idb
char aImg[] = "Img"; // idb
char aGdiobjecH[] = "gdiobjec.h"; // idb
char aPrecondition_72[] = "Precondition"; // idb
char aGethandle_23[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_24[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_73[] = "Precondition"; // idb
char aCdaudio[] = "CDAUDIO"; // idb
char byte_449051 = '\0'; // idb
CHAR aOpen_0[] = "open"; // idb
CHAR aOpen_1[] = "open"; // idb
char aRes[] = "[RES"; // idb
char aHandleHinstanc_0[] = "Handle > HINSTANCE(HINSTANCE_ERROR)"; // idb
char aCBc5IncludeOwl_25[] = "C:\\BC5\\INCLUDE\\owl/module.h"; // idb
char aPrecondition_74[] = "Precondition"; // idb
char aGethandle_24[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_26[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_75[] = "Precondition"; // idb
char aImg_0[] = "Img"; // idb
char aGdiobjecH_0[] = "gdiobjec.h"; // idb
char aPrecondition_76[] = "Precondition"; // idb
char aGethandle_25[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_27[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_77[] = "Precondition"; // idb
char aGethandle_26[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_28[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_78[] = "Precondition"; // idb
char byte_449169 = '\0'; // idb
char aGethandle_27[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_29[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_79[] = "Precondition"; // idb
char aGethandle_28[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_30[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_80[] = "Precondition"; // idb
char aGethandle_29[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_31[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_81[] = "Precondition"; // idb
char aGethandle_30[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_32[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_82[] = "Precondition"; // idb
char aGethandle_31[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_33[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_83[] = "Precondition"; // idb
char aVnsetdllargume[18] = "VNSetDLLArguments"; // weak
char aHandleHinstanc_3[36] = "Handle > HINSTANCE(HINSTANCE_ERROR)"; // weak
char aCBc5IncludeOwl_68[28] = "C:\\BC5\\INCLUDE\\owl/module.h"; // weak
char aPrecondition_162[13] = "Precondition"; // weak
char aVncreatedllwin[18] = "VNCreateDLLWindow"; // weak
char aHandleHinstanc_4[36] = "Handle > HINSTANCE(HINSTANCE_ERROR)"; // weak
char aCBc5IncludeOwl_69[28] = "C:\\BC5\\INCLUDE\\owl/module.h"; // weak
char aPrecondition_163[13] = "Precondition"; // weak
CHAR aVndestroydllwi[] = "VNDestroyDLLWindow"; // idb
char aHandleHinstanc_1[] = "Handle > HINSTANCE(HINSTANCE_ERROR)"; // idb
char aCBc5IncludeOwl_34[] = "C:\\BC5\\INCLUDE\\owl/module.h"; // idb
char aPrecondition_84[] = "Precondition"; // idb
char aVnsavfile[] = "VNSAVFILE"; // idb
char aVnsavfile_0[] = "VNSAVFILE"; // idb
int (__cdecl *off_449490[2])(int) = { &sub_42A802, &sub_42A80D }; // weak
int (__cdecl *off_4494AC)(void *, int) = &sub_42A824; // weak
int (__cdecl *off_4494B8)(int) = &sub_42A8FD; // weak
int (__cdecl *off_4494C8)(void *, char) = &sub_42A547; // weak
int (__cdecl *off_4494D4)(int) = &sub_42A911; // weak
int (__cdecl *off_4494E0)(int) = &ifstream::{thunk}; // weak
int (__cdecl *off_4494F0)(void *, char) = &sub_42A91B; // weak
int (__cdecl *off_449510)(void *, char) = &sub_42A978; // weak
int (__cdecl *off_449614)(TDialog *, int) = &sub_42AF80; // weak
_UNKNOWN *off_44965C = &loc_42B37E; // weak
int (__cdecl *off_449668)(int) = &sub_42B374; // weak
int (__cdecl *off_449674[2])(TDialog *) = { &sub_42B361, &TWindow::Register }; // weak
int (__cdecl *off_449DA4)(TDialog *, int) = &sub_42B816; // weak
_UNKNOWN *off_449DEC = &loc_42C3C0; // weak
int (__cdecl *off_449DF8)(int) = &sub_42C3B6; // weak
int (__cdecl *off_449E04[2])(TDialog *) = { &sub_42C3A3, &TWindow::Register }; // weak
int (__cdecl *off_449FD0)(TDialog *, int) = &sub_42C654; // weak
_UNKNOWN *off_44A014 = &loc_42C9D2; // weak
int (__cdecl *off_44A020)(int) = &sub_42C9C8; // weak
int (__cdecl *off_44A02C[3])(TDialog *) = { &sub_42C9B5, &TWindow::Register, &sub_42C9A2 }; // weak
int (__cdecl *off_44A0B4)(TDialog *, int) = &sub_42CA5D; // weak
_UNKNOWN *off_44A0F8 = &loc_42CBD8; // weak
int (__cdecl *off_44A104)(int) = &sub_42CBCE; // weak
int (__cdecl *off_44A110[3])(TDialog *) = { &sub_42CBBB, &TWindow::Register, &sub_42CBA8 }; // weak
int dword_44A5E8 = 0; // weak
int dword_44A600 = 0; // weak
int dword_44A618 = 0; // weak
int dword_44A630 = 0; // weak
TWindow *dword_44A9F0 = NULL; // idb
char aRes_0[] = "[RES"; // idb
char aRes_1[] = "<RES"; // idb
char aLim0Data0Index_20[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_32[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_85[] = "Precondition"; // idb
char aGethandle_32[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_35[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_86[] = "Precondition"; // idb
CHAR aWmVncommand[] = "wm_vncommand"; // idb
CHAR aWmScroll[] = "wm_scroll"; // idb
CHAR aWmZoom[] = "wm_zoom"; // idb
CHAR aWmFullscreen[] = "wm_fullscreen"; // idb
char aImg_2[] = "Img"; // idb
char aGdiobjecH_1[] = "gdiobjec.h"; // idb
char aPrecondition_87[] = "Precondition"; // idb
char aImg_1[] = "Img"; // idb
char aGdiobjecH_2[] = "gdiobjec.h"; // idb
char aPrecondition_88[] = "Precondition"; // idb
char aCdaudio_0[] = "cdaudio"; // idb
char aAvivideo[] = "avivideo"; // idb
char aGethandle_33[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_36[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_89[] = "Precondition"; // idb
char aGethandle_34[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_37[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_90[] = "Precondition"; // idb
char aGethandle_35[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_38[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_91[] = "Precondition"; // idb
char aGethandle_36[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_39[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_92[] = "Precondition"; // idb
char aGethandle_37[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_40[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_93[] = "Precondition"; // idb
char aGethandle_38[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_41[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_94[] = "Precondition"; // idb
char aGethandle_39[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_42[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_95[] = "Precondition"; // idb
char aGethandle_40[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_43[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_96[] = "Precondition"; // idb
char aLim0Data0Index_21[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_34[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_98[] = "Precondition"; // idb
char aArial[] = "Arial"; // idb
char aGethandle_41[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_44[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_99[] = "Precondition"; // idb
char aGethandle_42[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_45[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_100[] = "Precondition"; // idb
char aGethandle_43[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_46[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_101[] = "Precondition"; // idb
char aGethandle_44[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_47[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_102[] = "Precondition"; // idb
char aGethandle_45[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_48[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_103[] = "Precondition"; // idb
char aGetapplication[] = "GetApplication()"; // idb
char aCBc5IncludeOwl_49[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aGethandle_46[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_50[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_104[] = "Precondition"; // idb
char aPrecondition_105[] = "Precondition"; // idb
char aGethandle_47[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_51[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_106[] = "Precondition"; // idb
char aGethandle_48[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_52[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_107[] = "Precondition"; // idb
char aLim0Data0Index_22[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_35[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_108[] = "Precondition"; // idb
char aLim0Data0Index_23[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_36[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_109[] = "Precondition"; // idb
char aLim0Data0Index_24[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_37[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_110[] = "Precondition"; // idb
char aGethandle_49[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_53[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_111[] = "Precondition"; // idb
char aGethandle_50[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_54[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_112[] = "Precondition"; // idb
char aGethandle_51[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_55[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_113[] = "Precondition"; // idb
char aGethandle_52[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_56[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_114[] = "Precondition"; // idb
char aGethandle_53[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_57[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_115[] = "Precondition"; // idb
char aSystem_0[] = "SYSTEM"; // idb
char aSystem_1[] = "system"; // idb
char aLim0Data0Index_25[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_39[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_117[] = "Precondition"; // idb
char aLim0Data0Index_26[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_41[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_119[] = "Precondition"; // idb
char aGethandle_54[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_58[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_120[] = "Precondition"; // idb
char aLim0Data0Index_27[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_43[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_122[] = "Precondition"; // idb
char aLim0Data0Index_28[] = "Lim > 0 && Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_45[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_124[] = "Precondition"; // idb
char aLim0Data0Index_29[] = "Lim == 0 || Data != 0 && index < Lim"; // idb
char aCBc5IncludeCla_46[] = "C:\\BC5\\INCLUDE\\classlib/vectimp.h"; // idb
char aPrecondition_125[] = "Precondition"; // idb
char aSize0[] = "Size > 0"; // idb
char aHistqueuH[] = "histqueu.h"; // idb
char aPrecondition_126[] = "Precondition"; // idb
char aCandonext[] = "CanDoNext()"; // idb
char aHistqueuH_0[] = "histqueu.h"; // idb
char aPrecondition_127[] = "Precondition"; // idb
char aCandoprev[] = "CanDoPrev()"; // idb
char aHistqueuH_1[] = "histqueu.h"; // idb
char aPrecondition_128[] = "Precondition"; // idb
char byte_44CFAF = '\0'; // idb
int (__cdecl *off_44CFF4)(TBitmap *, char) = &sub_4365C4; // weak
int (__cdecl *off_44D00C)(std::strstreambuf *, int) = &sub_43660B; // weak
int (__cdecl *off_44D050)(int) = &sub_4366C9; // weak
_UNKNOWN *off_44D0D4 = &loc_4366AA; // weak
int (__cdecl *off_44D0E0)(int) = &sub_43669D; // weak
int (__cdecl *off_44D0F0)(std::strstreambuf *, char) = &sub_4366D3; // weak
int (__cdecl *off_44D134[2])(int) = { &sub_406DE5, &sub_406DF0 }; // weak
int (__cdecl *off_44D150[3])(int) = { &sub_436722, &sub_43672D, &sub_436738 }; // weak
int (__cdecl *off_44D16C)(TWindow *, int) = &sub_42DEBC; // weak
_UNKNOWN *off_44D1FC = &loc_436750; // weak
int (__cdecl *off_44D208)(int) = &sub_436743; // weak
int (__cdecl *off_44D218)(void *, char) = &sub_42D471; // weak
int (__cdecl *off_44D228)(TBitmap *, char) = &sub_436765; // weak
_UNKNOWN unk_44D234; // weak
int (__cdecl *off_44D388)(TFrameWindow *, int) = &sub_436C07; // weak
_UNKNOWN *off_44D3D4 = &loc_436D82; // weak
int (__cdecl *off_44D3E0)(int) = &sub_436D78; // weak
int (__cdecl *off_44D3EC[3])(TFrameWindow *) = { &sub_436D65, &TWindow::Register, &TWindow::Create }; // weak
int (*off_44D474)() = &_pure_error_; // weak
char aHandleHinstanc_2[] = "Handle > HINSTANCE(HINSTANCE_ERROR)"; // idb
char aCBc5IncludeOwl_59[] = "C:\\BC5\\INCLUDE\\owl/module.h"; // idb
char aPrecondition_129[] = "Precondition"; // idb
char aVarfileinfoTra[] = "\\VarFileInfo\\Translation"; // idb
char aProductname[12] = "ProductName"; // weak
char aProductversion[15] = "ProductVersion"; // weak
char aLegalcopyright[15] = "LegalCopyright"; // weak
char aGethandle_55[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_60[] = "C:\\BC5\\INCLUDE\\owl/static.h"; // idb
char aPrecondition_130[] = "Precondition"; // idb
char aGethandle_56[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_61[] = "C:\\BC5\\INCLUDE\\owl/static.h"; // idb
char aPrecondition_131[] = "Precondition"; // idb
char aGethandle_57[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_62[] = "C:\\BC5\\INCLUDE\\owl/static.h"; // idb
char aPrecondition_132[] = "Precondition"; // idb
char aGethandle_58[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_63[] = "C:\\BC5\\INCLUDE\\owl/static.h"; // idb
char aPrecondition_133[] = "Precondition"; // idb
int (__cdecl *off_44D984)(void *, char) = &sub_437289; // weak
_UNKNOWN unk_44D988; // weak
char aGethandle_59[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_64[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_134[] = "Precondition"; // idb
char aGethandle_60[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_65[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_135[] = "Precondition"; // idb
char aGethandle_61[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_66[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_136[] = "Precondition"; // idb
CHAR ValueName[] = "CDPATH"; // idb
char aGethandle_62[] = "GetHandle()"; // idb
char aCBc5IncludeOwl_67[] = "C:\\BC5\\INCLUDE\\owl/window.h"; // idb
char aPrecondition_137[] = "Precondition"; // idb
CHAR String[] = "wm_vndraplistdrop"; // idb
CHAR aWmScroll_0[] = "wm_scroll"; // idb
CHAR aWmZoom_0[] = "wm_zoom"; // idb
CHAR aWmFullscreen_0[] = "wm_fullscreen"; // idb
int (__cdecl *off_44E09C)(TDialog *, int) = &sub_438B9B; // weak
_UNKNOWN *off_44E0E0 = &loc_438D1E; // weak
int (__cdecl *off_44E0EC)(int) = &sub_438D14; // weak
int (__cdecl *off_44E0F8[3])(TDialog *) = { &sub_438D01, &TWindow::Register, &sub_438CEE }; // weak
int (__cdecl *off_44E180)(TApplication *, int) = &sub_437DFD; // weak
int (__cdecl *off_44E1C4)(int) = &sub_438D8C; // weak
_DWORD (*off_44E1D8)(TThread *__hidden this) = &TThread::Terminate; // weak
_UNKNOWN *off_44E200 = &loc_438D31; // weak
int dword_44E204 = 0; // weak
_UNKNOWN unk_44E20C; // weak
char byte_44E221 = '\0'; // weak
__int16 word_44E2A4 = 0; // weak
__int16 word_44E2A6 = 0; // weak
HMODULE hModule = NULL; // idb
int (__stdcall *CompareStringA)(LCID Locale, DWORD dwCmpFlags, PCNZCH lpString1, int cchCount1, PCNZCH lpString2, int cchCount2) = NULL;
char byte_44E390 = '\0'; // weak
CHAR ModuleName[] = "kernel32"; // idb
CHAR ProcName[] = "CompareStringA"; // idb
__int16 word_44E3AC = 0; // idb
_UNKNOWN unk_44E3D4; // weak
HKEY hKey = NULL; // idb
HKEY phkResult = NULL; // idb
_UNKNOWN unk_44E416; // weak
char byte_44E427 = '\0'; // weak
_UNKNOWN unk_44E44C; // weak
char byte_44E45D = '\0'; // weak
_UNKNOWN unk_44E482; // weak
char byte_44E493 = '\0'; // weak
_UNKNOWN unk_44E4B8; // weak
char byte_44E4C9 = '\0'; // weak
_UNKNOWN unk_44E4EE; // weak
char byte_44E4FF = '\0'; // weak
_UNKNOWN unk_44E524; // weak
char byte_44E535 = '\0'; // weak
char aHkeyClassesRoo[] = "HKEY_CLASSES_ROOT"; // idb
char aClsid[] = "CLSID"; // idb
int (__cdecl *off_44E928)(TXBase *, char) = &sub_4032B9; // weak
_BYTE *dword_44EC00; // weak
_DWORD dword_44EC04; // weak
int dword_44EC08; // weak
char byte_44EC10[4]; // weak
_UNKNOWN dword_44EC14; // weak
int dword_44EC18; // weak
int dword_44EC1C; // weak
int dword_44EC20; // weak
_UNKNOWN unk_44EC24; // weak
_UNKNOWN unk_44EC28; // weak
_UNKNOWN unk_44EC2C; // weak
int dword_44EC30; // weak
_UNKNOWN unk_44EC34; // weak
int dword_44EC44; // weak
int dword_44EC48; // weak
char byte_44EC4C; // weak
char byte_44EC4D; // weak
TPalette *dword_44EC50; // idb
TPalette *dword_44EC54; // idb
int dword_44EC60; // weak
int dword_44EC64; // weak
int dword_44EC68; // weak
int dword_44EC6C; // weak
int dword_44EC70; // weak
_UNKNOWN unk_44EC74; // weak
int dword_44EC75; // weak
int dword_44EC79; // weak
int dword_44EC7D; // weak
int dword_44EC95; // weak
int dword_44EC99; // weak
int dword_44EC9D; // weak
int dword_44ECA1; // weak
_UNKNOWN unk_44ECA9; // weak
_UNKNOWN unk_44ECAD; // weak
int dword_44ECB1; // weak
char arglist[]; // idb
int dword_44ECB9; // weak
char byte_44ECCD; // weak
int dword_44ECCE[8]; // weak
int dword_44ECF1; // weak
int dword_44ECFC; // weak
// extern _UNKNOWN filebuf::openprot; weak
// extern _UNKNOWN TColor::LtBlue; weak
// extern TColor *TColor::LtGray; idb
// extern TColor *TColor::White; idb
// extern TColor *TColor::Black; idb
// extern _UNKNOWN TUIMetric::CyScreen; weak
// extern _UNKNOWN TUIMetric::CxScreen; weak
// extern _UNKNOWN TApplication::InitHPrevInstance; weak
// extern _UNKNOWN TApplication::InitHInstance; weak
// extern _UNKNOWN TApplication::InitCmdShow; weak


//----- (004010C0) --------------------------------------------------------
LPVOID sub_4010C0()
{
  LPVOID result; // eax

  result = TlsGetValue(TlsIndex);
  if ( result )
    return LocalFree(result);
  return result;
}

//----- (00401158) --------------------------------------------------------
// write access to const memory has been detected, the output may be wrong!
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd)
{
  string *InitCmdLine; // eax
  TApplication *v6; // [esp+0h] [ebp-38h]
  _BYTE v7[4]; // [esp+30h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  if ( !dword_44E204 )
  {
    if ( !byte_44E221 )
    {
      TModule::TModule((TModule *)&unk_44E20C, 0, hInstance);
      ++byte_44E221;
    }
    dword_44E204 = (int)&unk_44E20C;
  }
  TApplication::InitHInstance = hInstance;
  TApplication::InitHPrevInstance = hPrevInstance;
  string::string((string *)v7, lpCmdLine);
  InitCmdLine = (string *)TApplication::GetInitCmdLine(v6);
  string::assign(InitCmdLine, (const string *)v7, 0, 0xFFFFFFFF);
  TApplication::InitCmdShow = nShowCmd;
  string::~string((string *)v7);
  return sub_43891A();
}
// 4011BF: write access to const memory at 455E0C has been detected
// 4011C7: write access to const memory at 455DA8 has been detected
// 4011FA: write access to const memory at 455E48 has been detected
// 4011DF: variable 'v6' is possibly undefined
// 44E204: using guessed type int dword_44E204;
// 44E221: using guessed type char byte_44E221;

//----- (00401270) --------------------------------------------------------
void sub_401270()
{
  __InitExceptBlockLDTC();
  if ( byte_44E221 )
    TModule::~TModule((TModule *)&unk_44E20C);
}
// 44E221: using guessed type char byte_44E221;

//----- (004012AC) --------------------------------------------------------
_DWORD *__cdecl sub_4012AC(_DWORD *a1, int a2, int a3)
{
  __InitExceptBlockLDTC();
  *a1 = a3;
  a1[1] = a2;
  a1[2] = dword_44ECFC;
  dword_44ECFC = (int)a1;
  return a1;
}
// 44ECFC: using guessed type int dword_44ECFC;

//----- (004012EA) --------------------------------------------------------
int __cdecl sub_4012EA(int a1, int a2)
{
  return operator new(a2 + a1);
}

//----- (004012FC) --------------------------------------------------------
int __cdecl sub_4012FC(int a1, int a2, int a3, int a4, int a5)
{
  __InitExceptBlockLDTC();
  sub_4012AC((_DWORD *)a1, a2, a3);
  *(_DWORD *)(a1 + 16) = a4;
  *(_WORD *)(a1 + 12) = -1;
  *(_WORD *)(a1 + 14) = -1;
  *(_DWORD *)(a1 + 21) = a5;
  return a1;
}

//----- (00401358) --------------------------------------------------------
_DWORD *__cdecl sub_401358(_DWORD **a1, LPCSTR lpName)
{
  int v2; // esi
  LPCSTR i; // eax
  _DWORD *v4; // ebx
  const CHAR *v5; // edi
  _DWORD *result; // eax
  const CHAR *v7; // eax
  HRSRC ResourceA; // eax
  int v9; // edi
  _DWORD *v10; // eax
  HGLOBAL Resource; // eax
  void *v12; // ebx
  _BYTE *v13; // eax
  _DWORD *v14; // eax
  unsigned __int8 *v15; // eax
  unsigned __int8 v16; // dl
  char v17; // dl
  unsigned __int8 *v18; // [esp+Ch] [ebp-3Ch]
  int v19; // [esp+10h] [ebp-38h]
  LPCSTR lpString2; // [esp+14h] [ebp-34h]
  int v21; // [esp+3Ch] [ebp-Ch]

  __InitExceptBlockLDTC();
  lpString2 = lpName + 1;
  v2 = 0;
  for ( i = lpName; *i; ++i )
    v2 = *i ^ (2 * v2);
  v4 = *a1;
  if ( *a1 )
  {
    while ( 1 )
    {
      if ( v2 == *v4 )
      {
        v5 = (const CHAR *)v4[1];
        if ( *v5 != *lpString2 )
          ++v5;
        if ( sub_401A18(v5, lpString2, word_44E3AC) )
          break;
      }
      v4 = (_DWORD *)v4[2];
      if ( !v4 )
        goto LABEL_13;
    }
    if ( v5 == (const CHAR *)v4[1] )
      return v4;
    else
      return 0;
  }
  else
  {
LABEL_13:
    v7 = lpName;
    if ( *lpName != 35 )
      v7 = lpName + 1;
    ResourceA = FindResourceA(hModule, v7, (LPCSTR)0xC9);
    v9 = (int)ResourceA;
    if ( ResourceA )
    {
      Resource = LoadResource(hModule, ResourceA);
      v12 = Resource;
      if ( Resource )
      {
        v13 = LockResource(Resource);
        v19 = 4;
        if ( *v13 )
        {
          if ( *v13 < 0x20u )
            v15 = v13 + 1;
          else
            v15 = v13 - 1;
          do
          {
            v18 = ++v15;
            do
              v16 = *v15++;
            while ( v16 >= 0x20u );
            if ( v15 - v18 > v19 )
              v19 = v15 - v18;
          }
          while ( v16 );
          v21 = sub_4012EA(21, v19);
          if ( v21 )
          {
            sub_4012FC(v21, (int)lpString2, v2, v9, (int)v12);
            result = (_DWORD *)v21;
          }
          else
          {
            result = 0;
          }
          v17 = 2;
          if ( *lpName != 33 )
            v17 = 1;
          *((_BYTE *)result + 20) = v17;
        }
        else
        {
          FreeResource(v12);
          v14 = (_DWORD *)operator new(0xCu);
          if ( v14 )
            sub_4012AC(v14, (int)lpName, v2);
          return 0;
        }
      }
      else
      {
        return 0;
      }
    }
    else
    {
      v10 = (_DWORD *)operator new(0xCu);
      if ( v10 )
        sub_4012AC(v10, (int)lpName, v2);
      return 0;
    }
  }
  return result;
}

//----- (00401535) --------------------------------------------------------
int __cdecl sub_401535(int a1, __int16 a2)
{
  unsigned __int8 *v2; // eax
  __int16 v4; // ax
  __int16 v5; // dx
  unsigned __int8 *v6; // eax
  __int16 v7; // cx
  unsigned __int8 v8; // dl
  char *v9; // eax
  _BYTE *v10; // edx
  char v11; // cl
  int v12; // ebx
  __int16 v13; // [esp+Eh] [ebp-Ah]
  unsigned __int8 *v14; // [esp+10h] [ebp-8h]
  HGLOBAL hResData; // [esp+14h] [ebp-4h]

  if ( *(_WORD *)(a1 + 14) == 0xFFFF )
  {
    hResData = *(HGLOBAL *)(a1 + 21);
    *(_WORD *)(a1 + 14) = a2;
    v2 = (unsigned __int8 *)LockResource(hResData);
  }
  else
  {
    if ( *(_BYTE *)(a1 + 20) == 2 && sub_401826(a2) )
      return *(_DWORD *)(a1 + 4);
    v4 = *(_WORD *)(a1 + 12);
    if ( a2 == v4 )
      return a1 + 21;
    if ( a2 == *(_WORD *)(a1 + 14) )
    {
      if ( v4 != -1 )
        return a1 + 21;
      if ( *(_BYTE *)(a1 + 20) == 2 )
        return *(_DWORD *)(a1 + 4);
      return 0;
    }
    hResData = LoadResource(hModule, *(HRSRC *)(a1 + 16));
    if ( !hResData )
      return *(_DWORD *)(a1 + 4);
    v2 = (unsigned __int8 *)LockResource(hResData);
  }
  v14 = 0;
  v13 = -1;
  while ( 1 )
  {
    v8 = *v2;
    if ( !*v2 )
      break;
    if ( v8 <= 0x20u )
    {
      v6 = v2 + 1;
      v7 = *v6 | (unsigned __int16)((v8 - 1) << 10);
      v2 = v6 + 1;
      v5 = v7;
    }
    else
    {
      v5 = word_44E3AC;
      v13 = word_44E3AC;
      v14 = v2;
    }
    if ( a2 == v5 )
    {
      v14 = v2;
      v13 = v5;
      break;
    }
    if ( (_BYTE)v5 == (_BYTE)a2 && ((_BYTE)v13 != (_BYTE)a2 || v5 == (unsigned __int8)a2) )
    {
      v14 = v2;
      v13 = v5;
    }
    while ( *v2 >= 0x20u )
      ++v2;
  }
  if ( v14 )
  {
    while ( *v14 < 0x20u )
      v14 += 2;
    if ( *(_WORD *)(a1 + 12) != v13 )
    {
      v9 = (char *)v14;
      v10 = (_BYTE *)(a1 + 21);
      while ( (unsigned __int8)*v9 >= 0x20u )
      {
        v11 = *v9++;
        *v10++ = v11;
      }
      *v10 = 0;
      *(_WORD *)(a1 + 12) = v13;
      if ( v13 != a2 )
        *(_WORD *)(a1 + 14) = a2;
    }
    v12 = a1 + 21;
  }
  else if ( *(_BYTE *)(a1 + 20) == 2 )
  {
    v12 = *(_DWORD *)(a1 + 4);
  }
  else
  {
    v12 = 0;
  }
  FreeResource(hResData);
  return v12;
}

//----- (004016BC) --------------------------------------------------------
void __cdecl sub_4016BC(void *a1, char a2)
{
  void *v2; // edx

  if ( a1 )
  {
    while ( *(_DWORD *)a1 )
    {
      v2 = *(void **)a1;
      *(_DWORD *)a1 = *(_DWORD *)(*(_DWORD *)a1 + 8);
      operator delete(v2);
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004016ED) --------------------------------------------------------
LPCSTR __cdecl sub_4016ED(LPCSTR *a1, __int16 a2)
{
  __int16 v2; // bx
  LPCSTR result; // eax
  _DWORD *v4; // eax

  v2 = a2;
  result = *a1;
  if ( *a1 )
  {
    if ( a2 )
    {
      if ( a2 == 2048 )
      {
        v2 = word_44E2A4;
      }
      else if ( a2 == 1024 )
      {
        v2 = word_44E2A6;
      }
    }
    else
    {
      v2 = word_44E3AC;
    }
    if ( (unsigned __int8)(**a1 - 1) >= 2u )
    {
      if ( **a1 == 33 )
      {
        if ( sub_401826(v2) )
          return *a1 + 1;
        v4 = sub_401358((_DWORD **)&dword_44ECFC, *a1);
        if ( !v4 )
          return ++*a1;
      }
      else
      {
        if ( **a1 != 35 && **a1 != 64 )
          return *a1;
        v4 = sub_401358((_DWORD **)&dword_44ECFC, *a1);
        if ( !v4 )
        {
          *a1 = 0;
          return 0;
        }
      }
      *a1 = (LPCSTR)(v4 + 5);
      return (LPCSTR)sub_401535((int)v4, v2);
    }
    return (LPCSTR)sub_401535((int)(*a1 - 20), v2);
  }
  return result;
}
// 44E2A4: using guessed type __int16 word_44E2A4;
// 44E2A6: using guessed type __int16 word_44E2A6;
// 44ECFC: using guessed type int dword_44ECFC;

//----- (004017CA) --------------------------------------------------------
int __cdecl sub_4017CA(int a1)
{
  _BYTE *v1; // edx

  v1 = *(_BYTE **)a1;
  if ( !*(_DWORD *)a1 )
    return 0;
  if ( (unsigned __int8)(*v1 - 1) < 2u || *v1 == 33 )
    return *(_DWORD *)a1 + 1;
  if ( *v1 == 35 || *v1 == 64 )
    return 0;
  return *(_DWORD *)a1;
}

//----- (00401826) --------------------------------------------------------
bool __cdecl sub_401826(__int16 a1)
{
  return a1 == word_44E3AC || a1 == (unsigned __int8)word_44E3AC;
}

//----- (00401853) --------------------------------------------------------
int sub_401853()
{
  int result; // eax

  __InitExceptBlockLDTC();
  word_44E2A4 = sub_401A0C();
  LOWORD(result) = sub_401A12();
  word_44E2A6 = result;
  hModule = (HMODULE)dword_43A06B;
  dword_44ECFC = 0;
  return result;
}
// 43A06B: using guessed type int dword_43A06B;
// 44E2A4: using guessed type __int16 word_44E2A4;
// 44E2A6: using guessed type __int16 word_44E2A6;
// 44ECFC: using guessed type int dword_44ECFC;

//----- (004018A3) --------------------------------------------------------
void sub_4018A3()
{
  __InitExceptBlockLDTC();
  sub_4016BC(&dword_44ECFC, 2);
}
// 44ECFC: using guessed type int dword_44ECFC;

//----- (00401A0C) --------------------------------------------------------
// attributes: thunk
LANGID sub_401A0C()
{
  return GetSystemDefaultLangID();
}

//----- (00401A12) --------------------------------------------------------
// attributes: thunk
LANGID sub_401A12()
{
  return GetUserDefaultLangID();
}

//----- (00401A18) --------------------------------------------------------
int __cdecl sub_401A18(LPCSTR lpString1, LPCSTR lpString2, unsigned __int16 a3)
{
  HMODULE ModuleHandleA; // eax

  if ( !byte_44E390 )
  {
    ModuleHandleA = GetModuleHandleA(ModuleName);
    CompareStringA = (int (__stdcall *)(LCID, DWORD, PCNZCH, int, PCNZCH, int))GetProcAddress(ModuleHandleA, ProcName);
    ++byte_44E390;
  }
  if ( CompareStringA )
    return CompareStringA(a3, 3, lpString1, -1, lpString2, -1) - 2;
  else
    return lstrcmpiA(lpString1, lpString2);
}
// 44E390: using guessed type char byte_44E390;

//----- (00401A80) --------------------------------------------------------
LANGID sub_401A80()
{
  LANGID result; // ax

  result = sub_401A0C();
  word_44E3AC = result;
  return result;
}

//----- (00401AB9) --------------------------------------------------------
void __cdecl sub_401AB9(void **a1, char a2)
{
  void *v2; // esi

  if ( a1 )
  {
    while ( *a1 )
    {
      v2 = *(void **)*a1;
      operator delete[](*a1);
      *a1 = v2;
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00401AE9) --------------------------------------------------------
_DWORD *__cdecl sub_401AE9(_DWORD *a1, int a2)
{
  _DWORD *v2; // eax

  v2 = (_DWORD *)operator new[](a2 + 5);
  *v2 = *a1;
  *a1 = v2;
  return v2 + 1;
}

//----- (00401B09) --------------------------------------------------------
LPCSTR __cdecl sub_401B09(LPCSTR **a1, LPCSTR lpString2, __int16 a3)
{
  LPCSTR *i; // ebx

  if ( lpString2 )
  {
    for ( i = *a1; *i; i += 2 )
    {
      if ( !lstrcmpA(*i, lpString2) )
      {
        if ( i[1] )
          return sub_4016ED(i + 1, a3);
        else
          return (LPCSTR)&unk_44E3D4;
      }
    }
  }
  return 0;
}

//----- (00401D00) --------------------------------------------------------
HKEY *sub_401D00()
{
  return &hKey;
}

//----- (00401D06) --------------------------------------------------------
HKEY *sub_401D06()
{
  return &phkResult;
}

//----- (00401F16) --------------------------------------------------------
PHKEY __cdecl sub_401F16(PHKEY phkResult, HKEY hKey, char *a3, REGSAM samDesired, int a5)
{
  const CHAR *v5; // edi
  DWORD dwDisposition; // [esp+Ch] [ebp-28h] BYREF
  __int16 v8; // [esp+20h] [ebp-14h]

  __InitExceptBlockLDTC();
  v8 = 8;
  *phkResult = 0;
  v5 = (const CHAR *)strnewdup(a3, 0);
  phkResult[1] = (HKEY)v5;
  if ( a5 )
    RegOpenKeyExA(hKey, (LPCSTR)phkResult[1], 0, samDesired, phkResult);
  else
    RegCreateKeyExA(hKey, v5, 0, &aHkeyClassesRoo[17], 0, samDesired, 0, phkResult, &dwDisposition);
  sub_40215C(phkResult, 0, 0, (LPDWORD)phkResult + 2, 0, 0, (LPDWORD)phkResult + 3, 0, 0, 0, 0);
  *((_BYTE *)phkResult + 16) = 1;
  return phkResult;
}

//----- (00401FC8) --------------------------------------------------------
PHKEY __cdecl sub_401FC8(PHKEY phkResult, int a2, REGSAM samDesired)
{
  CHAR *v3; // eax

  __InitExceptBlockLDTC();
  *phkResult = 0;
  v3 = (CHAR *)operator new[](0x105u);
  phkResult[1] = (HKEY)v3;
  RegEnumKeyA(**(HKEY **)a2, *(_DWORD *)(a2 + 4), v3, 0x105u);
  RegOpenKeyExA(**(HKEY **)a2, (LPCSTR)phkResult[1], 0, samDesired, phkResult);
  *((_BYTE *)phkResult + 16) = 1;
  sub_40215C(phkResult, 0, 0, (LPDWORD)phkResult + 2, 0, 0, (LPDWORD)phkResult + 3, 0, 0, 0, 0);
  return phkResult;
}

//----- (0040206C) --------------------------------------------------------
int __cdecl sub_40206C(int a1, int a2, char a3, char *a4)
{
  LONG v4; // eax

  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = a2;
  *(_DWORD *)(a1 + 4) = strnewdup(a4, 0);
  *(_BYTE *)(a1 + 16) = a3;
  v4 = sub_40215C((HKEY *)a1, 0, 0, (LPDWORD)(a1 + 8), 0, 0, (LPDWORD)(a1 + 12), 0, 0, 0, 0);
  if ( v4 && v4 != 122 )
    *(_DWORD *)a1 = 0;
  return a1;
}

//----- (00402126) --------------------------------------------------------
void __cdecl sub_402126(void *a1, char a2)
{
  if ( a1 )
  {
    if ( *(_DWORD *)a1 && *((_BYTE *)a1 + 16) )
      RegCloseKey(*(HKEY *)a1);
    operator delete[](*((void **)a1 + 1));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0040215C) --------------------------------------------------------
LONG __cdecl sub_40215C(
        HKEY *a1,
        LPSTR lpClass,
        LPDWORD lpcbClass,
        LPDWORD lpcSubKeys,
        LPDWORD lpcbMaxSubKeyLen,
        LPDWORD lpcbMaxClassLen,
        LPDWORD lpcValues,
        LPDWORD lpcbMaxValueNameLen,
        LPDWORD lpcbMaxValueLen,
        LPDWORD lpcbSecurityDescriptor,
        PFILETIME lpftLastWriteTime)
{
  DWORD *v11; // edi
  DWORD *v12; // esi
  DWORD *v13; // ecx
  CHAR *v14; // edx
  PFILETIME v15; // ebx
  LPDWORD v16; // ebx
  LPDWORD v17; // ebx
  LPDWORD v18; // ebx
  LPDWORD v19; // ebx
  DWORD *v20; // ebx
  DWORD *v22; // [esp-14h] [ebp-148h]
  DWORD *v23; // [esp-10h] [ebp-144h]
  DWORD *v24; // [esp-Ch] [ebp-140h]
  DWORD *v25; // [esp-8h] [ebp-13Ch]
  struct _FILETIME *v26; // [esp-4h] [ebp-138h]
  char v27; // [esp+Ch] [ebp-128h] BYREF
  char v28; // [esp+10Ch] [ebp-28h] BYREF
  int v29; // [esp+114h] [ebp-20h] BYREF
  int v30; // [esp+118h] [ebp-1Ch] BYREF
  int v31; // [esp+11Ch] [ebp-18h] BYREF
  int v32; // [esp+120h] [ebp-14h] BYREF
  int v33; // [esp+124h] [ebp-10h] BYREF
  int v34; // [esp+128h] [ebp-Ch] BYREF
  int v35; // [esp+12Ch] [ebp-8h] BYREF
  int v36; // [esp+130h] [ebp-4h] BYREF

  v11 = lpcbMaxSubKeyLen;
  v12 = lpcSubKeys;
  v13 = lpcbClass;
  v14 = lpClass;
  v36 = 256;
  v35 = 0;
  v34 = 0;
  v33 = 0;
  v32 = 0;
  v31 = 0;
  v30 = 0;
  v29 = 0;
  if ( lpftLastWriteTime )
    v15 = lpftLastWriteTime;
  else
    v15 = (PFILETIME)&v28;
  v26 = v15;
  if ( lpcbSecurityDescriptor )
    v16 = lpcbSecurityDescriptor;
  else
    v16 = (LPDWORD)&v29;
  v25 = v16;
  if ( lpcbMaxValueLen )
    v17 = lpcbMaxValueLen;
  else
    v17 = (LPDWORD)&v30;
  v24 = v17;
  if ( lpcbMaxValueNameLen )
    v18 = lpcbMaxValueNameLen;
  else
    v18 = (LPDWORD)&v31;
  v23 = v18;
  if ( lpcValues )
    v19 = lpcValues;
  else
    v19 = (LPDWORD)&v32;
  v22 = v19;
  if ( lpcbMaxClassLen )
    v20 = lpcbMaxClassLen;
  else
    v20 = (DWORD *)&v33;
  if ( !lpcbMaxSubKeyLen )
    v11 = (DWORD *)&v34;
  if ( !lpcSubKeys )
    v12 = (DWORD *)&v35;
  if ( !lpcbClass )
    v13 = (DWORD *)&v36;
  if ( !lpClass )
    v14 = &v27;
  return RegQueryInfoKeyA(*a1, v14, v13, 0, v12, v11, v20, v22, v23, v24, v25, v26);
}

//----- (0040222E) --------------------------------------------------------
LONG __cdecl sub_40222E(HKEY *a1, char *lpSubKey)
{
  int v2; // eax
  int v5; // [esp-4h] [ebp-64h]
  int v6; // [esp+Ch] [ebp-54h] BYREF
  int v7; // [esp+10h] [ebp-50h]
  __int16 v8; // [esp+24h] [ebp-3Ch]
  int v9; // [esp+30h] [ebp-30h]
  HKEY v10[5]; // [esp+38h] [ebp-28h] BYREF
  HKEY phkResult[5]; // [esp+4Ch] [ebp-14h] BYREF

  __InitExceptBlockLDTC();
  v8 = 8;
  sub_401F16(phkResult, *a1, lpSubKey, 0xF003Fu, 1);
  ++v9;
  v8 = 20;
  v6 = (int)phkResult;
  v7 = 0;
  while ( v7 >= 0 && v7 < *(_DWORD *)(v6 + 8) )
  {
    v8 = 32;
    sub_401FC8(v10, (int)&v6, 0xF003Fu);
    ++v9;
    v8 = 44;
    if ( !v10[0] )
    {
      --v9;
      sub_402126(v10, 2);
      break;
    }
    v2 = sub_40222E((int)phkResult, (LPCSTR)v10[1]);
    if ( v2 )
    {
      v5 = v2;
      --v9;
      sub_402126(v10, 2);
      --v9;
      sub_402126(phkResult, 2);
      return v5;
    }
    --v9;
    sub_402126(v10, 2);
  }
  --v9;
  sub_402126(phkResult, 2);
  return RegDeleteKeyA(*a1, lpSubKey);
}

//----- (00402461) --------------------------------------------------------
void __cdecl sub_402461(void **a1, char a2)
{
  if ( a1 )
  {
    operator delete[](a1[2]);
    operator delete[](a1[4]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00402541) --------------------------------------------------------
int __cdecl sub_402541(int a1, const char *a2)
{
  int v2; // ebx
  int result; // eax
  CHAR v4[100]; // [esp+8h] [ebp-98h] BYREF
  _DWORD v5[4]; // [esp+6Ch] [ebp-34h] BYREF
  __int16 v6; // [esp+7Ch] [ebp-24h]
  int v7; // [esp+88h] [ebp-18h]
  _BYTE v8[4]; // [esp+90h] [ebp-10h] BYREF
  int (__cdecl **v9)(TXBase *, char); // [esp+94h] [ebp-Ch]
  const char *v10; // [esp+98h] [ebp-8h]
  _BYTE v11[4]; // [esp+9Ch] [ebp-4h] BYREF

  v2 = a1;
  result = __InitExceptBlockLDTC();
  if ( a1 && !TXBase::InstanceCount )
  {
    if ( a1 == 1 )
      v2 = -2147467259;
    if ( a2 )
      wsprintfA(v4, "Registry failure on key: %s, ErrorCode = %lX\n", a2, v2);
    else
      wsprintfA(v4, "Registry failure on unknown key: ErrorCode = %lX\n", v2);
    v6 = 8;
    string::string((string *)v11, v4);
    ++v7;
    TXBase::TXBase((TXBase *)v8, (const string *)v11);
    v7 += 2;
    v6 = 20;
    --v7;
    string::~string((string *)v11);
    v6 = 8;
    v9 = &off_44E928;
    v10 = a2;
    v7 += 3;
    return _ThrowExceptionLDTC(stru_4030AC, v8, 0, sub_403100, 1u, 0, 0, 0, v5);
  }
  return result;
}
// 4030AC: using guessed type _tpidc stru_4030AC[1];
// 44E928: using guessed type int (__cdecl *off_44E928)(TXBase *, char);

//----- (0040263C) --------------------------------------------------------
_DWORD *__cdecl sub_40263C(_DWORD *a1, int a2, int a3)
{
  __InitExceptBlockLDTC();
  *a1 = a2;
  a1[1] = a3;
  for ( a1[2] = 0; *(_DWORD *)(a1[1] + 4 * a1[2]); ++a1[2] )
    ;
  a1[3] = operator new[](a1[2]);
  return a1;
}

//----- (004026A4) --------------------------------------------------------
void __cdecl sub_4026A4(void **a1, char a2)
{
  if ( a1 )
  {
    operator delete[](a1[3]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004026C8) --------------------------------------------------------
_BYTE *__cdecl sub_4026C8(int a1, _BYTE *a2)
{
  _BYTE *result; // eax

  for ( result = a2; *result; ++result )
    *(_BYTE *)(*(_DWORD *)(a1 + 12) + (char)*result - 1) = 0;
  return result;
}

//----- (004026E9) --------------------------------------------------------
_BYTE *__cdecl sub_4026E9(int a1, _BYTE *a2)
{
  _BYTE *result; // eax

  for ( result = a2; *result; ++result )
    ++*(_BYTE *)(*(_DWORD *)(a1 + 12) + (char)*result - 1);
  return result;
}

//----- (00402709) --------------------------------------------------------
_DWORD *__cdecl sub_402709(_DWORD *a1, int a2)
{
  __InitExceptBlockLDTC();
  *a1 = a2;
  for ( a1[1] = 0; *(_DWORD *)(*a1 + 12 * a1[1]); ++a1[1] )
    ;
  a1[2] = operator new[](4 * a1[1]);
  return a1;
}

//----- (0040276E) --------------------------------------------------------
void __cdecl sub_40276E(void **a1, char a2)
{
  if ( a1 )
  {
    operator delete[](a1[2]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00402792) --------------------------------------------------------
int __cdecl sub_402792(_DWORD *a1)
{
  int result; // eax

  for ( result = a1[1]; --result >= 0; *(_DWORD *)(a1[2] + 4 * result) = *(_DWORD *)(*a1 + 12 * result + 4) )
    ;
  return result;
}

//----- (004027B3) --------------------------------------------------------
int __cdecl sub_4027B3(_DWORD *a1, LPCSTR lpString2)
{
  int v3; // ebx

  if ( !lpString2 )
    return -1;
  v3 = a1[1];
  do
    --v3;
  while ( v3 >= 0 && lstrcmpA(*(LPCSTR *)(*a1 + 12 * v3), lpString2) );
  return v3;
}

//----- (00402F38) --------------------------------------------------------
PHKEY sub_402F38()
{
  __InitExceptBlockLDTC();
  sub_40206C((int)&hKey, 0x80000000, 1, aHkeyClassesRoo);
  return sub_401F16(&phkResult, hKey, aClsid, 0xF003Fu, 1);
}

//----- (00402F9A) --------------------------------------------------------
void sub_402F9A()
{
  __InitExceptBlockLDTC();
  if ( byte_44E535 )
    sub_402126(&unk_44E524, 2);
  if ( byte_44E4FF )
    sub_402126(&unk_44E4EE, 2);
  if ( byte_44E4C9 )
    sub_402126(&unk_44E4B8, 2);
  if ( byte_44E493 )
    sub_402126(&unk_44E482, 2);
  if ( byte_44E45D )
    sub_402126(&unk_44E44C, 2);
  if ( byte_44E427 )
    sub_402126(&unk_44E416, 2);
  sub_402126(&phkResult, 2);
  sub_402126(&hKey, 2);
}
// 44E427: using guessed type char byte_44E427;
// 44E45D: using guessed type char byte_44E45D;
// 44E493: using guessed type char byte_44E493;
// 44E4C9: using guessed type char byte_44E4C9;
// 44E4FF: using guessed type char byte_44E4FF;
// 44E535: using guessed type char byte_44E535;

//----- (00403100) --------------------------------------------------------
TXBase *__cdecl sub_403100(TXBase *a1, TXBase *a2)
{
  __InitExceptBlockLDTC();
  TXBase::TXBase(a1, a2);
  *((_DWORD *)a1 + 1) = &off_44E928;
  *((_DWORD *)a1 + 2) = *((_DWORD *)a2 + 2);
  return a1;
}
// 44E928: using guessed type int (__cdecl *off_44E928)(TXBase *, char);

//----- (004032B9) --------------------------------------------------------
void __cdecl sub_4032B9(TXBase *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TXBase::~TXBase(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00403348) --------------------------------------------------------
void __cdecl sub_403348(void **a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_40276E(a1 + 4, 2);
    sub_4026A4(a1, 2);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004039B0) --------------------------------------------------------
// attributes: thunk
int sub_4039B0()
{
  return _exitargv();
}
// 438F88: using guessed type int _exitargv(void);

//----- (004039B8) --------------------------------------------------------
size_t __cdecl sub_4039B8(int a1, char *s)
{
  size_t result; // eax
  int v3; // edi
  const char *v4; // ebx
  unsigned int v5; // edi
  _BOOL1 v6; // cf

  operator delete[](*(void **)(a1 + 4));
  result = 0;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 8) = 0;
  v3 = 0;
  v4 = s;
  while ( *v4 )
  {
    v3 += strlen(v4) + 1;
    result = strlen(v4) + 1;
    v4 += result;
    ++*(_DWORD *)(a1 + 8);
  }
  v6 = v3 == -1;
  v5 = v3 + 1;
  if ( !v6 && v5 != 1 )
  {
    *(_DWORD *)(a1 + 4) = operator new[](v5);
    return (size_t)memcpy(*(void **)(a1 + 4), s, v5);
  }
  return result;
}

//----- (00403A1B) --------------------------------------------------------
const char *__cdecl sub_403A1B(int a1, unsigned int a2)
{
  const char *v2; // ebx
  int v3; // esi

  if ( a2 < *(_DWORD *)(a1 + 8) )
  {
    v2 = *(const char **)(a1 + 4);
    v3 = 0;
    while ( *v2 )
    {
      if ( a2 == v3 )
        return v2;
      v2 += strlen(v2) + 1;
      ++v3;
    }
  }
  return (const char *)&unk_43A0D8;
}

//----- (00403A55) --------------------------------------------------------
int __cdecl sub_403A55(int a1, LPCSTR lpString2, char a3)
{
  const CHAR *v3; // ebx
  int v5; // [esp+14h] [ebp-30h]
  _DWORD v6[4]; // [esp+18h] [ebp-2Ch] BYREF
  __int16 v7; // [esp+28h] [ebp-1Ch]
  int v8; // [esp+34h] [ebp-10h]
  _BYTE v9[4]; // [esp+3Ch] [ebp-8h] BYREF
  _BYTE v10[4]; // [esp+40h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !lpString2 || !*lpString2 )
  {
    v7 = 8;
    xerror::MakeString((xerror *)v10, aPrecondition, aStrStr, aLibStrarrayCpp, 0x30u);
    ++v8;
    xmsg::xmsg((xmsg *)v9, (const string *)v10);
    ++v8;
    v7 = 20;
    --v8;
    string::~string((string *)v10);
    v7 = 8;
    v8 += 2;
    v8 += 3;
    _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
  }
  v3 = *(const CHAR **)(a1 + 4);
  v5 = 0;
  while ( *v3 )
  {
    if ( a3 && !lstrcmpA(v3, lpString2) || !lstrcmpiA(v3, lpString2) )
      return v5;
    v3 += strlen(v3) + 1;
    ++v5;
  }
  return -1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00403BE0) --------------------------------------------------------
xmsg *__cdecl sub_403BE0(xmsg *a1, const xmsg *a2)
{
  __InitExceptBlockLDTC();
  xmsg::xmsg(a1, a2);
  return a1;
}
// 438D9C: using guessed type xmsg *xmsg::xmsg(xmsg *__hidden this, const xmsg *);

//----- (00403CAD) --------------------------------------------------------
void __cdecl sub_403CAD(xmsg *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    xmsg::~xmsg(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00403D4B) --------------------------------------------------------
void __cdecl sub_403D4B(xmsg *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    xmsg::~xmsg(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00403EEE) --------------------------------------------------------
bool __cdecl sub_403EEE(HWND hwnd, LPCSTR lpFile)
{
  _DWORD v3[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+14h] [ebp-1Ch]
  int v5; // [esp+20h] [ebp-10h]
  _BYTE v6[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !lpFile )
  {
    v4 = 8;
    xerror::MakeString((xerror *)v7, aPrecondition_0, aPath, aToolsfctCpp, 0x2Eu);
    ++v5;
    xmsg::xmsg((xmsg *)v6, (const string *)v7);
    ++v5;
    v4 = 20;
    --v5;
    string::~string((string *)v7);
    v4 = 8;
    v5 += 2;
    v5 += 3;
    _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
  }
  return *lpFile && (unsigned int)ShellExecuteA(hwnd, Operation, lpFile, 0, 0, 1) > 0x20;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00403FCB) --------------------------------------------------------
int __cdecl sub_403FCB(char *a1, char *a2, int a3, char *a4)
{
  int v5; // [esp-4h] [ebp-30h]
  _BYTE v6[8]; // [esp+24h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  TProfile::TProfile((TProfile *)v6, a1, a4);
  v5 = TProfile::WriteInt((TProfile *)v6, a2, a3);
  TProfile::~TProfile((TProfile *)v6);
  return v5;
}

//----- (0040402F) --------------------------------------------------------
string *__cdecl sub_40402F(string *a1, string *a2, int a3)
{
  CHAR Buffer[260]; // [esp+Ch] [ebp-12Ch] BYREF
  __int16 v5; // [esp+120h] [ebp-18h]
  int v6; // [esp+12Ch] [ebp-Ch]
  _BYTE v7[4]; // [esp+134h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a3 + 2) )
  {
    SetCurrentDirectoryA(*(LPCSTR *)(*(_DWORD *)a2 + 2));
    GetFullPathNameA(*(LPCSTR *)(*(_DWORD *)a3 + 2), 0x104u, Buffer, 0);
    v5 = 32;
    string::string((string *)v7, Buffer);
    ++v6;
    v5 = 20;
    string::to_lower((string *)v7);
    v5 = 44;
    string::string(a1, (const string *)v7);
    v5 = 56;
    string::~string((string *)v7);
    return a1;
  }
  else
  {
    v5 = 8;
    string::string(a1, a2);
    v6 += 2;
    return a1;
  }
}

//----- (0040411C) --------------------------------------------------------
string *__cdecl sub_40411C(string *a1, int a2, LPCSTR lpPathName)
{
  CHAR Buffer[260]; // [esp+Ch] [ebp-12Ch] BYREF
  __int16 v5; // [esp+120h] [ebp-18h]
  int v6; // [esp+12Ch] [ebp-Ch]
  _BYTE v7[4]; // [esp+134h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    if ( lpPathName )
    {
      if ( *lpPathName )
        SetCurrentDirectoryA(lpPathName);
    }
    GetFullPathNameA(*(LPCSTR *)(*(_DWORD *)a2 + 2), 0x104u, Buffer, 0);
    v5 = 32;
    string::string((string *)v7, Buffer);
    ++v6;
    v5 = 20;
    string::to_lower((string *)v7);
    v5 = 44;
    string::string(a1, (const string *)v7);
    v5 = 56;
    string::~string((string *)v7);
    return a1;
  }
  else
  {
    v5 = 8;
    string::string(a1, &byte_43A8E2);
    v6 += 2;
    return a1;
  }
}

//----- (00404212) --------------------------------------------------------
string *__cdecl sub_404212(string *a1, string *a2, string *a3)
{
  signed int v4; // esi
  signed int v5; // edi
  char v6; // [esp-4h] [ebp-5Ch]
  _BYTE v7[4]; // [esp+4Ch] [ebp-Ch] BYREF
  _BYTE v8[4]; // [esp+50h] [ebp-8h] BYREF
  int v9; // [esp+54h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a3 + 2) )
  {
    if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
    {
      sub_4048F9((string *)&v9, (int)a3);
      string::to_lower((string *)&v9);
      v4 = 0;
      v5 = 0;
      while ( v4 < *(_DWORD *)(*(_DWORD *)a2 + 6) )
      {
        if ( v4 >= *(_DWORD *)(v9 + 6) )
          break;
        string::assert_element(a2, v4);
        v6 = *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v4);
        if ( v6 != *(_BYTE *)string::operator()(&v9, v4) )
          break;
        string::assert_element(a2, v4);
        if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v4) == 92
          || (string::assert_element(a2, v4), *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v4) == 47)
          || (string::assert_element(a2, v4), *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v4) == 58) )
        {
          v5 = v4 + 1;
        }
        ++v4;
      }
      if ( v5 )
      {
        string::substr((string *)v8, (unsigned int)a3);
        string::to_lower((string *)v8);
        if ( v5 == *(_DWORD *)(*(_DWORD *)a2 + 6) )
        {
          string::string(a1, (const string *)v8);
          string::~string((string *)v8);
          string::~string((string *)&v9);
          return a1;
        }
        else
        {
          while ( v5 < *(_DWORD *)(*(_DWORD *)a2 + 6) )
          {
            string::assert_element(a2, v5);
            if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v5) == 92
              || (string::assert_element(a2, v5), *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v5) == 47) )
            {
              operator+(v7, asc_43A8E4, v8);
              string::assign((string *)v8, (const string *)v7, 0, 0xFFFFFFFF);
              string::~string((string *)v7);
            }
            ++v5;
          }
          string::string(a1, (const string *)v8);
          string::~string((string *)v8);
          string::~string((string *)&v9);
          return a1;
        }
      }
      else
      {
        to_lower(a1);
        string::~string((string *)&v9);
        return a1;
      }
    }
    else
    {
      string::string(a1, a3);
      return a1;
    }
  }
  else
  {
    string::string(a1, &byte_43A8E3);
    return a1;
  }
}
// 438EE0: using guessed type int __cdecl string::operator()(_DWORD, _DWORD);
// 438F3A: using guessed type int __cdecl operator+(_DWORD, _DWORD, _DWORD);

//----- (0040453C) --------------------------------------------------------
bool __cdecl sub_40453C(int a1)
{
  DWORD FileAttributesA; // eax

  if ( !**(_BYTE **)(*(_DWORD *)a1 + 2) )
    return 0;
  FileAttributesA = GetFileAttributesA(*(LPCSTR *)(*(_DWORD *)a1 + 2));
  return FileAttributesA != -1 && (FileAttributesA & 0x10) == 0;
}

//----- (00404711) --------------------------------------------------------
string *__cdecl sub_404711(string *a1, int a2)
{
  char ext[256]; // [esp+4h] [ebp-124h] BYREF
  __int16 v4; // [esp+114h] [ebp-14h]
  int v5; // [esp+120h] [ebp-8h]

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    fnsplit(*(const char **)(*(_DWORD *)a2 + 2), 0, 0, 0, ext);
    v4 = 20;
    string::string(a1, ext);
    return a1;
  }
  else
  {
    v4 = 8;
    string::string(a1, &byte_43A8E9);
    v5 += 2;
    return a1;
  }
}

//----- (004047A7) --------------------------------------------------------
string *__cdecl sub_4047A7(string *a1, int a2)
{
  char name[256]; // [esp+4h] [ebp-124h] BYREF
  __int16 v4; // [esp+114h] [ebp-14h]
  int v5; // [esp+120h] [ebp-8h]

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    fnsplit(*(const char **)(*(_DWORD *)a2 + 2), 0, 0, name, 0);
    v4 = 20;
    string::string(a1, name);
    return a1;
  }
  else
  {
    v4 = 8;
    string::string(a1, &byte_43A8EA);
    v5 += 2;
    return a1;
  }
}

//----- (004048F9) --------------------------------------------------------
string *__cdecl sub_4048F9(string *a1, int a2)
{
  char path[260]; // [esp+4h] [ebp-234h] BYREF
  char dir[256]; // [esp+108h] [ebp-130h] BYREF
  char drive[12]; // [esp+208h] [ebp-30h] BYREF
  __int16 v6; // [esp+224h] [ebp-14h]
  int v7; // [esp+230h] [ebp-8h]

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    fnsplit(*(const char **)(*(_DWORD *)a2 + 2), drive, dir, 0, 0);
    fnmerge(path, drive, dir, 0, 0);
    v6 = 20;
    string::string(a1, path);
    return a1;
  }
  else
  {
    v6 = 8;
    string::string(a1, &byte_43A8EC);
    v7 += 2;
    return a1;
  }
}

//----- (00404ACF) --------------------------------------------------------
string *__cdecl sub_404ACF(string *a1, int a2, int a3)
{
  char path[260]; // [esp+4h] [ebp-334h] BYREF
  char name[256]; // [esp+108h] [ebp-230h] BYREF
  char dir[256]; // [esp+208h] [ebp-130h] BYREF
  char drive[12]; // [esp+308h] [ebp-30h] BYREF
  __int16 v8; // [esp+324h] [ebp-14h]
  int v9; // [esp+330h] [ebp-8h]

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    fnsplit(*(const char **)(*(_DWORD *)a2 + 2), drive, dir, name, 0);
    fnmerge(path, drive, dir, name, *(const char **)(*(_DWORD *)a3 + 2));
    v8 = 20;
    string::string(a1, path);
    return a1;
  }
  else
  {
    v8 = 8;
    string::string(a1, &byte_43A8EE);
    v9 += 2;
    return a1;
  }
}

//----- (00404B95) --------------------------------------------------------
const char *__cdecl sub_404B95(const char **a1)
{
  size_t i; // eax

  if ( !*a1 )
    return (const char *)&unk_43A8EF;
  while ( **a1 == 32 || **a1 == 13 || **a1 == 10 )
    ++*a1;
  for ( i = strlen(*a1) - 1; **a1 && ((*a1)[i] == 32 || (*a1)[i] == 13 || (*a1)[i] == 10); --i )
    (*a1)[i] = 0;
  return *a1;
}

//----- (00404C08) --------------------------------------------------------
string *__cdecl sub_404C08(string *a1)
{
  char *v1; // esi
  const char *v2; // eax
  char *v4; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v5; // [esp+1Ch] [ebp-18h]
  int v6; // [esp+28h] [ebp-Ch]
  _BYTE v7[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a1 + 2) )
  {
    v1 = (char *)operator new[](*(_DWORD *)(*(_DWORD *)a1 + 6) + 1);
    strcpy(v1, *(const char **)(*(_DWORD *)a1 + 2));
    v4 = v1;
    v5 = 8;
    v2 = sub_404B95((const char **)&v4);
    string::string((string *)v7, v2);
    ++v6;
    string::assign(a1, (const string *)v7, 0, 0xFFFFFFFF);
    --v6;
    string::~string((string *)v7);
    operator delete[](v1);
  }
  return a1;
}

//----- (00404CA2) --------------------------------------------------------
void __cdecl sub_404CA2(unsigned int a1, string *a2)
{
  const string *v2; // eax
  const string *v3; // eax
  _BYTE v4[4]; // [esp+2Ch] [ebp-Ch] BYREF
  _BYTE v5[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v6, byte_43A8F0);
  string::assign(a2, (const string *)v6, 0, 0xFFFFFFFF);
  string::~string((string *)v6);
  if ( dword_44ECF1 )
  {
    v2 = string::string((string *)v5, *(HINSTANCE *)(dword_44ECF1 + 8), a1, 255);
    string::assign(a2, v2, 0, 0xFFFFFFFF);
    string::~string((string *)v5);
  }
  if ( !**(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    if ( dword_446AB8 )
    {
      v3 = string::string((string *)v4, *(HINSTANCE *)(dword_446AB8 + 8), a1, 255);
      string::assign(a2, v3, 0, 0xFFFFFFFF);
      string::~string((string *)v4);
    }
  }
}
// 446AB8: using guessed type int dword_446AB8;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00404E29) --------------------------------------------------------
void __cdecl sub_404E29(LPCSTR lpText)
{
  const CHAR *v1; // eax
  HWND v2; // ecx
  int v3; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( lpText )
  {
    string::string((string *)&v3);
    sub_404CA2(0x65u, (string *)&v3);
    MessageBeep(0x10u);
    if ( *(_DWORD *)(v3 + 6) )
      v1 = *(const CHAR **)(v3 + 2);
    else
      v1 = 0;
    if ( dword_44A9F0 )
      v2 = (HWND)*((_DWORD *)dword_44A9F0 + 3);
    else
      v2 = 0;
    MessageBoxExA(v2, lpText, v1, 0x10u, 0);
    string::~string((string *)&v3);
  }
}

//----- (00404EC6) --------------------------------------------------------
void __cdecl sub_404EC6(int a1)
{
  sub_404E29(*(LPCSTR *)(*(_DWORD *)a1 + 2));
}

//----- (00404ED9) --------------------------------------------------------
void __cdecl sub_404ED9(unsigned int a1)
{
  int v1; // [esp+24h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)&v1);
  sub_404CA2(a1, (string *)&v1);
  if ( *(_DWORD *)(v1 + 6) )
    sub_404E29(*(LPCSTR *)(v1 + 2));
  string::~string((string *)&v1);
}

//----- (00404F44) --------------------------------------------------------
void __cdecl sub_404F44(char *format, void *arglist)
{
  char buffer[8192]; // [esp+0h] [ebp-2000h] BYREF

  if ( format )
  {
    vsprintf(buffer, format, arglist);
    sub_404E29(buffer);
  }
}

//----- (00404F9C) --------------------------------------------------------
void sub_404F9C(unsigned int a1, ...)
{
  int v1; // [esp+28h] [ebp-4h] BYREF
  va_list va; // [esp+38h] [ebp+Ch] BYREF

  va_start(va, a1);
  __InitExceptBlockLDTC();
  string::string((string *)&v1);
  sub_404CA2(a1, (string *)&v1);
  if ( *(_DWORD *)(v1 + 6) )
    sub_404F44(*(char **)(v1 + 2), va);
  string::~string((string *)&v1);
}

//----- (00405010) --------------------------------------------------------
void __cdecl sub_405010(DWORD dwMilliseconds)
{
  Sleep(dwMilliseconds);
}

//----- (0040501D) --------------------------------------------------------
void __cdecl sub_40501D(int *a1, double a2, _DWORD *a3)
{
  int v3; // edx

  v3 = -a3[1];
  *a1 -= *a3;
  a1[1] += v3;
  if ( a2 != 1.0 )
  {
    *a1 = (__int64)((long double)*a1 / a2);
    a1[1] = (__int64)((long double)a1[1] / a2);
  }
}

//----- (00405065) --------------------------------------------------------
void __cdecl sub_405065(TRect *a1, double a2, _DWORD *a3)
{
  TRect::Offset(a1, -*a3, -a3[1]);
  if ( a2 != 1.0 )
  {
    *(_DWORD *)a1 = (__int64)((long double)*(int *)a1 / a2);
    *((_DWORD *)a1 + 1) = (__int64)((long double)*((int *)a1 + 1) / a2);
    *((_DWORD *)a1 + 2) = (__int64)((long double)*((int *)a1 + 2) / a2);
    *((_DWORD *)a1 + 3) = (__int64)((long double)*((int *)a1 + 3) / a2);
  }
}

//----- (004050D1) --------------------------------------------------------
int __cdecl sub_4050D1(int *a1, double a2, _DWORD *a3)
{
  int result; // eax

  if ( a2 != 1.0 )
  {
    *a1 = (__int64)((long double)*a1 * a2);
    a1[1] = (__int64)((long double)a1[1] * a2);
  }
  result = a3[1];
  *a1 += *a3;
  a1[1] += result;
  return result;
}

//----- (00405119) --------------------------------------------------------
int __cdecl sub_405119(TRect *a1, double a2, int *a3)
{
  if ( a2 != 1.0 )
  {
    *(_DWORD *)a1 = (__int64)((long double)*(int *)a1 * a2);
    *((_DWORD *)a1 + 1) = (__int64)((long double)*((int *)a1 + 1) * a2);
    *((_DWORD *)a1 + 2) = (__int64)((long double)*((int *)a1 + 2) * a2);
    *((_DWORD *)a1 + 3) = (__int64)((long double)*((int *)a1 + 3) * a2);
  }
  return TRect::Offset(a1, *a3, a3[1]);
}

//----- (004051E0) --------------------------------------------------------
void __cdecl sub_4051E0(int a1, int a2)
{
  char *v2; // esi
  unsigned __int16 v3; // di
  char *v4; // eax
  char *v5; // ebx
  unsigned __int16 v6; // ax
  const char *s; // [esp+Ch] [ebp-8h]
  unsigned __int16 v8; // [esp+12h] [ebp-2h]

  v2 = (char *)operator new[](*(_DWORD *)(*(_DWORD *)a2 + 6) + 1);
  strcpy(v2, *(const char **)(*(_DWORD *)a2 + 2));
  v3 = 0;
  s = strtok(v2, s2);
  v8 = atol(s);
  v4 = strtok(0, asc_43A99A);
  v5 = v4;
  if ( v4 )
  {
    v6 = atol(v4);
    v3 = v6;
    if ( !v5[1] )
      v3 = 10 * v6;
  }
  *(_DWORD *)(a1 + 4) = (v8 << 16) | v3;
  operator delete[](v2);
}

//----- (0040527D) --------------------------------------------------------
string *__cdecl sub_40527D(string *a1, int a2)
{
  char buffer[256]; // [esp+4h] [ebp-124h] BYREF
  __int16 v4; // [esp+114h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "%u.%u", HIWORD(*(_DWORD *)(a2 + 4)), *(unsigned __int16 *)(a2 + 4));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (004052EB) --------------------------------------------------------
void __cdecl sub_4052EB(int a1, int a2)
{
  _BYTE v2[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v2);
  operator>>(a2, v2);
  sub_4051E0(a1, (int)v2);
  string::~string((string *)v2);
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (00405354) --------------------------------------------------------
void __cdecl sub_405354(int a1, int a2)
{
  _BYTE v2[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  sub_40527D((string *)v2, a1);
  operator<<(a2, v2);
  string::~string((string *)v2);
}
// 439144: using guessed type int __cdecl operator<<(_DWORD, _DWORD);

//----- (004053B3) --------------------------------------------------------
int __cdecl sub_4053B3(int a1, void (__cdecl ***a2)(_DWORD, int))
{
  (**a2)(a2, a1);
  return a1;
}

//----- (004053CB) --------------------------------------------------------
int __cdecl sub_4053CB(int a1, int a2)
{
  (*(void (__cdecl **)(int, int))(*(_DWORD *)a2 + 4))(a2, a1);
  return a1;
}

//----- (00405557) --------------------------------------------------------
int __cdecl sub_405557(int a1, unsigned int a2, string *a3)
{
  __int16 v3; // si
  unsigned int i; // ebx
  __int16 v6; // [esp+Eh] [ebp-3Ah] BYREF
  void *s; // [esp+10h] [ebp-38h]
  unsigned int v8; // [esp+14h] [ebp-34h]
  __int16 v9; // [esp+28h] [ebp-20h]
  int v10; // [esp+34h] [ebp-14h]
  _BYTE v11[4]; // [esp+3Ch] [ebp-Ch] BYREF
  int v12; // [esp+40h] [ebp-8h] BYREF
  _BYTE v13[4]; // [esp+44h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  to_upper((const string *)v13);
  v3 = string::hash((string *)v13);
  string::~string((string *)v13);
  v9 = 8;
  v8 = *(_DWORD *)(*(_DWORD *)a2 + 6) >> 1;
  s = (void *)operator new[](v8 + 1);
  memset(s, 0, v8 + 1);
  for ( i = 0; i < v8; i += 2 )
  {
    v9 = 32;
    string::substr((string *)&v12, a2, 2 * i);
    ++v10;
    sscanf(*(const char **)(v12 + 2), "%4hX", &v6);
    --v10;
    string::~string((string *)&v12);
    *(_WORD *)((char *)s + i) = v6 - v3;
    v3 = -v3;
  }
  v9 = 44;
  string::string((string *)v11, (const char *)s);
  ++v10;
  string::assign(a3, (const string *)v11, 0, 0xFFFFFFFF);
  --v10;
  string::~string((string *)v11);
  operator delete[](s);
  return *(_DWORD *)(*(_DWORD *)a3 + 6);
}

//----- (004056A0) --------------------------------------------------------
int __cdecl sub_4056A0(int a1)
{
  *(_DWORD *)(a1 + 12) = 0;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 16) = 16;
  *(_BYTE *)(a1 + 20) = 0;
  return a1;
}

//----- (004056BB) --------------------------------------------------------
int __cdecl sub_4056BB(int a1, int a2)
{
  int result; // eax

  result = a1;
  if ( a2 != a1 )
  {
    *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 8);
    *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 12);
    *(_DWORD *)(a1 + 16) = *(_DWORD *)(a2 + 16);
    *(_BYTE *)(a1 + 20) = *(_BYTE *)(a2 + 20);
  }
  return result;
}

//----- (004057A9) --------------------------------------------------------
_DWORD *__cdecl sub_4057A9(_DWORD *a1, _DWORD *a2)
{
  if ( a2 != a1 )
  {
    string::assign((string *)(a1 + 1), (const string *)(a2 + 1), 0, 0xFFFFFFFF);
    a1[2] = a2[2];
    a1[3] = a2[3];
  }
  return a1;
}

//----- (004057E2) --------------------------------------------------------
int __cdecl sub_4057E2(int a1, char *a2)
{
  _BYTE v3[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v4[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v4, a2);
  to_upper((const string *)v3);
  string::assign((string *)(a1 + 4), (const string *)v3, 0, 0xFFFFFFFF);
  string::~string((string *)v3);
  string::~string((string *)v4);
  *(_DWORD *)(a1 + 12) = *((_DWORD *)a2 + 64);
  return a1;
}

//----- (004058E5) --------------------------------------------------------
int __cdecl sub_4058E5(int a1, int a2)
{
  ipstream *v2; // ebx

  v2 = (ipstream *)operator>>(a2, a1 + 4);
  ipstream::readBytes(v2, (void *)(a1 + 8), 4u);
  return ipstream::readBytes(v2, (void *)(a1 + 12), 4u);
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (00405922) --------------------------------------------------------
int __cdecl sub_405922(int a1, int a2)
{
  opstream *v2; // ebx
  int v4; // [esp+4h] [ebp-8h] BYREF
  int v5; // [esp+8h] [ebp-4h] BYREF

  v5 = *(_DWORD *)(a1 + 12);
  v4 = *(_DWORD *)(a1 + 8);
  v2 = (opstream *)operator<<(a2, a1 + 4);
  opstream::writeBytes(v2, &v4, 4u);
  return opstream::writeBytes(v2, &v5, 4u);
}
// 439144: using guessed type int __cdecl operator<<(_DWORD, _DWORD);

//----- (0040596C) --------------------------------------------------------
int __cdecl sub_40596C(int a1, int a2)
{
  ipstream *v2; // eax
  int result; // eax

  v2 = (ipstream *)operator>>(a2, a1 + 4);
  ipstream::readBytes(v2, (void *)(a1 + 8), 4u);
  result = *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 12) = result;
  return result;
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (00405A63) --------------------------------------------------------
void __cdecl sub_405A63(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 29) = &off_43B4EC;
    sub_406BA2((int)(a1 + 4), 1, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    sub_406BA2((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B4EC: using guessed type int (__cdecl *off_43B4EC)(int, int);
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00405B50) --------------------------------------------------------
int *__cdecl sub_405B50(int *a1, int *a2)
{
  int v3; // edx
  _DWORD *v4; // ebx
  _DWORD *v5; // eax
  _DWORD *v6; // ebx
  unsigned int v7; // [esp+10h] [ebp-6Ch]
  unsigned int v8; // [esp+18h] [ebp-64h]
  unsigned int v9; // [esp+24h] [ebp-58h]
  int v10; // [esp+30h] [ebp-4Ch]
  int v11; // [esp+38h] [ebp-44h]
  char v12[16]; // [esp+40h] [ebp-3Ch] BYREF
  __int16 v13; // [esp+50h] [ebp-2Ch]
  int v14; // [esp+5Ch] [ebp-20h]
  void (__cdecl ***v15)(_DWORD, int); // [esp+64h] [ebp-18h]
  _DWORD *v16; // [esp+68h] [ebp-14h]
  char v17[4]; // [esp+6Ch] [ebp-10h] BYREF
  char v18[4]; // [esp+70h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  if ( a2 == a1 )
    return a1;
  sub_406BA2((int)(a1 + 1), 1, 0xFFFFFFFF, 0);
  *(int *)((char *)a1 + 17) = 0;
  v11 = (*(int (__cdecl **)(int *))(*(int *)((char *)a2 + 5) + 4))(a2 + 1) + 1;
  if ( *a1 <= v11 )
  {
    v10 = *(int *)((char *)a1 + 13);
    if ( v10 == -1 )
      v3 = 0x7FFFFFFF;
    else
      v3 = v10 + *a1;
    if ( v3 <= v11 )
      sub_406954((int)(a1 + 1), v11 - *a1, 0);
  }
  else
  {
    sub_406954((int)(a1 + 1), *(int *)((char *)a1 + 13) + v11 - *a1, 0);
  }
  v7 = 0;
  v8 = (**(int (__cdecl ***)(int))((char *)a2 + 5))((int)(a2 + 1));
  while ( v7 < v8 )
  {
    v9 = v7;
    if ( !*(int *)((char *)a2 + 13) || !*(int *)((char *)a2 + 9) || v7 >= *(int *)((char *)a2 + 13) )
    {
      xerror::MakeString((xerror *)v18, aPrecondition_2, aLim0Data0Index, aCBc5IncludeCla_0, 0x33Au);
      ++v14;
      xmsg::xmsg((xmsg *)v17, (const string *)v18);
      ++v14;
      v13 = 24;
      --v14;
      string::~string((string *)v18);
      v14 += 2;
      v14 += 3;
      _ThrowExceptionLDTC(stru_403B88, v17, 0, sub_403BE0, 1u, 0, 0, 0, v12);
    }
    ++v7;
    v4 = *(_DWORD **)(*(int *)((char *)a2 + 9) + 4 * v9);
    if ( (*(unsigned __int8 (__cdecl **)(_DWORD *))(*v4 + 8))(v4) )
    {
      v16 = (_DWORD *)operator new(0x10u);
      if ( v16 )
      {
        v13 = 48;
        *v16 = &off_43B554;
        string::string((string *)(v16 + 1));
        ++v14;
        sub_40573D(v16);
        sub_4057A9(v16, v4);
        v13 = 36;
        v5 = v16;
      }
      else
      {
        v5 = 0;
      }
      v6 = v5;
      if ( !sub_406A49((int)(a1 + 1), (int)v5) )
      {
        v15 = (void (__cdecl ***)(_DWORD, int))v6;
        if ( v6 )
        {
          v13 = 72;
          (**v15)(v15, 3);
          v13 = 60;
        }
      }
    }
  }
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 40573D: using guessed type _DWORD __cdecl sub_40573D(_DWORD);
// 43B554: using guessed type int (__cdecl *off_43B554)(void *, char);

//----- (00405E1C) --------------------------------------------------------
int __cdecl sub_405E1C(int *a1, string *a2, int *a3)
{
  int v3; // esi
  unsigned int v5; // [esp+10h] [ebp-3Ch]
  int i; // [esp+14h] [ebp-38h]
  _DWORD v7[4]; // [esp+18h] [ebp-34h] BYREF
  __int16 v8; // [esp+28h] [ebp-24h]
  int v9; // [esp+34h] [ebp-18h]
  char v10[4]; // [esp+3Ch] [ebp-10h] BYREF
  char v11[4]; // [esp+40h] [ebp-Ch] BYREF
  char v12[4]; // [esp+44h] [ebp-8h] BYREF
  char v13[4]; // [esp+48h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(*(_DWORD *)a2 + 6) )
  {
    for ( i = 0; (*(int (__cdecl **)(int *))(*(int *)((char *)a1 + 5) + 4))(a1 + 1) > i; ++i )
    {
      if ( i < *a1 || i - *a1 >= *(unsigned int *)((char *)a1 + 13) )
      {
        xerror::MakeString((xerror *)v13, aPrecondition_3, aLocLowerboundZ, aCBc5IncludeCla_1, 0x15Eu);
        ++v9;
        xmsg::xmsg((xmsg *)v12, (const string *)v13);
        ++v9;
        v8 = 12;
        --v9;
        string::~string((string *)v13);
        v9 += 2;
        v9 += 3;
        _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v7);
      }
      v5 = i - *a1;
      if ( !*(int *)((char *)a1 + 13) || !*(int *)((char *)a1 + 9) || v5 >= *(int *)((char *)a1 + 13) )
      {
        xerror::MakeString((xerror *)v11, aPrecondition_4, aLim0Data0Index_0, aCBc5IncludeCla_2, 0x33Au);
        ++v9;
        xmsg::xmsg((xmsg *)v10, (const string *)v11);
        ++v9;
        v8 = 24;
        --v9;
        string::~string((string *)v11);
        v9 += 2;
        v9 += 3;
        _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v7);
      }
      v3 = *(_DWORD *)(*(int *)((char *)a1 + 9) + 4 * v5);
      if ( !string::compare((string *)(v3 + 4), a2) )
      {
        if ( a3 )
          *a3 = i;
        return v3;
      }
    }
  }
  if ( a3 )
    *a3 = 0x7FFFFFFF;
  return 0;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00405FE2) --------------------------------------------------------
int __cdecl sub_405FE2(int *a1, char *a2)
{
  int result; // eax
  char *i; // ebx
  int v4; // esi
  _DWORD *v5; // eax
  int (__cdecl ***v6)(_DWORD, int); // eax
  int (__cdecl ***v7)(_DWORD, int); // esi
  int v8; // [esp+2Ch] [ebp-14h]
  int v9; // [esp+38h] [ebp-8h]
  char v10[4]; // [esp+3Ch] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  for ( i = a2; i; i = (char *)*((_DWORD *)i + 65) )
  {
    string::string((string *)v10, i);
    v4 = sub_405E1C(a1, (string *)v10, 0);
    string::~string((string *)v10);
    if ( v4 )
    {
      result = sub_4057E2(v4, i);
    }
    else
    {
      v5 = (_DWORD *)operator new(0x10u);
      v9 = (int)v5;
      if ( v5 )
      {
        *v5 = &off_43B554;
        string::string((string *)(v5 + 1));
        ++v8;
        sub_40573D(v9);
        sub_4057E2(v9, i);
        v6 = (int (__cdecl ***)(_DWORD, int))v9;
      }
      else
      {
        v6 = 0;
      }
      v7 = v6;
      result = ((int (__cdecl *)(int (__cdecl ***)(_DWORD, int)))(*v6)[2])(v6);
      if ( !(_BYTE)result || (result = sub_406A49((int)(a1 + 1), (int)v7)) == 0 )
      {
        if ( v7 )
          result = (**v7)(v7, 3);
      }
    }
  }
  return result;
}
// 406083: variable 'v8' is possibly undefined
// 40573D: using guessed type _DWORD __cdecl sub_40573D(_DWORD);
// 43B554: using guessed type int (__cdecl *off_43B554)(void *, char);

//----- (00406113) --------------------------------------------------------
_DWORD *__cdecl sub_406113(int *a1, int a2)
{
  _DWORD *result; // eax
  unsigned int v3; // edi
  _DWORD *v4; // ebx
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // ebx
  unsigned int v8; // [esp+10h] [ebp-4Ch]
  _DWORD *v9; // [esp+18h] [ebp-44h]
  char v10[16]; // [esp+20h] [ebp-3Ch] BYREF
  __int16 v11; // [esp+30h] [ebp-2Ch]
  int v12; // [esp+3Ch] [ebp-20h]
  int (__cdecl ***v13)(_DWORD, int); // [esp+44h] [ebp-18h]
  _DWORD *v14; // [esp+48h] [ebp-14h]
  char v15[4]; // [esp+4Ch] [ebp-10h] BYREF
  char v16[4]; // [esp+50h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  result = (_DWORD *)(**(int (__cdecl ***)(int))(a2 + 5))(a2 + 4);
  v8 = 0;
  v9 = result;
  while ( v8 < (unsigned int)v9 )
  {
    v3 = v8;
    if ( !*(_DWORD *)(a2 + 13) || !*(_DWORD *)(a2 + 9) || v8 >= *(_DWORD *)(a2 + 13) )
    {
      xerror::MakeString((xerror *)v16, aPrecondition_6, aLim0Data0Index_1, aCBc5IncludeCla_4, 0x33Au);
      ++v12;
      xmsg::xmsg((xmsg *)v15, (const string *)v16);
      ++v12;
      v11 = 24;
      --v12;
      string::~string((string *)v16);
      v12 += 2;
      v12 += 3;
      _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v10);
    }
    ++v8;
    v4 = *(_DWORD **)(*(_DWORD *)(a2 + 9) + 4 * v3);
    v5 = (_DWORD *)sub_405E1C(a1, (string *)(v4 + 1), 0);
    if ( v5 )
    {
      result = sub_4057A9(v5, v4);
    }
    else
    {
      result = (_DWORD *)(*(int (__cdecl **)(_DWORD *))(*v4 + 8))(v4);
      if ( (_BYTE)result )
      {
        v14 = (_DWORD *)operator new(0x10u);
        if ( v14 )
        {
          v11 = 48;
          *v14 = &off_43B554;
          string::string((string *)(v14 + 1));
          ++v12;
          sub_40573D(v14);
          sub_4057A9(v14, v4);
          v11 = 36;
          v6 = v14;
        }
        else
        {
          v6 = 0;
        }
        v7 = v6;
        result = (_DWORD *)sub_406A49((int)(a1 + 1), (int)v6);
        if ( !result )
        {
          v13 = (int (__cdecl ***)(_DWORD, int))v7;
          if ( v7 )
          {
            v11 = 72;
            result = (_DWORD *)(**v13)(v13, 3);
            v11 = 60;
          }
        }
      }
    }
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 40573D: using guessed type _DWORD __cdecl sub_40573D(_DWORD);
// 43B554: using guessed type int (__cdecl *off_43B554)(void *, char);

//----- (00406345) --------------------------------------------------------
void __cdecl sub_406345(_DWORD *a1, ipstream *a2)
{
  unsigned int Word; // edi
  int v3; // esi
  int v4; // ecx
  unsigned int i; // esi
  _DWORD *v6; // eax
  int v7; // edx
  void (__cdecl ***v8)(_DWORD, int); // [esp+10h] [ebp-4Ch]
  int v9; // [esp+18h] [ebp-44h]
  int v10; // [esp+3Ch] [ebp-20h]
  int v11; // [esp+3Ch] [ebp-20h]
  _DWORD *v12; // [esp+48h] [ebp-14h]
  int (__cdecl **v13)(void *, char); // [esp+4Ch] [ebp-10h] BYREF
  _DWORD v14[3]; // [esp+50h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  sub_406BA2((int)(a1 + 1), 1, 0xFFFFFFFF, 0);
  *(_DWORD *)((char *)a1 + 17) = 0;
  Word = ipstream::readWord(a2);
  v3 = Word + 1;
  if ( (signed int)(Word + 1) >= *a1 )
  {
    v9 = *(_DWORD *)((char *)a1 + 13);
    if ( v9 == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = *a1 + v9;
    if ( v3 >= v4 )
      sub_406954((int)(a1 + 1), v3 - *a1, 0);
  }
  else
  {
    sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v3 - *a1, 0);
  }
  v13 = &off_43B554;
  string::string((string *)v14);
  sub_40573D(&v13);
  v11 = v10 + 3;
  for ( i = 0; Word > i; ++i )
  {
    sub_4058E5((int)&v13, (int)a2);
    if ( *(_DWORD *)(v14[0] + 6) )
    {
      v6 = (_DWORD *)operator new(0x10u);
      v12 = v6;
      if ( v6 )
      {
        *v6 = &off_43B554;
        string::string((string *)(v6 + 1));
        ++v11;
        sub_40573D(v12);
        sub_4057A9(v12, &v13);
        v7 = (int)v12;
      }
      else
      {
        v7 = 0;
      }
      v8 = (void (__cdecl ***)(_DWORD, int))v7;
      if ( !sub_406A49((int)(a1 + 1), v7) && v8 )
        (**v8)(v8, 3);
    }
  }
  string::~string((string *)v14);
}
// 406406: variable 'v10' is possibly undefined
// 40573D: using guessed type _DWORD __cdecl sub_40573D(_DWORD);
// 43B554: using guessed type int (__cdecl *off_43B554)(void *, char);

//----- (0040650B) --------------------------------------------------------
unsigned int __cdecl sub_40650B(int a1, opstream *a2)
{
  unsigned int v3; // eax
  unsigned int result; // eax
  unsigned int v5; // esi
  unsigned int v6; // [esp+10h] [ebp-44h]
  unsigned int v7; // [esp+18h] [ebp-3Ch]
  char v8[16]; // [esp+20h] [ebp-34h] BYREF
  __int16 v9; // [esp+30h] [ebp-24h]
  int v10; // [esp+3Ch] [ebp-18h]
  char v11[4]; // [esp+44h] [ebp-10h] BYREF
  char v12[4]; // [esp+48h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  v3 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4);
  opstream::writeWord32(a2, v3);
  result = (**(int (__cdecl ***)(int))(a1 + 5))(a1 + 4);
  v6 = 0;
  v7 = result;
  while ( v6 < v7 )
  {
    v5 = v6;
    if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || v6 >= *(_DWORD *)(a1 + 13) )
    {
      xerror::MakeString((xerror *)v12, aPrecondition_8, aLim0Data0Index_2, aCBc5IncludeCla_6, 0x33Au);
      ++v10;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v10;
      v9 = 24;
      --v10;
      string::~string((string *)v12);
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    ++v6;
    result = sub_405922(*(_DWORD *)(*(_DWORD *)(a1 + 9) + 4 * v5), (int)a2);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004066A1) --------------------------------------------------------
unsigned int __cdecl sub_4066A1(_DWORD *a1, ipstream *a2, int a3)
{
  unsigned int result; // eax
  int v4; // ebx
  int v5; // edi
  int v6; // edx
  unsigned int i; // edi
  int v8; // eax
  int v9; // ebx
  unsigned int v10; // [esp+14h] [ebp-30h]
  int v11; // [esp+40h] [ebp-4h]

  __InitExceptBlockLDTC();
  sub_406BA2((int)(a1 + 1), 1, 0xFFFFFFFF, 0);
  *(_DWORD *)((char *)a1 + 17) = 0;
  result = ipstream::readWord(a2);
  v10 = result;
  v4 = result + 1;
  if ( (signed int)(result + 1) >= *a1 )
  {
    v5 = *(_DWORD *)((char *)a1 + 13);
    if ( v5 == -1 )
      v6 = 0x7FFFFFFF;
    else
      v6 = v5 + *a1;
    if ( v4 >= v6 )
      result = sub_406954((int)(a1 + 1), v4 - *a1, 0);
  }
  else
  {
    result = sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v4 - *a1, 0);
  }
  for ( i = 0; i < v10; ++i )
  {
    v8 = operator new(0x10u);
    v11 = v8;
    if ( v8 )
    {
      unknown_libname_4(v8, a2, a3);
      v9 = v11;
    }
    else
    {
      v9 = 0;
    }
    result = (*(int (__cdecl **)(int))(*(_DWORD *)v9 + 8))(v9);
    if ( (_BYTE)result )
    {
      result = sub_406A49((int)(a1 + 1), v9);
      if ( result )
        continue;
    }
    if ( v9 )
      result = (**(int (__cdecl ***)(int, int))v9)(v9, 3);
  }
  return result;
}
// 4056E4: using guessed type _DWORD __cdecl unknown_libname_4(_DWORD, _DWORD, _DWORD);

//----- (004067CD) --------------------------------------------------------
_DWORD *__cdecl sub_4067CD(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  return a1;
}

//----- (0040690F) --------------------------------------------------------
xmsg *__cdecl sub_40690F(xmsg *a1, const xmsg *a2)
{
  __InitExceptBlockLDTC();
  xmsg::xmsg(a1, a2);
  return a1;
}
// 438D9C: using guessed type xmsg *xmsg::xmsg(xmsg *__hidden this, const xmsg *);

//----- (00406954) --------------------------------------------------------
int __cdecl sub_406954(int a1, unsigned int a2, int a3)
{
  unsigned int v4; // eax
  unsigned int v5; // eax
  void *v6; // eax
  unsigned int *v7; // edx
  unsigned int i; // eax
  int v9; // [esp+Ch] [ebp-10h] BYREF
  unsigned int v10; // [esp+10h] [ebp-Ch]
  int v11; // [esp+14h] [ebp-8h]
  unsigned int v12; // [esp+18h] [ebp-4h]

  if ( a2 <= *(_DWORD *)(a1 + 9) || !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1) )
    return 0;
  v4 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1);
  if ( (a2 - *(_DWORD *)(a1 + 9)) % v4 )
    v5 = v4 * ((v4 + a2 - *(_DWORD *)(a1 + 9)) / v4);
  else
    v5 = a2 - *(_DWORD *)(a1 + 9);
  v12 = *(_DWORD *)(a1 + 9) + v5;
  v6 = (void *)operator new[](4 * v12);
  v11 = _vector_new_ldtc_(v6, 4u, v12, 1u, sub_4067CD, 0, 0);
  v9 = v12 - a3;
  if ( *(_DWORD *)(a1 + 9) <= v12 - a3 )
    v7 = (unsigned int *)(a1 + 9);
  else
    v7 = (unsigned int *)&v9;
  v10 = *v7;
  for ( i = 0; i < v10; ++i )
    *(_DWORD *)(v11 + 4 * (i + a3)) = *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i);
  operator delete[](*(void **)(a1 + 5));
  *(_DWORD *)(a1 + 5) = v11;
  *(_DWORD *)(a1 + 9) = v12;
  (*(void (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, a3 + v10, v12);
  return 1;
}

//----- (00406A49) --------------------------------------------------------
int __cdecl sub_406A49(int a1, int a2)
{
  unsigned int v2; // esi
  int v4; // eax
  _BYTE v5[16]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v6; // [esp+1Ch] [ebp-1Ch]
  int v7; // [esp+28h] [ebp-10h]
  _BYTE v8[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  while ( *(_DWORD *)(a1 + 13) < *(_DWORD *)(a1 + 9) )
  {
    v2 = *(_DWORD *)(a1 + 13);
    if ( *(_DWORD *)(a1 + 9) && (!*(_DWORD *)(a1 + 5) || v2 >= *(_DWORD *)(a1 + 9)) )
    {
      xerror::MakeString((xerror *)v9, aPrecondition_9, aLim0Data0Index_3, aCBc5IncludeCla_7, 0x334u);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 12;
      --v7;
      string::~string((string *)v9);
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    if ( !*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v2) )
      break;
    ++*(_DWORD *)(a1 + 13);
  }
  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_406954(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v4 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v4 + 1;
  *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v4) = a2;
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00406B5F) --------------------------------------------------------
int __cdecl sub_406B5F(int (__cdecl ***a1)(_DWORD, int))
{
  int result; // eax

  result = __InitExceptBlockLDTC();
  if ( a1 )
    return (**a1)(a1, 3);
  return result;
}

//----- (00406BA2) --------------------------------------------------------
int __cdecl sub_406BA2(int a1, int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // esi
  unsigned int *v5; // ecx
  unsigned int v7; // [esp+8h] [ebp-4h] BYREF

  v4 = a4;
  v7 = *(_DWORD *)(a1 + 9);
  if ( a3 >= v7 )
    v5 = &v7;
  else
    v5 = &a3;
  a3 = *v5;
  if ( a2 )
    sub_406BF6(a1, (int (__cdecl *)(_DWORD, int))sub_406B5F, 0, a4, a3);
  return (*(int (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v4, a3);
}

//----- (00406BF6) --------------------------------------------------------
int __cdecl sub_406BF6(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5)
{
  unsigned int i; // ebx
  int result; // eax

  for ( i = a4; a5 > i; ++i )
  {
    result = *(_DWORD *)(a1 + 5);
    if ( *(_DWORD *)(result + 4 * i) )
      result = a2(*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i), a3);
  }
  return result;
}

//----- (00406C2B) --------------------------------------------------------
unsigned int __cdecl sub_406C2B(int a1, unsigned int a2, unsigned int a3)
{
  unsigned int result; // eax
  int *v4; // edx
  unsigned int v5; // [esp+8h] [ebp-4h] BYREF

  for ( result = a2; ; ++result )
  {
    v5 = *(_DWORD *)(a1 + 9);
    v4 = (int *)(v5 >= a3 ? &a3 : &v5);
    if ( result >= *v4 )
      break;
    *(_DWORD *)(4 * result + *(_DWORD *)(a1 + 5)) = 0;
  }
  return result;
}

//----- (00406C67) --------------------------------------------------------
void __cdecl sub_406C67(xmsg *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    xmsg::~xmsg(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00406D2D) --------------------------------------------------------
void __cdecl sub_406D2D(_DWORD *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_43B554;
    string::~string((string *)(a1 + 1));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B554: using guessed type int (__cdecl *off_43B554)(void *, char);

//----- (00406DE5) --------------------------------------------------------
int __cdecl sub_406DE5(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00406DF0) --------------------------------------------------------
int __cdecl sub_406DF0(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00406EF7) --------------------------------------------------------
int __cdecl sub_406EF7(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00406F02) --------------------------------------------------------
int __cdecl sub_406F02(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00406F0D) --------------------------------------------------------
int __cdecl sub_406F0D(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (00406F18) --------------------------------------------------------
bool sub_406F18()
{
  bool v1; // [esp-4h] [ebp-3Ch]
  _BYTE v2[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v3[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  to_upper((const string *)v3);
  to_upper((const string *)v2);
  v1 = string::compare((string *)v2, (const string *)v3) > 0;
  string::~string((string *)v3);
  string::~string((string *)v2);
  return v1;
}

//----- (00406FAA) --------------------------------------------------------
bool __cdecl sub_406FAA(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 6) != 0;
}

//----- (00406FC1) --------------------------------------------------------
void __cdecl sub_406FC1(void *a1)
{
  operator delete(a1);
}

//----- (00406FCF) --------------------------------------------------------
void __cdecl sub_406FCF(void *a1)
{
  operator delete[](a1);
}

//----- (00406FDD) --------------------------------------------------------
void __cdecl sub_406FDD(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00407034) --------------------------------------------------------
void __cdecl sub_407034(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (004070EB) --------------------------------------------------------
void __cdecl sub_4070EB(char *a1, char a2)
{
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0040713C) --------------------------------------------------------
void __cdecl sub_40713C(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_406BA2((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00407257) --------------------------------------------------------
void __cdecl sub_407257(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_406BA2((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00407392) --------------------------------------------------------
void __cdecl sub_407392(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_406BA2((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00407558) --------------------------------------------------------
void __cdecl sub_407558(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (004075B8) --------------------------------------------------------
char *__cdecl sub_4075B8(char *dest, int a2)
{
  char *result; // eax
  _DWORD v3[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+18h] [ebp-1Ch]
  int v5; // [esp+24h] [ebp-10h]
  _BYTE v6[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !dest )
  {
    v4 = 8;
    xerror::MakeString((xerror *)v7, aPrecondition_10, aDestNull, aDllVarCpp, 9u);
    ++v5;
    xmsg::xmsg((xmsg *)v6, (const string *)v7);
    ++v5;
    v4 = 20;
    --v5;
    string::~string((string *)v7);
    v4 = 8;
    v5 += 2;
    v5 += 3;
    _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
  }
  result = strncpy(dest, *(const char **)(*(_DWORD *)(a2 + 4) + 2), 0x100u);
  dest[255] = 0;
  *((_DWORD *)dest + 64) = *(_DWORD *)(a2 + 12);
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0040768D) --------------------------------------------------------
char *__cdecl sub_40768D(int a1)
{
  unsigned int v2; // [esp+10h] [ebp-8Ch]
  unsigned int v3; // [esp+18h] [ebp-84h]
  char *v4; // [esp+24h] [ebp-78h]
  char *v5; // [esp+28h] [ebp-74h]
  char *dest; // [esp+34h] [ebp-68h]
  _BYTE v7[16]; // [esp+38h] [ebp-64h] BYREF
  __int16 v8; // [esp+48h] [ebp-54h]
  int v9; // [esp+54h] [ebp-48h]
  _BYTE v10[4]; // [esp+5Ch] [ebp-40h] BYREF
  _BYTE v11[4]; // [esp+60h] [ebp-3Ch] BYREF
  _BYTE v12[4]; // [esp+64h] [ebp-38h] BYREF
  _BYTE v13[4]; // [esp+68h] [ebp-34h] BYREF
  _BYTE v14[4]; // [esp+6Ch] [ebp-30h] BYREF
  _BYTE v15[4]; // [esp+70h] [ebp-2Ch] BYREF
  _BYTE v16[4]; // [esp+7Ch] [ebp-20h] BYREF
  _BYTE v17[4]; // [esp+80h] [ebp-1Ch] BYREF
  _BYTE v18[4]; // [esp+84h] [ebp-18h] BYREF
  _BYTE v19[4]; // [esp+88h] [ebp-14h] BYREF
  _BYTE v20[4]; // [esp+8Ch] [ebp-10h] BYREF
  _BYTE v21[4]; // [esp+90h] [ebp-Ch] BYREF
  _BYTE v22[4]; // [esp+94h] [ebp-8h] BYREF
  _BYTE v23[4]; // [esp+98h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4) )
    return 0;
  v3 = (**(int (__cdecl ***)(int))(a1 + 5))(a1 + 4);
  dest = (char *)operator new(0x108u);
  if ( !v3 )
  {
    xerror::MakeString((xerror *)v23, aPrecondition_139, aCurUpper_11, aCBc5IncludeCla_49, 0x3DBu);
    ++v9;
    xmsg::xmsg((xmsg *)v22, (const string *)v23);
    ++v9;
    v8 = 12;
    --v9;
    string::~string((string *)v23);
    v9 += 2;
    v9 += 3;
    _ThrowExceptionLDTC(stru_403B88, v22, 0, sub_403BE0, 1u, 0, 0, 0, v7);
  }
  if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || !*(_DWORD *)(a1 + 13) )
  {
    xerror::MakeString((xerror *)v21, aPrecondition_140, aLim0Data0Index_30, aCBc5IncludeCla_50, 0x33Au);
    ++v9;
    xmsg::xmsg((xmsg *)v20, (const string *)v21);
    ++v9;
    v8 = 24;
    --v9;
    string::~string((string *)v21);
    v9 += 2;
    v9 += 3;
    _ThrowExceptionLDTC(stru_403B88, v20, 0, sub_403BE0, 1u, 0, 0, 0, v7);
  }
  sub_4075B8(dest, **(_DWORD **)(a1 + 9));
  *((_DWORD *)dest + 65) = 0;
  if ( !v3 )
  {
    v8 = 36;
    xerror::MakeString((xerror *)v19, aPrecondition_141, aCurUpper_12, aCBc5IncludeCla_51, 0x3DBu);
    ++v9;
    xmsg::xmsg((xmsg *)v18, (const string *)v19);
    ++v9;
    v8 = 48;
    --v9;
    string::~string((string *)v19);
    v8 = 36;
    v9 += 2;
    v9 += 3;
    _ThrowExceptionLDTC(stru_403B88, v18, 0, sub_403BE0, 1u, 0, 0, 0, v7);
  }
  if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || !*(_DWORD *)(a1 + 13) )
  {
    xerror::MakeString((xerror *)v17, aPrecondition_142, aLim0Data0Index_31, aCBc5IncludeCla_52, 0x33Au);
    ++v9;
    xmsg::xmsg((xmsg *)v16, (const string *)v17);
    ++v9;
    v8 = 60;
    --v9;
    string::~string((string *)v17);
    v8 = 36;
    v9 += 2;
    v9 += 3;
    _ThrowExceptionLDTC(stru_403B88, v16, 0, sub_403BE0, 1u, 0, 0, 0, v7);
  }
  v2 = 1;
  v5 = dest;
  while ( v2 < v3 )
  {
    v4 = (char *)operator new(0x108u);
    if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || *(_DWORD *)(a1 + 13) <= v2 )
    {
      xerror::MakeString((xerror *)v15, aPrecondition_144, aLim0Data0Index_32, aCBc5IncludeCla_54, 0x33Au);
      ++v9;
      xmsg::xmsg((xmsg *)v14, (const string *)v15);
      ++v9;
      v8 = 96;
      --v9;
      string::~string((string *)v15);
      v8 = 72;
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    sub_4075B8(v4, *(_DWORD *)(4 * v2 + *(_DWORD *)(a1 + 9)));
    *((_DWORD *)v5 + 65) = v4;
    v5 = v4;
    if ( v2 >= v3 )
    {
      v8 = 108;
      xerror::MakeString((xerror *)v13, aPrecondition_145, aCurUpper_14, aCBc5IncludeCla_55, 0x3DBu);
      ++v9;
      xmsg::xmsg((xmsg *)v12, (const string *)v13);
      ++v9;
      v8 = 120;
      --v9;
      string::~string((string *)v13);
      v8 = 108;
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || *(_DWORD *)(a1 + 13) <= v2 )
    {
      xerror::MakeString((xerror *)v11, aPrecondition_146, aLim0Data0Index_33, aCBc5IncludeCla_56, 0x33Au);
      ++v9;
      xmsg::xmsg((xmsg *)v10, (const string *)v11);
      ++v9;
      v8 = 132;
      --v9;
      string::~string((string *)v11);
      v8 = 108;
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    ++v2;
  }
  *((_DWORD *)v5 + 65) = 0;
  return dest;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00407C8B) --------------------------------------------------------
void __cdecl sub_407C8B(void **a1)
{
  if ( *a1 )
  {
    if ( *((_DWORD *)*a1 + 65) )
      sub_407C8B((char *)*a1 + 260);
    operator delete(*a1);
    *a1 = 0;
  }
}

//----- (00407CC0) --------------------------------------------------------
int __cdecl sub_407CC0(string *a1)
{
  unsigned int v1; // esi
  const char *v3; // eax
  _BYTE *v4; // edi
  const char *v5; // eax
  int v6; // esi
  const char *v7; // eax
  int v8; // ebx
  int v9; // eax
  int v10; // eax
  int v11; // ebx
  int v12; // [esp-4h] [ebp-44h]
  int v13; // [esp-4h] [ebp-44h]
  _BYTE v14[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v15[4]; // [esp+38h] [ebp-8h] BYREF
  int v16; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::assert_element(a1, 0);
  if ( **(_BYTE **)(*(_DWORD *)a1 + 2) != 60 )
    return 0;
  v1 = *(_DWORD *)(*(_DWORD *)a1 + 6) - 1;
  string::assert_element(a1, v1);
  if ( *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a1 + 2) + v1) != 62 )
    return 0;
  string::substr((string *)&v16, (unsigned int)a1, 1u);
  sub_404C08((string *)&v16);
  if ( !strnicmp(*(const char **)(v16 + 2), aRandom, 6u) )
  {
    v3 = (const char *)string::operator()(&v16, 6);
    v4 = (_BYTE *)strnewdup(v3, 0);
    v5 = sub_407ED3(v4, 0);
    string::string((string *)v15, v5);
    v6 = sub_407FE5((string *)v15, 100);
    string::~string((string *)v15);
    v7 = sub_407ED3(0, 0);
    string::string((string *)v14, v7);
    v8 = sub_407FE5((string *)v14, 0);
    string::~string((string *)v14);
    operator delete[](v4);
    if ( v6 < v8 )
    {
      v9 = v8;
      v8 = v6;
      v6 = v9;
    }
    if ( v6 - v8 == -1 )
      v10 = 0;
    else
      v10 = _lrand() % (v6 - v8 + 1);
    v12 = v8 + v10;
    string::~string((string *)&v16);
    return v12;
  }
  else
  {
    v11 = sub_405E1C(dword_44ECCE, (string *)&v16, 0);
    if ( v11 )
      v13 = *(_DWORD *)(v11 + 12);
    else
      v13 = atol(*(const char **)(v16 + 2));
    string::~string((string *)&v16);
    return v13;
  }
}
// 438EE0: using guessed type int __cdecl string::operator()(_DWORD, _DWORD);
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (00407ED3) --------------------------------------------------------
_BYTE *__cdecl sub_407ED3(_BYTE *a1, _DWORD *a2)
{
  _BYTE *v3; // ebx
  char v4; // dl
  int v5; // edx

  if ( a1 )
    dword_44EC00 = a1;
  if ( a2 )
    *a2 = 0;
  if ( !dword_44EC00 )
    return &unk_43F914;
  while ( *dword_44EC00 == 32 )
    ++dword_44EC00;
  v3 = dword_44EC00;
  if ( *dword_44EC00 == 34 )
  {
    ++dword_44EC00;
    v4 = 1;
    while ( *++dword_44EC00 && v4 )
    {
      if ( *dword_44EC00 == 34 )
      {
        v4 = 0;
      }
      else if ( *dword_44EC00 == 92 && dword_44EC00[1] == 34 )
      {
        ++dword_44EC00;
      }
    }
    if ( *dword_44EC00 )
      ++dword_44EC00;
    if ( *dword_44EC00 )
      *dword_44EC00++ = 0;
  }
  else if ( *dword_44EC00 == 60 )
  {
    v5 = 1;
    ++dword_44EC00;
    while ( *dword_44EC00 && v5 )
    {
      if ( *dword_44EC00 == 62 )
      {
        --v5;
      }
      else if ( *dword_44EC00 == 60 )
      {
        ++v5;
      }
      ++dword_44EC00;
    }
    if ( *dword_44EC00 )
      *dword_44EC00++ = 0;
  }
  else
  {
    while ( *dword_44EC00 && *dword_44EC00 != 32 )
      ++dword_44EC00;
  }
  while ( *dword_44EC00 == 32 )
    *dword_44EC00++ = 0;
  if ( a2 )
    *a2 = dword_44EC00;
  return v3;
}
// 44EC00: using guessed type _BYTE *dword_44EC00;

//----- (00407FE5) --------------------------------------------------------
int __cdecl sub_407FE5(string *a1, int a2)
{
  unsigned int v3; // esi

  if ( !**(_BYTE **)(*(_DWORD *)a1 + 2) )
    return a2;
  string::assert_element(a1, 0);
  if ( **(_BYTE **)(*(_DWORD *)a1 + 2) == 60
    && (v3 = *(_DWORD *)(*(_DWORD *)a1 + 6) - 1,
        string::assert_element(a1, v3),
        *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a1 + 2) + v3) == 62) )
  {
    return sub_407CC0(a1);
  }
  else
  {
    return atol(*(const char **)(*(_DWORD *)a1 + 2));
  }
}

//----- (0040804E) --------------------------------------------------------
string *__cdecl sub_40804E(string *a1, string *a2, string *a3)
{
  string *result; // eax
  unsigned int v4; // edi
  unsigned int i; // ebx
  unsigned int v6; // edi
  int v7; // eax
  char buffer[24]; // [esp+Ch] [ebp-50h] BYREF
  __int16 v9; // [esp+34h] [ebp-28h]
  int v10; // [esp+40h] [ebp-1Ch]
  _BYTE v11[4]; // [esp+48h] [ebp-14h] BYREF
  _BYTE v12[4]; // [esp+4Ch] [ebp-10h] BYREF
  int v13; // [esp+50h] [ebp-Ch] BYREF
  int v14; // [esp+54h] [ebp-8h] BYREF
  int v15; // [esp+58h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( **(_BYTE **)(*(_DWORD *)a2 + 2) )
  {
    string::string((string *)&v15, &byte_43F915);
    ++v10;
    v9 = 20;
    string::assert_element(a2, 0);
    if ( **(_BYTE **)(*(_DWORD *)a2 + 2) == 34
      && (v4 = *(_DWORD *)(*(_DWORD *)a2 + 6) - 1,
          string::assert_element(a2, v4),
          *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v4) == 34) )
    {
      string::substr((string *)v12, (unsigned int)a2, 1u);
      string::assign((string *)&v15, (const string *)v12, 0, 0xFFFFFFFF);
      string::~string((string *)v12);
      string::string((string *)&v14, asc_43F916);
      string::string((string *)&v13, asc_43F919);
      v10 += 2;
      v9 = 56;
      for ( i = string::find((string *)&v15, (const string *)&v14, 0);
            i != -1;
            i = string::find((string *)&v15, (const string *)&v14, *(_DWORD *)(v13 + 6) + i) )
      {
        string::replace((string *)&v15, i, *(_DWORD *)(v14 + 6), (const string *)&v13, 0, 0xFFFFFFFF);
      }
      string::~string((string *)&v13);
      v10 -= 2;
      string::~string((string *)&v14);
    }
    else
    {
      string::assert_element(a2, 0);
      if ( **(_BYTE **)(*(_DWORD *)a2 + 2) == 60
        && (v6 = *(_DWORD *)(*(_DWORD *)a2 + 6) - 1,
            string::assert_element(a2, v6),
            *(_BYTE *)(*(_DWORD *)(*(_DWORD *)a2 + 2) + v6) == 62) )
      {
        v7 = sub_407CC0(a2);
        sprintf(buffer, "%li", v7);
        v9 = 92;
        string::string((string *)v11, buffer);
        ++v10;
        string::assign((string *)&v15, (const string *)v11, 0, 0xFFFFFFFF);
        --v10;
        string::~string((string *)v11);
      }
      else
      {
        string::assign((string *)&v15, a2, 0, 0xFFFFFFFF);
      }
    }
    if ( **(_BYTE **)(v15 + 2) )
    {
      v9 = 128;
      string::string(a1, (const string *)&v15);
      ++v10;
      v9 = 140;
      --v10;
      string::~string((string *)&v15);
      result = a1;
      v9 = 128;
    }
    else
    {
      v9 = 104;
      string::string(a1, a3);
      ++v10;
      v9 = 116;
      --v10;
      string::~string((string *)&v15);
      result = a1;
      v9 = 104;
    }
    ++v10;
  }
  else
  {
    v9 = 8;
    string::string(a1, a3);
    v10 += 2;
    return a1;
  }
  return result;
}

//----- (0040834C) --------------------------------------------------------
string *__cdecl sub_40834C(string *a1, int a2)
{
  char buffer[16]; // [esp+4h] [ebp-34h] BYREF
  __int16 v4; // [esp+24h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "%u", *(_DWORD *)(a2 + 4));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (004083A1) --------------------------------------------------------
_DWORD *__cdecl sub_4083A1(_DWORD *a1, int a2)
{
  _BYTE *v2; // esi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  _BYTE v8[4]; // [esp+30h] [ebp-10h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v10[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440444;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  a1[4] = 0;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v11, v3);
  a1[1] = sub_407FE5((string *)v11, 0);
  string::~string((string *)v11);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v10, v4);
  a1[2] = sub_407FE5((string *)v10, 0);
  string::~string((string *)v10);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v9, v5);
  a1[3] = sub_407FE5((string *)v9, 0);
  string::~string((string *)v9);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v8, v6);
  a1[4] = sub_407FE5((string *)v8, 0);
  string::~string((string *)v8);
  operator delete[](v2);
  return a1;
}
// 440444: using guessed type int (*off_440444)();
// 440458: using guessed type int (*off_440458[2])();

//----- (00408517) --------------------------------------------------------
string *__cdecl sub_408517(string *a1, _DWORD *a2)
{
  char buffer[256]; // [esp+4h] [ebp-124h] BYREF
  __int16 v4; // [esp+114h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "%i %i %i %i", a2[1], a2[2], a2[3], a2[4]);
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040857E) --------------------------------------------------------
_DWORD *__cdecl sub_40857E(_DWORD *a1, int a2)
{
  _BYTE *v2; // esi
  const char *v3; // eax
  const char *v4; // eax
  _BYTE v6[4]; // [esp+30h] [ebp-10h] BYREF
  _BYTE v7[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v8[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F92E);
  *a1 = &off_44041C;
  a1[2] = 1;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v9, byte_43F76A);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v8, v3);
  sub_40804E((string *)v7, (string *)v8, (string *)v9);
  string::assign((string *)(a1 + 1), (const string *)v7, 0, 0xFFFFFFFF);
  string::~string((string *)v7);
  string::~string((string *)v8);
  string::~string((string *)v9);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v6, v4);
  a1[2] = sub_407FE5((string *)v6, 0);
  string::~string((string *)v6);
  operator delete[](v2);
  return a1;
}
// 44041C: using guessed type int (__cdecl *off_44041C)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (004086E6) --------------------------------------------------------
string *__cdecl sub_4086E6(string *a1, int a2)
{
  char buffer[276]; // [esp+4h] [ebp-138h] BYREF
  __int16 v4; // [esp+128h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "\"%s\" %u", *(const char **)(*(_DWORD *)(a2 + 4) + 2), *(_DWORD *)(a2 + 8));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040874A) --------------------------------------------------------
string *__cdecl sub_40874A(string *a1, int a2)
{
  char buffer[16]; // [esp+4h] [ebp-34h] BYREF
  __int16 v4; // [esp+24h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "%i", *(_DWORD *)(a2 + 4));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040879F) --------------------------------------------------------
string *__cdecl sub_40879F(string *a1, int a2)
{
  char buffer[16]; // [esp+4h] [ebp-34h] BYREF
  __int16 v4; // [esp+24h] [ebp-14h]

  __InitExceptBlockLDTC();
  if ( *(_BYTE *)(a2 + 8) )
    sprintf(buffer, "%+i", *(_DWORD *)(a2 + 4));
  else
    sprintf(buffer, "%i", *(_DWORD *)(a2 + 4));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (00408810) --------------------------------------------------------
_DWORD *__cdecl sub_408810(_DWORD *a1, int a2)
{
  _BYTE *v2; // ebx
  const char *v3; // eax
  const char *v4; // eax
  _BYTE v6[4]; // [esp+2Ch] [ebp-10h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-Ch] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+38h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F941);
  *a1 = &off_440408;
  a1[2] = 0;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v9, byte_43F76A);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v8, v3);
  sub_40804E((string *)v7, (string *)v8, (string *)v9);
  string::assign((string *)(a1 + 1), (const string *)v7, 0, 0xFFFFFFFF);
  string::~string((string *)v7);
  string::~string((string *)v8);
  string::~string((string *)v9);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v6, v4);
  a1[2] = sub_407FE5((string *)v6, 0);
  string::~string((string *)v6);
  operator delete[](v2);
  return a1;
}
// 440408: using guessed type int (__cdecl *off_440408)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (00408972) --------------------------------------------------------
string *__cdecl sub_408972(string *a1, int a2)
{
  char buffer[276]; // [esp+4h] [ebp-138h] BYREF
  __int16 v4; // [esp+128h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "\"%s\" %u", *(const char **)(*(_DWORD *)(a2 + 4) + 2), *(_DWORD *)(a2 + 8));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (004089D6) --------------------------------------------------------
_DWORD *__cdecl sub_4089D6(_DWORD *a1, int a2)
{
  _BYTE *v2; // ebx
  const char *v3; // eax
  const char *v4; // eax
  _BYTE v6[4]; // [esp+2Ch] [ebp-10h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-Ch] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+38h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F94A);
  *a1 = &off_440408;
  a1[2] = 0;
  *a1 = &off_4403F4;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v9, byte_43F76A);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v8, v3);
  sub_40804E((string *)v7, (string *)v8, (string *)v9);
  string::assign((string *)(a1 + 1), (const string *)v7, 0, 0xFFFFFFFF);
  string::~string((string *)v7);
  string::~string((string *)v8);
  string::~string((string *)v9);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v6, v4);
  a1[2] = sub_407FE5((string *)v6, 0);
  string::~string((string *)v6);
  operator delete[](v2);
  return a1;
}
// 4403F4: using guessed type int (__cdecl *off_4403F4)(int);
// 440408: using guessed type int (__cdecl *off_440408)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (00408B45) --------------------------------------------------------
string *__cdecl sub_408B45(string *a1, int a2)
{
  char buffer[516]; // [esp+4h] [ebp-228h] BYREF
  __int16 v4; // [esp+218h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "\"%s\" %u", *(const char **)(*(_DWORD *)(a2 + 4) + 2), *(_DWORD *)(a2 + 8));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (00408BA9) --------------------------------------------------------
_DWORD *__cdecl sub_408BA9(_DWORD *a1, int a2)
{
  _BYTE *v2; // edi
  const char *v3; // esi
  _BOOL1 v4; // cl
  const char *v5; // esi
  _BOOL1 v6; // cl
  const char *v7; // eax
  _BOOL1 v9; // [esp+Eh] [ebp-32h]
  _BOOL1 v10; // [esp+Fh] [ebp-31h]
  _BYTE v11[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v12[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v13[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_4403E0;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v13, v3);
  a1[1] = sub_407FE5((string *)v13, 0);
  string::~string((string *)v13);
  v4 = *v3 == 43 || *v3 == 45;
  v10 = v4;
  v5 = sub_407ED3(0, 0);
  string::string((string *)v12, v5);
  a1[2] = sub_407FE5((string *)v12, 0);
  string::~string((string *)v12);
  v6 = *v5 == 43 || *v5 == 45;
  v9 = v6;
  v7 = sub_407ED3(0, 0);
  string::string((string *)v11, v7);
  a1[3] = sub_407FE5((string *)v11, 0);
  string::~string((string *)v11);
  if ( v10 )
    a1[3] |= 8u;
  if ( v9 )
    a1[3] |= 0x10u;
  operator delete[](v2);
  return a1;
}
// 4403E0: using guessed type int (*off_4403E0)();
// 440458: using guessed type int (*off_440458[2])();

//----- (00408D22) --------------------------------------------------------
string *__cdecl sub_408D22(string *a1, int a2)
{
  size_t v2; // eax
  size_t v3; // eax
  size_t v4; // eax
  size_t v5; // eax
  size_t v6; // eax
  char buffer[256]; // [esp+8h] [ebp-128h] BYREF
  __int16 v9; // [esp+118h] [ebp-18h]
  int v10; // [esp+124h] [ebp-Ch]
  int v11; // [esp+12Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)&v11, &algn_43F953);
  ++v10;
  v9 = 20;
  if ( (*(_BYTE *)(a2 + 12) & 8) != 0 )
  {
    v2 = strlen(aU_4);
    string::append((string *)&v11, aU_4, 0, v2);
  }
  else
  {
    v3 = strlen(aU_5);
    string::append((string *)&v11, aU_5, 0, v3);
  }
  if ( (*(_BYTE *)(a2 + 12) & 0x10) != 0 )
  {
    v4 = strlen(aU_6);
    string::append((string *)&v11, aU_6, 0, v4);
  }
  else
  {
    v5 = strlen(aU_7);
    string::append((string *)&v11, aU_7, 0, v5);
  }
  v6 = strlen(aU_8);
  string::append((string *)&v11, aU_8, 0, v6);
  sprintf(buffer, *(const char **)(v11 + 2), *(_DWORD *)(a2 + 4), *(_DWORD *)(a2 + 8), *(_DWORD *)(a2 + 12));
  v9 = 32;
  string::string(a1, buffer);
  v9 = 44;
  string::~string((string *)&v11);
  return a1;
}
// 43F953: using guessed type _BYTE;

//----- (00408E8E) --------------------------------------------------------
_DWORD *__cdecl sub_408E8E(_DWORD *a1, int a2)
{
  _BYTE *v2; // esi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax
  _BYTE v10[4]; // [esp+30h] [ebp-20h] BYREF
  _BYTE v11[4]; // [esp+34h] [ebp-1Ch] BYREF
  _BYTE v12[4]; // [esp+38h] [ebp-18h] BYREF
  _BYTE v13[4]; // [esp+3Ch] [ebp-14h] BYREF
  _BYTE v14[4]; // [esp+40h] [ebp-10h] BYREF
  _BYTE v15[4]; // [esp+44h] [ebp-Ch] BYREF
  _BYTE v16[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v17[4]; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F969);
  *a1 = &off_440408;
  a1[2] = 0;
  *a1 = &off_4403CC;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
  a1[6] = 0;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v17, byte_43F76A);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v16, v3);
  sub_40804E((string *)v15, (string *)v16, (string *)v17);
  string::assign((string *)(a1 + 1), (const string *)v15, 0, 0xFFFFFFFF);
  string::~string((string *)v15);
  string::~string((string *)v16);
  string::~string((string *)v17);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v14, v4);
  a1[2] = sub_407FE5((string *)v14, 0);
  string::~string((string *)v14);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v13, v5);
  a1[3] = sub_407FE5((string *)v13, 0);
  string::~string((string *)v13);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v12, v6);
  a1[4] = sub_407FE5((string *)v12, 0);
  string::~string((string *)v12);
  v7 = sub_407ED3(0, 0);
  string::string((string *)v11, v7);
  a1[5] = sub_407FE5((string *)v11, 0);
  string::~string((string *)v11);
  v8 = sub_407ED3(0, 0);
  string::string((string *)v10, v8);
  a1[6] = sub_407FE5((string *)v10, 0);
  string::~string((string *)v10);
  operator delete[](v2);
  return a1;
}
// 4403CC: using guessed type int (__cdecl *off_4403CC)(int);
// 440408: using guessed type int (__cdecl *off_440408)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040912A) --------------------------------------------------------
string *__cdecl sub_40912A(string *a1, _DWORD *a2)
{
  char buffer[516]; // [esp+4h] [ebp-228h] BYREF
  __int16 v4; // [esp+218h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "\"%s\" %u %i %i %i %i", *(const char **)(a2[1] + 2), a2[2], a2[3], a2[4], a2[5], a2[6]);
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040919A) --------------------------------------------------------
_DWORD *__cdecl sub_40919A(_DWORD *a1, int a2)
{
  _BYTE *v2; // esi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax
  char *v10; // [esp+Ch] [ebp-54h] BYREF
  __int16 v11; // [esp+20h] [ebp-40h]
  int v12; // [esp+2Ch] [ebp-34h]
  _BYTE v13[4]; // [esp+34h] [ebp-2Ch] BYREF
  _BYTE v14[4]; // [esp+38h] [ebp-28h] BYREF
  _BYTE v15[4]; // [esp+3Ch] [ebp-24h] BYREF
  _BYTE v16[4]; // [esp+40h] [ebp-20h] BYREF
  _BYTE v17[4]; // [esp+44h] [ebp-1Ch] BYREF
  _BYTE v18[4]; // [esp+48h] [ebp-18h] BYREF
  _BYTE v19[4]; // [esp+4Ch] [ebp-14h] BYREF
  _BYTE v20[4]; // [esp+50h] [ebp-10h] BYREF
  _BYTE v21[4]; // [esp+54h] [ebp-Ch] BYREF
  _BYTE v22[4]; // [esp+58h] [ebp-8h] BYREF
  _BYTE v23[4]; // [esp+5Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v11 = 8;
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F97F);
  v12 += 3;
  *a1 = &off_440408;
  a1[2] = 0;
  v12 += 3;
  *a1 = &off_4403CC;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
  a1[6] = 0;
  v12 += 4;
  *a1 = &off_4403B8;
  string::string((string *)(a1 + 7), &byte_43F97E);
  ++v12;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v23, byte_43F76A);
  ++v12;
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v22, v3);
  ++v12;
  sub_40804E((string *)v21, (string *)v22, (string *)v23);
  ++v12;
  string::assign((string *)(a1 + 1), (const string *)v21, 0, 0xFFFFFFFF);
  --v12;
  string::~string((string *)v21);
  --v12;
  string::~string((string *)v22);
  --v12;
  string::~string((string *)v23);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v20, v4);
  ++v12;
  a1[2] = sub_407FE5((string *)v20, 0);
  --v12;
  string::~string((string *)v20);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v19, v5);
  ++v12;
  a1[3] = sub_407FE5((string *)v19, 0);
  --v12;
  string::~string((string *)v19);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v18, v6);
  ++v12;
  a1[4] = sub_407FE5((string *)v18, 0);
  --v12;
  string::~string((string *)v18);
  v7 = sub_407ED3(0, 0);
  string::string((string *)v17, v7);
  ++v12;
  a1[5] = sub_407FE5((string *)v17, 0);
  --v12;
  string::~string((string *)v17);
  v11 = 80;
  v8 = sub_407ED3(0, &v10);
  string::string((string *)v16, v8);
  ++v12;
  a1[6] = sub_407FE5((string *)v16, 0);
  --v12;
  string::~string((string *)v16);
  v11 = 92;
  string::string((string *)v15, byte_43F76A);
  ++v12;
  string::string((string *)v14, v10);
  ++v12;
  sub_40804E((string *)v13, (string *)v14, (string *)v15);
  ++v12;
  string::assign((string *)(a1 + 7), (const string *)v13, 0, 0xFFFFFFFF);
  --v12;
  string::~string((string *)v13);
  --v12;
  string::~string((string *)v14);
  --v12;
  string::~string((string *)v15);
  operator delete[](v2);
  return a1;
}
// 4403B8: using guessed type int (__cdecl *off_4403B8)(int);
// 4403CC: using guessed type int (__cdecl *off_4403CC)(int);
// 440408: using guessed type int (__cdecl *off_440408)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (004094E6) --------------------------------------------------------
string *__cdecl sub_4094E6(string *a1, _DWORD *a2)
{
  char buffer[776]; // [esp+4h] [ebp-32Ch] BYREF
  __int16 v4; // [esp+31Ch] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(
    buffer,
    "\"%s\" %u %i %i %i %i %s",
    *(const char **)(a2[1] + 2),
    a2[2],
    a2[3],
    a2[4],
    a2[5],
    a2[6],
    *(const char **)(a2[7] + 2));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040955C) --------------------------------------------------------
_DWORD *__cdecl sub_40955C(_DWORD *a1, int a2)
{
  _BYTE *v2; // edi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax
  const char *v9; // eax
  char *v11; // [esp+Ch] [ebp-60h] BYREF
  __int16 v12; // [esp+20h] [ebp-4Ch]
  int v13; // [esp+2Ch] [ebp-40h]
  _BYTE v14[4]; // [esp+34h] [ebp-38h] BYREF
  _BYTE v15[4]; // [esp+38h] [ebp-34h] BYREF
  _BYTE v16[4]; // [esp+3Ch] [ebp-30h] BYREF
  _BYTE v17[4]; // [esp+40h] [ebp-2Ch] BYREF
  _BYTE v18[4]; // [esp+44h] [ebp-28h] BYREF
  _BYTE v19[4]; // [esp+48h] [ebp-24h] BYREF
  _BYTE v20[4]; // [esp+4Ch] [ebp-20h] BYREF
  _BYTE v21[4]; // [esp+50h] [ebp-1Ch] BYREF
  _BYTE v22[4]; // [esp+54h] [ebp-18h] BYREF
  _BYTE v23[4]; // [esp+58h] [ebp-14h] BYREF
  _BYTE v24[4]; // [esp+5Ch] [ebp-10h] BYREF
  _BYTE v25[4]; // [esp+60h] [ebp-Ch] BYREF
  _BYTE v26[4]; // [esp+64h] [ebp-8h] BYREF
  _BYTE v27[4]; // [esp+68h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v12 = 8;
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F999);
  v13 += 3;
  *a1 = &off_440408;
  a1[2] = 0;
  v13 += 3;
  *a1 = &off_4403CC;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
  a1[6] = 0;
  v13 += 4;
  *a1 = &off_4403B8;
  string::string((string *)(a1 + 7), &byte_43F998);
  v13 += 7;
  *a1 = &off_4403A4;
  string::string((string *)(a1 + 8), &byte_43F997);
  ++v13;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v27, byte_43F76A);
  ++v13;
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v26, v3);
  ++v13;
  sub_40804E((string *)v25, (string *)v26, (string *)v27);
  ++v13;
  string::assign((string *)(a1 + 8), (const string *)v25, 0, 0xFFFFFFFF);
  --v13;
  string::~string((string *)v25);
  --v13;
  string::~string((string *)v26);
  --v13;
  string::~string((string *)v27);
  string::string((string *)v24, byte_43F76A);
  ++v13;
  v4 = sub_407ED3(0, 0);
  string::string((string *)v23, v4);
  ++v13;
  sub_40804E((string *)v22, (string *)v23, (string *)v24);
  ++v13;
  string::assign((string *)(a1 + 1), (const string *)v22, 0, 0xFFFFFFFF);
  --v13;
  string::~string((string *)v22);
  --v13;
  string::~string((string *)v23);
  --v13;
  string::~string((string *)v24);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v21, v5);
  ++v13;
  a1[2] = sub_407FE5((string *)v21, 0);
  --v13;
  string::~string((string *)v21);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v20, v6);
  ++v13;
  a1[3] = sub_407FE5((string *)v20, 0);
  --v13;
  string::~string((string *)v20);
  v7 = sub_407ED3(0, 0);
  string::string((string *)v19, v7);
  ++v13;
  a1[4] = sub_407FE5((string *)v19, 0);
  --v13;
  string::~string((string *)v19);
  v8 = sub_407ED3(0, 0);
  string::string((string *)v18, v8);
  ++v13;
  a1[5] = sub_407FE5((string *)v18, 0);
  --v13;
  string::~string((string *)v18);
  v12 = 92;
  v9 = sub_407ED3(0, &v11);
  string::string((string *)v17, v9);
  ++v13;
  a1[6] = sub_407FE5((string *)v17, 0);
  --v13;
  string::~string((string *)v17);
  v12 = 104;
  string::string((string *)v16, byte_43F76A);
  ++v13;
  string::string((string *)v15, v11);
  ++v13;
  sub_40804E((string *)v14, (string *)v15, (string *)v16);
  ++v13;
  string::assign((string *)(a1 + 7), (const string *)v14, 0, 0xFFFFFFFF);
  --v13;
  string::~string((string *)v14);
  --v13;
  string::~string((string *)v15);
  --v13;
  string::~string((string *)v16);
  operator delete[](v2);
  return a1;
}
// 4403A4: using guessed type int (__cdecl *off_4403A4)(int);
// 4403B8: using guessed type int (__cdecl *off_4403B8)(int);
// 4403CC: using guessed type int (__cdecl *off_4403CC)(int);
// 440408: using guessed type int (__cdecl *off_440408)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (00409960) --------------------------------------------------------
string *__cdecl sub_409960(string *a1, _DWORD *a2)
{
  char buffer[776]; // [esp+4h] [ebp-32Ch] BYREF
  __int16 v4; // [esp+31Ch] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(
    buffer,
    "%s \"%s\" %u %i %i %i %i %s",
    *(const char **)(a2[8] + 2),
    *(const char **)(a2[1] + 2),
    a2[2],
    a2[3],
    a2[4],
    a2[5],
    a2[6],
    *(const char **)(a2[7] + 2));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (004099DC) --------------------------------------------------------
_DWORD *__cdecl sub_4099DC(_DWORD *a1, int a2)
{
  _BYTE *v2; // edi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax
  const char *v9; // eax
  const char *v10; // eax
  const char *v11; // eax
  char *v13; // [esp+Ch] [ebp-60h] BYREF
  __int16 v14; // [esp+20h] [ebp-4Ch]
  int v15; // [esp+2Ch] [ebp-40h]
  _BYTE v16[4]; // [esp+34h] [ebp-38h] BYREF
  _BYTE v17[4]; // [esp+38h] [ebp-34h] BYREF
  _BYTE v18[4]; // [esp+3Ch] [ebp-30h] BYREF
  _BYTE v19[4]; // [esp+40h] [ebp-2Ch] BYREF
  _BYTE v20[4]; // [esp+44h] [ebp-28h] BYREF
  _BYTE v21[4]; // [esp+48h] [ebp-24h] BYREF
  _BYTE v22[4]; // [esp+4Ch] [ebp-20h] BYREF
  _BYTE v23[4]; // [esp+50h] [ebp-1Ch] BYREF
  _BYTE v24[4]; // [esp+54h] [ebp-18h] BYREF
  _BYTE v25[4]; // [esp+58h] [ebp-14h] BYREF
  _BYTE v26[4]; // [esp+5Ch] [ebp-10h] BYREF
  _BYTE v27[4]; // [esp+60h] [ebp-Ch] BYREF
  _BYTE v28[4]; // [esp+64h] [ebp-8h] BYREF
  _BYTE v29[4]; // [esp+68h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v14 = 8;
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F9B5);
  v15 += 3;
  *a1 = &off_440408;
  a1[2] = 0;
  v15 += 3;
  *a1 = &off_4403CC;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = 0;
  a1[6] = 0;
  v15 += 4;
  *a1 = &off_4403B8;
  string::string((string *)(a1 + 7), &byte_43F9B4);
  v15 += 7;
  *a1 = &off_440390;
  a1[8] = 0;
  a1[9] = 0;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v29, byte_43F76A);
  ++v15;
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v28, v3);
  ++v15;
  sub_40804E((string *)v27, (string *)v28, (string *)v29);
  ++v15;
  string::assign((string *)(a1 + 1), (const string *)v27, 0, 0xFFFFFFFF);
  --v15;
  string::~string((string *)v27);
  --v15;
  string::~string((string *)v28);
  --v15;
  string::~string((string *)v29);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v26, v4);
  ++v15;
  a1[8] = sub_407FE5((string *)v26, 0);
  --v15;
  string::~string((string *)v26);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v25, v5);
  ++v15;
  a1[9] = sub_407FE5((string *)v25, 0);
  --v15;
  string::~string((string *)v25);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v24, v6);
  ++v15;
  a1[2] = sub_407FE5((string *)v24, 0);
  --v15;
  string::~string((string *)v24);
  v7 = sub_407ED3(0, 0);
  string::string((string *)v23, v7);
  ++v15;
  a1[3] = sub_407FE5((string *)v23, 0);
  --v15;
  string::~string((string *)v23);
  v8 = sub_407ED3(0, 0);
  string::string((string *)v22, v8);
  ++v15;
  a1[3] = sub_407FE5((string *)v22, 0);
  --v15;
  string::~string((string *)v22);
  v9 = sub_407ED3(0, 0);
  string::string((string *)v21, v9);
  ++v15;
  a1[4] = sub_407FE5((string *)v21, 0);
  --v15;
  string::~string((string *)v21);
  v10 = sub_407ED3(0, 0);
  string::string((string *)v20, v10);
  ++v15;
  a1[5] = sub_407FE5((string *)v20, 0);
  --v15;
  string::~string((string *)v20);
  v14 = 116;
  v11 = sub_407ED3(0, &v13);
  string::string((string *)v19, v11);
  ++v15;
  a1[6] = sub_407FE5((string *)v19, 0);
  --v15;
  string::~string((string *)v19);
  v14 = 128;
  string::string((string *)v18, byte_43F76A);
  ++v15;
  string::string((string *)v17, v13);
  ++v15;
  sub_40804E((string *)v16, (string *)v17, (string *)v18);
  ++v15;
  string::assign((string *)(a1 + 7), (const string *)v16, 0, 0xFFFFFFFF);
  --v15;
  string::~string((string *)v16);
  --v15;
  string::~string((string *)v17);
  --v15;
  string::~string((string *)v18);
  return a1;
}
// 440390: using guessed type int (__cdecl *off_440390)(int);
// 4403B8: using guessed type int (__cdecl *off_4403B8)(int);
// 4403CC: using guessed type int (__cdecl *off_4403CC)(int);
// 440408: using guessed type int (__cdecl *off_440408)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (00409E0D) --------------------------------------------------------
string *__cdecl sub_409E0D(string *a1, _DWORD *a2)
{
  char buffer[516]; // [esp+4h] [ebp-228h] BYREF
  __int16 v4; // [esp+218h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(
    buffer,
    "\"%s\" %u %u %u %i %i %i %i %s",
    *(const char **)(a2[1] + 2),
    a2[8],
    a2[9],
    a2[2],
    a2[3],
    a2[4],
    a2[5],
    a2[6],
    *(const char **)(a2[7] + 2));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (00409E89) --------------------------------------------------------
_DWORD *__cdecl sub_409E89(_DWORD *a1, int a2)
{
  _BYTE *v2; // ebx
  const char *v3; // eax
  char *v5; // [esp+8h] [ebp-40h] BYREF
  __int16 v6; // [esp+1Ch] [ebp-2Ch]
  int v7; // [esp+28h] [ebp-20h]
  _BYTE v8[4]; // [esp+30h] [ebp-18h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-14h] BYREF
  _BYTE v10[4]; // [esp+38h] [ebp-10h] BYREF
  _BYTE v11[4]; // [esp+3Ch] [ebp-Ch] BYREF
  _BYTE v12[4]; // [esp+40h] [ebp-8h] BYREF
  _BYTE v13[4]; // [esp+44h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v6 = 8;
  *a1 = off_440458;
  *a1 = &off_440430;
  string::string((string *)(a1 + 1), &byte_43F9D4);
  v7 += 3;
  *a1 = &off_44037C;
  string::string((string *)(a1 + 2), &byte_43F9D3);
  ++v7;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  v6 = 20;
  string::string((string *)v13, byte_43F76A);
  ++v7;
  v3 = sub_407ED3(v2, &v5);
  string::string((string *)v12, v3);
  ++v7;
  sub_40804E((string *)v11, (string *)v12, (string *)v13);
  ++v7;
  string::assign((string *)(a1 + 1), (const string *)v11, 0, 0xFFFFFFFF);
  --v7;
  string::~string((string *)v11);
  --v7;
  string::~string((string *)v12);
  --v7;
  string::~string((string *)v13);
  v6 = 32;
  string::string((string *)v10, byte_43F76A);
  ++v7;
  string::string((string *)v9, v5);
  ++v7;
  sub_40804E((string *)v8, (string *)v9, (string *)v10);
  ++v7;
  string::assign((string *)(a1 + 2), (const string *)v8, 0, 0xFFFFFFFF);
  --v7;
  string::~string((string *)v8);
  --v7;
  string::~string((string *)v9);
  --v7;
  string::~string((string *)v10);
  operator delete[](v2);
  return a1;
}
// 44037C: using guessed type int (__cdecl *off_44037C)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040A043) --------------------------------------------------------
string *__cdecl sub_40A043(string *a1, int a2)
{
  char buffer[524]; // [esp+4h] [ebp-230h] BYREF
  __int16 v4; // [esp+220h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "\"%s\" %s", *(const char **)(*(_DWORD *)(a2 + 4) + 2), *(const char **)(*(_DWORD *)(a2 + 8) + 2));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040A0AA) --------------------------------------------------------
_DWORD *__cdecl sub_40A0AA(_DWORD *a1, int a2)
{
  _BYTE *v2; // ebx
  const char *v3; // eax
  const char *v4; // eax
  _BYTE v6[4]; // [esp+2Ch] [ebp-10h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-Ch] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+38h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440364;
  string::string((string *)(a1 + 1));
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v9, byte_43F76A);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v8, v3);
  sub_40804E((string *)v7, (string *)v8, (string *)v9);
  string::assign((string *)(a1 + 1), (const string *)v7, 0, 0xFFFFFFFF);
  string::~string((string *)v7);
  string::~string((string *)v8);
  string::~string((string *)v9);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v6, v4);
  a1[2] = sub_407FE5((string *)v6, 0);
  string::~string((string *)v6);
  operator delete[](v2);
  return a1;
}
// 440364: using guessed type int (__cdecl *off_440364)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040A1F0) --------------------------------------------------------
char __cdecl sub_40A1F0(int a1, int *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_405E1C(a2, (string *)(a1 + 4), 0);
  if ( v3 )
  {
    *a3 = *(_DWORD *)(a1 + 8);
    *(_DWORD *)(v3 + 12) = *a3;
    return 1;
  }
  else
  {
    *a3 = 0;
    return 0;
  }
}

//----- (0040A228) --------------------------------------------------------
string *__cdecl sub_40A228(string *a1, int a2)
{
  char buffer[256]; // [esp+4h] [ebp-124h] BYREF
  __int16 v4; // [esp+114h] [ebp-14h]

  __InitExceptBlockLDTC();
  sprintf(buffer, "%s %li", *(const char **)(*(_DWORD *)(a2 + 4) + 2), *(_DWORD *)(a2 + 8));
  v4 = 8;
  string::string(a1, buffer);
  return a1;
}

//----- (0040A28C) --------------------------------------------------------
char __cdecl sub_40A28C(int a1, int *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_405E1C(a2, (string *)(a1 + 4), 0);
  if ( !v3 )
    return 0;
  *a3 = *(_DWORD *)(a1 + 8) + *(_DWORD *)(v3 + 12);
  *(_DWORD *)(v3 + 12) = *a3;
  return 1;
}

//----- (0040A2C3) --------------------------------------------------------
char __cdecl sub_40A2C3(int a1, int *a2, _DWORD *a3)
{
  int v3; // eax

  v3 = sub_405E1C(a2, (string *)(a1 + 4), 0);
  if ( v3 )
  {
    *a3 = *(_DWORD *)(v3 + 12) - *(_DWORD *)(a1 + 8);
    *(_DWORD *)(v3 + 12) = *a3;
    return 1;
  }
  else
  {
    *a3 = 0;
    return 0;
  }
}

//----- (0040A2FE) --------------------------------------------------------
_DWORD *__cdecl sub_40A2FE(_DWORD *a1, int a2)
{
  _BYTE *v2; // eax
  const char *v3; // esi
  int v4; // edi
  const CHAR *v5; // esi
  const char *v6; // eax
  LPCSTR lpString2; // [esp+Ch] [ebp-34h] BYREF
  __int16 v9; // [esp+20h] [ebp-20h]
  int v10; // [esp+2Ch] [ebp-14h]
  _BYTE v11[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v12[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v13[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = &off_440350;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  v3 = sub_407ED3(v2, &lpString2);
  v9 = 20;
  string::string((string *)v13, v3);
  ++v10;
  v4 = sub_405E1C(dword_44ECCE, (string *)v13, 0);
  --v10;
  string::~string((string *)v13);
  v9 = 8;
  if ( v4 )
  {
    a1[1] = *(_DWORD *)(v4 + 12);
  }
  else
  {
    v9 = 32;
    string::string((string *)v12, v3);
    ++v10;
    a1[1] = sub_407FE5((string *)v12, 0);
    --v10;
    string::~string((string *)v12);
  }
  v5 = lpString2;
  while ( *lpString2 && *lpString2 != 32 )
    ++lpString2;
  if ( *lpString2 )
    *lpString2++ = 0;
  if ( *v5 )
    a1[3] = sub_403A55((int)&dword_43BA24, v5, 0) + 1;
  if ( lpString2 )
  {
    v9 = 44;
    v6 = sub_407ED3(lpString2, 0);
    string::string((string *)v11, v6);
    ++v10;
    a1[2] = sub_407FE5((string *)v11, 0);
    --v10;
    string::~string((string *)v11);
  }
  else
  {
    a1[3] = 0;
  }
  return a1;
}
// 43BA24: using guessed type int dword_43BA24;
// 440350: using guessed type int (__cdecl *off_440350)(int, int);
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (0040A479) --------------------------------------------------------
char __cdecl sub_40A479(_DWORD *a1, bool *a2)
{
  char result; // al

  switch ( a1[3] )
  {
    case 1:
      *a2 = a1[1] == a1[2];
      goto LABEL_9;
    case 2:
      *a2 = a1[1] != a1[2];
      goto LABEL_9;
    case 3:
      *a2 = a1[1] > a1[2];
      goto LABEL_9;
    case 4:
      *a2 = a1[1] < a1[2];
      goto LABEL_9;
    case 5:
      *a2 = a1[1] >= a1[2];
      goto LABEL_9;
    case 6:
      *a2 = a1[1] <= a1[2];
LABEL_9:
      result = 1;
      break;
    default:
      *a2 = 0;
      result = 0;
      break;
  }
  return result;
}

//----- (0040A51D) --------------------------------------------------------
string *__cdecl sub_40A51D(string *a1, _DWORD *a2)
{
  const char *v2; // eax
  int v4; // [esp-4h] [ebp-22Ch]
  char buffer[512]; // [esp+4h] [ebp-224h] BYREF
  __int16 v6; // [esp+214h] [ebp-14h]
  int v7; // [esp+220h] [ebp-8h]

  __InitExceptBlockLDTC();
  if ( a2[3] )
  {
    v4 = a2[2];
    v2 = sub_403A1B((int)&dword_43BA24, a2[3] - 1);
    sprintf(buffer, "%li %s %li", a2[1], v2, v4);
    v6 = 8;
    string::string(a1, buffer);
    v7 += 2;
    return a1;
  }
  else
  {
    string::string(a1, &byte_43F9EF);
    return a1;
  }
}
// 43BA24: using guessed type int dword_43BA24;

//----- (0040A5CA) --------------------------------------------------------
_DWORD *__cdecl sub_40A5CA(_DWORD *a1, string *a2)
{
  int v2; // ebx
  unsigned int v3; // ebx
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD v8[4]; // [esp+Ch] [ebp-88h] BYREF
  _DWORD *v9; // [esp+1Ch] [ebp-78h]
  unsigned int v10; // [esp+20h] [ebp-74h]
  __int16 v11; // [esp+34h] [ebp-60h]
  int v12; // [esp+40h] [ebp-54h]
  int v13[3]; // [esp+48h] [ebp-4Ch] BYREF
  _BYTE v14[4]; // [esp+54h] [ebp-40h] BYREF
  _BYTE v15[4]; // [esp+58h] [ebp-3Ch] BYREF
  int v16[3]; // [esp+5Ch] [ebp-38h] BYREF
  _BYTE v17[4]; // [esp+68h] [ebp-2Ch] BYREF
  _BYTE v18[4]; // [esp+6Ch] [ebp-28h] BYREF
  int v19[3]; // [esp+70h] [ebp-24h] BYREF
  _BYTE v20[4]; // [esp+7Ch] [ebp-18h] BYREF
  _BYTE v21[4]; // [esp+80h] [ebp-14h] BYREF
  _BYTE v22[4]; // [esp+84h] [ebp-10h] BYREF
  _BYTE v23[4]; // [esp+88h] [ebp-Ch] BYREF
  _BYTE v24[4]; // [esp+8Ch] [ebp-8h] BYREF
  _BYTE v25[4]; // [esp+90h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a1 = off_440458;
  *a1 = &off_440338;
  a1[1] = &off_440350;
  a1[2] = 0;
  a1[3] = 0;
  a1[4] = 0;
  a1[5] = &off_4402D4;
  ++v12;
  a1[6] = &off_4402C0;
  ++v12;
  a1[5] = &off_4402E8;
  a1[6] = &off_4402F8;
  v12 += 3;
  a1[5] = &off_44030C;
  a1[6] = off_440324;
  string::string((string *)(a1 + 8));
  sub_40B61D((int)(a1 + 5));
  v12 += 6;
  a1[9] = &off_4402D4;
  ++v12;
  a1[10] = &off_4402C0;
  ++v12;
  a1[9] = &off_4402E8;
  a1[10] = &off_4402F8;
  v12 += 3;
  a1[9] = &off_44030C;
  a1[10] = off_440324;
  string::string((string *)(a1 + 12));
  sub_40B61D((int)(a1 + 9));
  string::string((string *)v25, aThen);
  v2 = string::find(a2, (const string *)v25, 0);
  string::~string((string *)v25);
  v11 = 44;
  string::string((string *)v24, aElse);
  v12 += 7;
  v10 = string::rfind(a2, (const string *)v24, *(_DWORD *)(*(_DWORD *)a2 + 6));
  --v12;
  string::~string((string *)v24);
  v11 = 20;
  if ( v2 != -1 )
  {
    v11 = 56;
    string::substr((string *)v22, (unsigned int)a2, 0);
    ++v12;
    v9 = sub_40A2FE(v8, (int)v22);
    a1[2] = v9[1];
    a1[3] = v9[2];
    a1[4] = v9[3];
    --v12;
    string::~string((string *)v22);
    if ( a1[4] )
    {
      v3 = v2 + 6;
      v11 = 68;
      string::string((string *)v23);
      ++v12;
      v11 = 80;
      if ( v10 == -1 )
      {
        v11 = 92;
        string::substr((string *)v21, (unsigned int)a2);
        ++v12;
        string::assign((string *)v23, (const string *)v21, 0, 0xFFFFFFFF);
        --v12;
        string::~string((string *)v21);
        v11 = 104;
        v4 = sub_40B594(v19, (string *)v23);
        v12 += 5;
        sub_40B686((int)(a1 + 5), (int)v4);
        v12 -= 5;
        --v12;
        string::~string((string *)v20);
        v12 -= 3;
        --v12;
        --v12;
      }
      else if ( v3 < v10 )
      {
        v11 = 116;
        string::substr((string *)v18, (unsigned int)a2, v3);
        ++v12;
        string::assign((string *)v23, (const string *)v18, 0, 0xFFFFFFFF);
        --v12;
        string::~string((string *)v18);
        v11 = 128;
        v5 = sub_40B594(v16, (string *)v23);
        v12 += 5;
        sub_40B686((int)(a1 + 5), (int)v5);
        v12 -= 5;
        --v12;
        string::~string((string *)v17);
        v12 -= 3;
        --v12;
        --v12;
        v11 = 140;
        string::substr((string *)v15, (unsigned int)a2);
        ++v12;
        string::assign((string *)v23, (const string *)v15, 0, 0xFFFFFFFF);
        --v12;
        string::~string((string *)v15);
        v11 = 152;
        v6 = sub_40B594(v13, (string *)v23);
        v12 += 5;
        sub_40B686((int)(a1 + 9), (int)v6);
        v12 -= 5;
        --v12;
        string::~string((string *)v14);
        v12 -= 3;
        --v12;
        --v12;
      }
      --v12;
      string::~string((string *)v23);
    }
  }
  return a1;
}
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);
// 440338: using guessed type int (__cdecl *off_440338)(int);
// 440350: using guessed type int (__cdecl *off_440350)(int, int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040A9AD) --------------------------------------------------------
char __cdecl sub_40A9AD(int a1, int a2)
{
  int v3; // [esp+8h] [ebp-4h] BYREF

  if ( !*(_DWORD *)(a1 + 16) )
    return 0;
  if ( !(**(unsigned __int8 (__cdecl ***)(int, int *))(a1 + 4))(a1 + 4, &v3) )
    return 0;
  if ( v3 )
    return (*(int (__cdecl **)(int, int))(*(_DWORD *)(a1 + 20) + 12))(a1 + 20, a2);
  if ( (*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)(a1 + 36) + 4))(a1 + 36) )
    return (*(int (__cdecl **)(int, int))(*(_DWORD *)(a1 + 36) + 12))(a1 + 36, a2);
  return 1;
}

//----- (0040AA17) --------------------------------------------------------
// bad sp value at call has been detected, the output may be wrong!
string *__usercall sub_40AA17@<eax>(int a1@<ebx>, int a2@<edi>, int a3@<esi>, string *a4, _DWORD *a5)
{
  char buffer[4096]; // [esp+0h] [ebp-103Ch] BYREF
  int *v7; // [esp+1000h] [ebp-3Ch]
  __int16 v8; // [esp+1014h] [ebp-28h]
  int v9; // [esp+1020h] [ebp-1Ch]
  int v10; // [esp+1028h] [ebp-14h] BYREF
  int v11; // [esp+102Ch] [ebp-10h] BYREF
  int v12; // [esp+1030h] [ebp-Ch] BYREF
  int v13; // [esp+1034h] [ebp-8h] BYREF
  int v14; // [esp+1038h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  qmemcpy(buffer, &unk_43C854, sizeof(buffer));
  if ( (*(unsigned __int8 (__fastcall **)(_DWORD *, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int, int, int, _DWORD *))(a5[5] + 4))(
         a5 + 5,
         a5[5],
         0,
         *(_DWORD *)&buffer[48],
         *(_DWORD *)&buffer[44],
         *(_DWORD *)&buffer[40],
         *(_DWORD *)&buffer[36],
         *(_DWORD *)&buffer[32],
         *(_DWORD *)&buffer[28],
         *(_DWORD *)&buffer[24],
         *(_DWORD *)&buffer[20],
         *(_DWORD *)&buffer[16],
         *(_DWORD *)&buffer[12],
         *(_DWORD *)&buffer[8],
         *(_DWORD *)&buffer[4],
         *(_DWORD *)buffer,
         a1,
         a3,
         a2,
         a5 + 5)
    && a5[4] )
  {
    if ( (*(unsigned __int8 (__cdecl **)(_DWORD *))(a5[9] + 4))(a5 + 9) )
    {
      v8 = 8;
      sub_40B6E0((string *)&v14, (int)(a5 + 5));
      ++v9;
      *(_DWORD *)&buffer[60] = *(_DWORD *)(v14 + 2);
      (*(void (__cdecl **)(int *, _DWORD *))(a5[1] + 4))(&v13, a5 + 1);
      ++v9;
      sprintf(buffer, "%s then %s", *(const char **)(v13 + 2), *(const char **)&buffer[60]);
      --v9;
      *(_DWORD *)&buffer[60] = 2;
      string::~string((string *)&v14);
      --v9;
      *(_DWORD *)&buffer[60] = 2;
      string::~string((string *)&v13);
    }
    else
    {
      v8 = 20;
      sub_40B6E0((string *)&v12, (int)(a5 + 9));
      ++v9;
      v7 = &v12;
      *(_DWORD *)&buffer[60] = *(_DWORD *)(v12 + 2);
      sub_40B6E0((string *)&v11, (int)(a5 + 5));
      ++v9;
      *(_DWORD *)&buffer[56] = *(_DWORD *)(v11 + 2);
      (*(void (__cdecl **)(int *, _DWORD *))(a5[1] + 4))(&v10, a5 + 1);
      ++v9;
      sprintf(
        buffer,
        "%s then %s else %s",
        *(const char **)(v10 + 2),
        *(const char **)&buffer[56],
        *(const char **)&buffer[60]);
      --v9;
      *(_DWORD *)&buffer[60] = 2;
      string::~string((string *)&v12);
      --v9;
      *(_DWORD *)&buffer[60] = 2;
      string::~string((string *)&v11);
      --v9;
      *(_DWORD *)&buffer[60] = 2;
      string::~string((string *)&v10);
    }
  }
  v8 = 32;
  string::string(a4, buffer);
  return a4;
}
// 40AA17: could not find valid save-restore pair for ebx
// 40AA17: could not find valid save-restore pair for edi
// 40AA17: could not find valid save-restore pair for esi
// 40AAC5: bad sp value at call
// 40AB61: bad sp value at call
// 40ABAC: bad sp value at call

//----- (0040ABCE) --------------------------------------------------------
int __cdecl sub_40ABCE(int a1, int a2)
{
  _BYTE *v2; // esi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  char *v9; // [esp+8h] [ebp-48h] BYREF
  __int16 v10; // [esp+1Ch] [ebp-34h]
  int v11; // [esp+28h] [ebp-28h]
  _BYTE v12[4]; // [esp+30h] [ebp-20h] BYREF
  _BYTE v13[4]; // [esp+34h] [ebp-1Ch] BYREF
  _BYTE v14[4]; // [esp+38h] [ebp-18h] BYREF
  _BYTE v15[4]; // [esp+3Ch] [ebp-14h] BYREF
  _BYTE v16[4]; // [esp+40h] [ebp-10h] BYREF
  _BYTE v17[4]; // [esp+44h] [ebp-Ch] BYREF
  _BYTE v18[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v19[4]; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v10 = 8;
  *(_DWORD *)a1 = off_440458;
  *(_DWORD *)a1 = &off_4402AC;
  string::string((string *)(a1 + 4), &byte_43FA1C);
  v11 += 3;
  *(_DWORD *)a1 = &off_440298;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v19, v3);
  ++v11;
  *(_DWORD *)(a1 + 8) = sub_407FE5((string *)v19, 0);
  --v11;
  string::~string((string *)v19);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v18, v4);
  ++v11;
  *(_DWORD *)(a1 + 12) = sub_407FE5((string *)v18, 0);
  --v11;
  string::~string((string *)v18);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v17, v5);
  ++v11;
  *(_DWORD *)(a1 + 16) = sub_407FE5((string *)v17, 0);
  --v11;
  string::~string((string *)v17);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v16, v6);
  ++v11;
  *(_DWORD *)(a1 + 20) = sub_407FE5((string *)v16, 0);
  --v11;
  string::~string((string *)v16);
  v10 = 68;
  v7 = sub_407ED3(0, &v9);
  string::string((string *)v15, v7);
  ++v11;
  *(_WORD *)(a1 + 24) = sub_407FE5((string *)v15, 0);
  --v11;
  string::~string((string *)v15);
  v10 = 80;
  string::string((string *)v14, byte_43F76A);
  ++v11;
  string::string((string *)v13, v9);
  ++v11;
  sub_40804E((string *)v12, (string *)v13, (string *)v14);
  ++v11;
  string::assign((string *)(a1 + 4), (const string *)v12, 0, 0xFFFFFFFF);
  --v11;
  string::~string((string *)v12);
  --v11;
  string::~string((string *)v13);
  --v11;
  string::~string((string *)v14);
  operator delete[](v2);
  return a1;
}
// 440298: using guessed type int (__cdecl *off_440298)(int);
// 4402AC: using guessed type int (__cdecl *off_4402AC)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040AE3E) --------------------------------------------------------
string *__usercall sub_40AE3E@<eax>(int a1@<eax>, string *a2, int a3)
{
  char buffer[36]; // [esp+0h] [ebp-1024h] BYREF
  int v5; // [esp+24h] [ebp-1000h]
  __int16 v6; // [esp+1010h] [ebp-14h]

  v5 = a1;
  __InitExceptBlockLDTC();
  sprintf(
    buffer,
    "%i %i %i %i %u %s",
    *(_DWORD *)(a3 + 8),
    *(_DWORD *)(a3 + 12),
    *(_DWORD *)(a3 + 16),
    *(_DWORD *)(a3 + 20),
    *(unsigned __int16 *)(a3 + 24),
    *(const char **)(*(_DWORD *)(a3 + 4) + 2));
  v6 = 8;
  string::string(a2, buffer);
  return a2;
}

//----- (0040AEB4) --------------------------------------------------------
int __cdecl sub_40AEB4(int a1, int a2)
{
  _BYTE *v2; // esi
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  const char *v6; // eax
  const char *v7; // eax
  const char *v8; // eax
  const char *v9; // eax
  char *v11; // [esp+Ch] [ebp-58h] BYREF
  __int16 v12; // [esp+20h] [ebp-44h]
  int v13; // [esp+2Ch] [ebp-38h]
  _BYTE v14[4]; // [esp+34h] [ebp-30h] BYREF
  _BYTE v15[4]; // [esp+38h] [ebp-2Ch] BYREF
  _BYTE v16[4]; // [esp+3Ch] [ebp-28h] BYREF
  _BYTE v17[4]; // [esp+40h] [ebp-24h] BYREF
  _BYTE v18[4]; // [esp+44h] [ebp-20h] BYREF
  _BYTE v19[4]; // [esp+48h] [ebp-1Ch] BYREF
  _BYTE v20[4]; // [esp+4Ch] [ebp-18h] BYREF
  _BYTE v21[4]; // [esp+50h] [ebp-14h] BYREF
  _BYTE v22[4]; // [esp+54h] [ebp-10h] BYREF
  _BYTE v23[4]; // [esp+58h] [ebp-Ch] BYREF
  _BYTE v24[4]; // [esp+5Ch] [ebp-8h] BYREF
  _BYTE v25[4]; // [esp+60h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v12 = 8;
  *(_DWORD *)a1 = off_440458;
  *(_DWORD *)a1 = &off_4402AC;
  string::string((string *)(a1 + 4), &byte_43FA2F);
  v13 += 3;
  *(_DWORD *)a1 = &off_440298;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 12) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  *(_WORD *)(a1 + 24) = 0;
  v13 += 3;
  *(_DWORD *)a1 = &off_440284;
  string::string((string *)(a1 + 26));
  ++v13;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  string::string((string *)v25, byte_43F76A);
  ++v13;
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v24, v3);
  ++v13;
  sub_40804E((string *)v23, (string *)v24, (string *)v25);
  ++v13;
  string::assign((string *)(a1 + 26), (const string *)v23, 0, 0xFFFFFFFF);
  --v13;
  string::~string((string *)v23);
  --v13;
  string::~string((string *)v24);
  --v13;
  string::~string((string *)v25);
  v4 = sub_407ED3(0, 0);
  string::string((string *)v22, v4);
  ++v13;
  *(_DWORD *)(a1 + 30) = sub_407FE5((string *)v22, 0);
  --v13;
  string::~string((string *)v22);
  v5 = sub_407ED3(0, 0);
  string::string((string *)v21, v5);
  ++v13;
  *(_DWORD *)(a1 + 8) = sub_407FE5((string *)v21, 0);
  --v13;
  string::~string((string *)v21);
  v6 = sub_407ED3(0, 0);
  string::string((string *)v20, v6);
  ++v13;
  *(_DWORD *)(a1 + 12) = sub_407FE5((string *)v20, 0);
  --v13;
  string::~string((string *)v20);
  v7 = sub_407ED3(0, 0);
  string::string((string *)v19, v7);
  ++v13;
  *(_DWORD *)(a1 + 16) = sub_407FE5((string *)v19, 0);
  --v13;
  string::~string((string *)v19);
  v8 = sub_407ED3(0, 0);
  string::string((string *)v18, v8);
  ++v13;
  *(_DWORD *)(a1 + 20) = sub_407FE5((string *)v18, 0);
  --v13;
  string::~string((string *)v18);
  v12 = 92;
  v9 = sub_407ED3(0, &v11);
  string::string((string *)v17, v9);
  ++v13;
  *(_WORD *)(a1 + 24) = sub_407FE5((string *)v17, 0);
  --v13;
  string::~string((string *)v17);
  v12 = 104;
  string::string((string *)v16, byte_43F76A);
  ++v13;
  string::string((string *)v15, v11);
  ++v13;
  sub_40804E((string *)v14, (string *)v15, (string *)v16);
  ++v13;
  string::assign((string *)(a1 + 4), (const string *)v14, 0, 0xFFFFFFFF);
  --v13;
  string::~string((string *)v14);
  --v13;
  string::~string((string *)v15);
  --v13;
  string::~string((string *)v16);
  operator delete[](v2);
  return a1;
}
// 440284: using guessed type int (__cdecl *off_440284)(int);
// 440298: using guessed type int (__cdecl *off_440298)(int);
// 4402AC: using guessed type int (__cdecl *off_4402AC)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040B235) --------------------------------------------------------
string *__usercall sub_40B235@<eax>(int a1@<eax>, string *a2, int a3)
{
  char buffer[36]; // [esp+0h] [ebp-1024h] BYREF
  int v5; // [esp+24h] [ebp-1000h]
  __int16 v6; // [esp+1010h] [ebp-14h]

  v5 = a1;
  __InitExceptBlockLDTC();
  sprintf(
    buffer,
    "%s %u %i %i %i %i %u %s",
    *(const char **)(*(_DWORD *)(a3 + 26) + 2),
    *(_DWORD *)(a3 + 30),
    *(_DWORD *)(a3 + 8),
    *(_DWORD *)(a3 + 12),
    *(_DWORD *)(a3 + 16),
    *(_DWORD *)(a3 + 20),
    *(unsigned __int16 *)(a3 + 24),
    *(const char **)(*(_DWORD *)(a3 + 4) + 2));
  v6 = 8;
  string::string(a2, buffer);
  return a2;
}

//----- (0040B2B4) --------------------------------------------------------
_DWORD *__cdecl sub_40B2B4(_DWORD *a1, int a2)
{
  _BYTE *v2; // ebx
  const char *v3; // eax
  const char *v4; // eax
  const char *v5; // eax
  int v7; // [esp+Ch] [ebp-40h] BYREF
  char *v8; // [esp+10h] [ebp-3Ch] BYREF
  __int16 v9; // [esp+24h] [ebp-28h]
  int v10; // [esp+30h] [ebp-1Ch]
  _BYTE v11[4]; // [esp+38h] [ebp-14h] BYREF
  _BYTE v12[4]; // [esp+3Ch] [ebp-10h] BYREF
  _BYTE v13[4]; // [esp+40h] [ebp-Ch] BYREF
  _BYTE v14[4]; // [esp+44h] [ebp-8h] BYREF
  _BYTE v15[4]; // [esp+48h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v9 = 8;
  *a1 = off_440458;
  *a1 = &off_440270;
  a1[3] = TColor::Black;
  string::string((string *)(a1 + 4));
  ++v10;
  v2 = (_BYTE *)strnewdup(*(const char **)(*(_DWORD *)a2 + 2), 0);
  v9 = 20;
  v3 = sub_407ED3(v2, 0);
  string::string((string *)v15, v3);
  ++v10;
  a1[1] = sub_407FE5((string *)v15, 0);
  --v10;
  string::~string((string *)v15);
  v9 = 32;
  v4 = sub_407ED3(0, 0);
  string::string((string *)v14, v4);
  ++v10;
  a1[2] = sub_407FE5((string *)v14, 0);
  --v10;
  string::~string((string *)v14);
  v5 = sub_407ED3(0, &v8);
  v9 = 8;
  if ( v5 && *v5 )
  {
    sscanf(v5, "#%lX", &v7);
    a1[3] = v7;
  }
  v9 = 44;
  string::string((string *)v13, byte_43F76A);
  ++v10;
  string::string((string *)v12, v8);
  ++v10;
  sub_40804E((string *)v11, (string *)v12, (string *)v13);
  ++v10;
  string::assign((string *)(a1 + 4), (const string *)v11, 0, 0xFFFFFFFF);
  --v10;
  string::~string((string *)v11);
  --v10;
  string::~string((string *)v12);
  --v10;
  string::~string((string *)v13);
  operator delete[](v2);
  return a1;
}
// 440270: using guessed type int (__cdecl *off_440270)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040B488) --------------------------------------------------------
string *__usercall sub_40B488@<eax>(int a1@<eax>, int a2@<ebx>, string *a3, _DWORD *a4)
{
  int Value; // eax
  int v6; // [esp-8h] [ebp-102Ch]
  char buffer[36]; // [esp+0h] [ebp-1024h] BYREF
  int v8; // [esp+24h] [ebp-1000h]
  __int16 v9; // [esp+1010h] [ebp-14h]

  v8 = a1;
  __InitExceptBlockLDTC();
  v6 = *(_DWORD *)(a4[4] + 2);
  Value = TColor::GetValue((TColor *)(a4 + 3));
  sprintf(buffer, "%u %u #%lX %i %u %s", a4[1], a4[2], Value, v6, a2);
  v9 = 8;
  string::string(a3, buffer);
  return a3;
}
// 40B488: could not find valid save-restore pair for ebx

//----- (0040B4FE) --------------------------------------------------------
_DWORD *__cdecl sub_40B4FE(_DWORD *a1, int a2, string *a3)
{
  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_44030C;
  a1[1] = off_440324;
  a1[2] = a2;
  string::string((string *)(a1 + 3), a3);
  sub_404C08((string *)(a1 + 3));
  return a1;
}
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040B594) --------------------------------------------------------
_DWORD *__cdecl sub_40B594(_DWORD *a1, string *a2)
{
  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_44030C;
  a1[1] = off_440324;
  string::string((string *)(a1 + 3));
  sub_40B79F(a1, a2);
  return a1;
}
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040B61D) --------------------------------------------------------
void __cdecl sub_40B61D(int a1)
{
  _BYTE v1[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *(_DWORD *)(a1 + 8) = -1;
  string::string((string *)v1, &byte_43FA61);
  string::assign((string *)(a1 + 12), (const string *)v1, 0, 0xFFFFFFFF);
  string::~string((string *)v1);
}

//----- (0040B686) --------------------------------------------------------
int __cdecl sub_40B686(int a1, int a2)
{
  if ( a2 != a1 )
  {
    *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 8);
    string::assign((string *)(a1 + 12), (const string *)(a2 + 12), 0, 0xFFFFFFFF);
  }
  return a1;
}

//----- (0040B6E0) --------------------------------------------------------
string *__cdecl sub_40B6E0(string *a1, int a2)
{
  const char *v2; // eax
  const char *v3; // eax
  const char *v5; // [esp-4h] [ebp-434h]
  char buffer[1024]; // [esp+Ch] [ebp-424h] BYREF
  __int16 v7; // [esp+41Ch] [ebp-14h]

  __InitExceptBlockLDTC();
  qmemcpy(buffer, &unk_43DC55, sizeof(buffer));
  if ( *(int *)(a2 + 8) >= 0 )
  {
    if ( *(int *)(a2 + 8) >= 6 && *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
    {
      v5 = *(const char **)(*(_DWORD *)(a2 + 12) + 2);
      v2 = sub_403A1B((int)&dword_43BA0C, *(_DWORD *)(a2 + 8));
      sprintf(buffer, "%s %s", v2, v5);
    }
    else
    {
      v3 = sub_403A1B((int)&dword_43BA0C, *(_DWORD *)(a2 + 8));
      strcpy(buffer, v3);
    }
  }
  v7 = 8;
  string::string(a1, buffer);
  return a1;
}
// 43BA0C: using guessed type int dword_43BA0C;

//----- (0040B79F) --------------------------------------------------------
int __cdecl sub_40B79F(_DWORD *a1, string *a2)
{
  int v2; // edi
  int v4; // [esp-4h] [ebp-48h]
  _BYTE v5[4]; // [esp+30h] [ebp-14h] BYREF
  _BYTE v6[4]; // [esp+34h] [ebp-10h] BYREF
  _BYTE v7[4]; // [esp+38h] [ebp-Ch] BYREF
  int v8; // [esp+3Ch] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+40h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  a1[2] = -1;
  string::string((string *)v9, &byte_43FA68);
  string::assign((string *)(a1 + 3), (const string *)v9, 0, 0xFFFFFFFF);
  string::~string((string *)v9);
  sub_404C08(a2);
  if ( !*(_DWORD *)(*(_DWORD *)a2 + 6) )
    return 0;
  string::string((string *)v7, asc_43FA69);
  v2 = string::find(a2, (const string *)v7, 0);
  string::~string((string *)v7);
  string::string((string *)&v8);
  if ( v2 == -1 )
  {
    string::assign((string *)&v8, a2, 0, 0xFFFFFFFF);
  }
  else
  {
    string::substr((string *)v6, (unsigned int)a2, 0);
    string::assign((string *)&v8, (const string *)v6, 0, 0xFFFFFFFF);
    string::~string((string *)v6);
    string::substr((string *)v5, (unsigned int)a2);
    string::assign((string *)(a1 + 3), (const string *)v5, 0, 0xFFFFFFFF);
    string::~string((string *)v5);
  }
  sub_404C08((string *)&v8);
  sub_404C08((string *)(a1 + 3));
  a1[2] = sub_403A55((int)&dword_43BA0C, *(LPCSTR *)(v8 + 2), 0);
  if ( (int)a1[2] < 0 )
    sub_404F9C(0x6Fu, *(_DWORD *)(v8 + 2));
  v4 = (*(int (__cdecl **)(_DWORD *))(*a1 + 4))(a1);
  string::~string((string *)&v8);
  return v4;
}
// 43BA0C: using guessed type int dword_43BA0C;

//----- (0040B97E) --------------------------------------------------------
bool __cdecl sub_40B97E(int a1)
{
  return *(_DWORD *)(a1 + 8) >= 0;
}

//----- (0040B990) --------------------------------------------------------
int __usercall sub_40B990@<eax>(int a1@<ebx>, int a2, HWND *a3)
{
  int v3; // eax
  _BOOL1 v4; // dl
  unsigned __int8 (__cdecl ***v5)(_DWORD); // eax
  WPARAM v6; // esi
  unsigned __int8 (__cdecl ***v8)(_DWORD); // ecx
  WPARAM v9; // esi
  unsigned __int8 (__cdecl ***v10)(_DWORD); // ecx
  WPARAM v11; // esi
  unsigned __int8 (__cdecl ***v12)(_DWORD); // ecx
  WPARAM v13; // esi
  const char *v14; // eax
  int v16[5]; // [esp+Ch] [ebp-2D4h] BYREF
  int v17[4]; // [esp+20h] [ebp-2C0h] BYREF
  UINT v18; // [esp+30h] [ebp-2B0h]
  LPARAM v19; // [esp+34h] [ebp-2ACh]
  string *v20; // [esp+38h] [ebp-2A8h]
  LPARAM v21; // [esp+3Ch] [ebp-2A4h]
  UINT v22; // [esp+40h] [ebp-2A0h]
  LPARAM v23; // [esp+44h] [ebp-29Ch]
  string *v24; // [esp+48h] [ebp-298h]
  LPARAM v25; // [esp+4Ch] [ebp-294h]
  int v26; // [esp+50h] [ebp-290h]
  UINT v27; // [esp+54h] [ebp-28Ch]
  LPARAM v28; // [esp+58h] [ebp-288h]
  LPARAM v29; // [esp+5Ch] [ebp-284h]
  string *v30; // [esp+60h] [ebp-280h]
  int v31; // [esp+64h] [ebp-27Ch]
  int v32; // [esp+68h] [ebp-278h] BYREF
  int v33; // [esp+6Ch] [ebp-274h]
  int v34; // [esp+70h] [ebp-270h]
  int v35; // [esp+74h] [ebp-26Ch]
  string *v36; // [esp+78h] [ebp-268h]
  int v37; // [esp+7Ch] [ebp-264h] BYREF
  int v38; // [esp+80h] [ebp-260h]
  UINT Msg; // [esp+84h] [ebp-25Ch]
  LPARAM lParam; // [esp+88h] [ebp-258h]
  string *v41; // [esp+8Ch] [ebp-254h]
  LPARAM v42; // [esp+90h] [ebp-250h]
  _DWORD v43[4]; // [esp+94h] [ebp-24Ch] BYREF
  __int16 v44; // [esp+A4h] [ebp-23Ch]
  int v45; // [esp+B0h] [ebp-230h]
  _BYTE v46[4]; // [esp+B8h] [ebp-228h] BYREF
  _BYTE v47[4]; // [esp+BCh] [ebp-224h] BYREF
  _DWORD *v48; // [esp+C0h] [ebp-220h]
  _BYTE v49[4]; // [esp+C4h] [ebp-21Ch] BYREF
  _BYTE v50[4]; // [esp+C8h] [ebp-218h] BYREF
  _BYTE v51[4]; // [esp+CCh] [ebp-214h] BYREF
  _BYTE v52[4]; // [esp+D0h] [ebp-210h] BYREF
  _DWORD *v53; // [esp+D4h] [ebp-20Ch]
  _BYTE v54[4]; // [esp+D8h] [ebp-208h] BYREF
  _BYTE v55[4]; // [esp+DCh] [ebp-204h] BYREF
  int v56[4]; // [esp+E0h] [ebp-200h] BYREF
  _BYTE v57[4]; // [esp+F0h] [ebp-1F0h] BYREF
  int v58; // [esp+F4h] [ebp-1ECh] BYREF
  _BYTE v59[24]; // [esp+F8h] [ebp-1E8h] BYREF
  _BYTE v60[4]; // [esp+110h] [ebp-1D0h] BYREF
  _BYTE v61[4]; // [esp+114h] [ebp-1CCh] BYREF
  _BYTE v62[4]; // [esp+118h] [ebp-1C8h] BYREF
  int v63; // [esp+11Ch] [ebp-1C4h] BYREF
  int v64; // [esp+120h] [ebp-1C0h] BYREF
  int v65; // [esp+124h] [ebp-1BCh] BYREF
  _BYTE v66[4]; // [esp+128h] [ebp-1B8h] BYREF
  _BYTE v67[4]; // [esp+12Ch] [ebp-1B4h] BYREF
  _BYTE v68[4]; // [esp+130h] [ebp-1B0h] BYREF
  _BYTE v69[4]; // [esp+134h] [ebp-1ACh] BYREF
  _DWORD *v70; // [esp+138h] [ebp-1A8h]
  _BYTE v71[4]; // [esp+13Ch] [ebp-1A4h] BYREF
  _BYTE v72[4]; // [esp+140h] [ebp-1A0h] BYREF
  int v73; // [esp+144h] [ebp-19Ch] BYREF
  int v74; // [esp+148h] [ebp-198h] BYREF
  int v75; // [esp+14Ch] [ebp-194h] BYREF
  _BYTE v76[8]; // [esp+150h] [ebp-190h] BYREF
  int v77; // [esp+158h] [ebp-188h] BYREF
  _BYTE v78[8]; // [esp+15Ch] [ebp-184h] BYREF
  int v79; // [esp+164h] [ebp-17Ch] BYREF
  int v80; // [esp+168h] [ebp-178h] BYREF
  int v81[5]; // [esp+170h] [ebp-170h] BYREF
  _DWORD v82[3]; // [esp+184h] [ebp-15Ch] BYREF
  _BYTE v83[16]; // [esp+190h] [ebp-150h] BYREF
  _BYTE v84[4]; // [esp+1A0h] [ebp-140h] BYREF
  int v85; // [esp+1A4h] [ebp-13Ch] BYREF
  _BYTE v86[4]; // [esp+1A8h] [ebp-138h] BYREF
  _BYTE v87[4]; // [esp+1ACh] [ebp-134h] BYREF
  _BYTE v88[4]; // [esp+1B0h] [ebp-130h] BYREF
  int v89; // [esp+1B4h] [ebp-12Ch] BYREF
  _BYTE v90[24]; // [esp+1B8h] [ebp-128h] BYREF
  _BYTE v91[12]; // [esp+1D0h] [ebp-110h] BYREF
  int v92; // [esp+1DCh] [ebp-104h] BYREF
  _BYTE v93[24]; // [esp+1E0h] [ebp-100h] BYREF
  int v94; // [esp+1F8h] [ebp-E8h] BYREF
  _BYTE v95[8]; // [esp+1FCh] [ebp-E4h] BYREF
  int v96; // [esp+204h] [ebp-DCh] BYREF
  int v97; // [esp+208h] [ebp-D8h] BYREF
  _BYTE v98[4]; // [esp+210h] [ebp-D0h] BYREF
  _BYTE v99[4]; // [esp+214h] [ebp-CCh] BYREF
  _BYTE v100[4]; // [esp+218h] [ebp-C8h] BYREF
  int v101; // [esp+21Ch] [ebp-C4h] BYREF
  int v102; // [esp+220h] [ebp-C0h] BYREF
  int v103; // [esp+224h] [ebp-BCh] BYREF
  _BYTE v104[22]; // [esp+228h] [ebp-B8h] BYREF
  _BYTE v105[10]; // [esp+23Eh] [ebp-A2h] BYREF
  int v106; // [esp+248h] [ebp-98h] BYREF
  _BYTE v107[24]; // [esp+24Ch] [ebp-94h] BYREF
  _BYTE v108[4]; // [esp+264h] [ebp-7Ch] BYREF
  _BYTE v109[4]; // [esp+268h] [ebp-78h] BYREF
  int v110; // [esp+26Ch] [ebp-74h] BYREF
  _BYTE v111[24]; // [esp+270h] [ebp-70h] BYREF
  _BYTE v112[4]; // [esp+288h] [ebp-58h] BYREF
  int v113; // [esp+28Ch] [ebp-54h] BYREF
  _BYTE v114[24]; // [esp+290h] [ebp-50h] BYREF
  _BYTE v115[4]; // [esp+2A8h] [ebp-38h] BYREF
  _BYTE v116[4]; // [esp+2ACh] [ebp-34h] BYREF
  _BYTE v117[4]; // [esp+2B0h] [ebp-30h] BYREF
  int v118; // [esp+2B4h] [ebp-2Ch] BYREF
  int v119; // [esp+2B8h] [ebp-28h] BYREF
  _BYTE v120[4]; // [esp+2BCh] [ebp-24h] BYREF
  _BYTE v121[4]; // [esp+2C0h] [ebp-20h] BYREF
  int v122; // [esp+2C4h] [ebp-1Ch]
  _BYTE v123[4]; // [esp+2C8h] [ebp-18h] BYREF
  _BYTE v124[4]; // [esp+2CCh] [ebp-14h] BYREF
  _BYTE v125[4]; // [esp+2D0h] [ebp-10h] BYREF
  _BYTE v126[4]; // [esp+2D4h] [ebp-Ch] BYREF
  _BYTE v127[4]; // [esp+2D8h] [ebp-8h] BYREF
  _BYTE v128[4]; // [esp+2DCh] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !a3 )
  {
    v44 = 8;
    xerror::MakeString((xerror *)v128, aPrecondition_11, aWnd, aCommandsCpp, 0x3A4u);
    ++v45;
    xmsg::xmsg((xmsg *)v127, (const string *)v128);
    ++v45;
    v44 = 20;
    --v45;
    string::~string((string *)v128);
    v44 = 8;
    v45 += 2;
    v45 += 3;
    _ThrowExceptionLDTC(stru_403B88, v127, 0, sub_403BE0, 1u, 0, 0, 0, v43);
  }
  LOBYTE(a1) = 1;
  switch ( *(_DWORD *)(a2 + 8) )
  {
    case 0:
      TWindow::HandleMessage((TWindow *)a3, 0x111u, 0xA4u, 0);
      break;
    case 1:
      TWindow::HandleMessage((TWindow *)a3, 0x111u, 0x4E29u, 0);
      break;
    case 2:
      TWindow::HandleMessage((TWindow *)a3, 0x111u, 0x9Du, 0);
      break;
    case 3:
      if ( !a3[3] )
      {
        v44 = 32;
        xerror::MakeString((xerror *)v126, aPrecondition_12, aGethandle, aCBc5IncludeOwl, 0x53Cu);
        ++v45;
        xmsg::xmsg((xmsg *)v125, (const string *)v126);
        ++v45;
        v44 = 44;
        --v45;
        string::~string((string *)v126);
        v44 = 32;
        v45 += 2;
        v45 += 3;
        _ThrowExceptionLDTC(stru_403B88, v125, 0, sub_403BE0, 1u, 0, 0, 0, v43);
      }
      PostMessageA(a3[3], 0x111u, 0x9Fu, 0);
      break;
    case 4:
      if ( !a3[3] )
      {
        v44 = 56;
        xerror::MakeString((xerror *)v124, aPrecondition_13, aGethandle_0, aCBc5IncludeOwl_0, 0x53Cu);
        ++v45;
        xmsg::xmsg((xmsg *)v123, (const string *)v124);
        ++v45;
        v44 = 68;
        --v45;
        string::~string((string *)v124);
        v44 = 56;
        v45 += 2;
        v45 += 3;
        _ThrowExceptionLDTC(stru_403B88, v123, 0, sub_403BE0, 1u, 0, 0, 0, v43);
      }
      PostMessageA(a3[3], 0x111u, 0xA0u, 0);
      break;
    case 5:
      TWindow::HandleMessage((TWindow *)a3, 0x111u, 0x9Cu, 0);
      break;
    case 6:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v122 = operator new(9u);
        if ( v122 )
        {
          v44 = 92;
          v41 = (string *)(a2 + 12);
          *(_DWORD *)v122 = off_440458;
          *(_DWORD *)v122 = &off_440248;
          v3 = sub_407FE5(v41, 0);
          *(_DWORD *)(v122 + 4) = v3;
          *(_DWORD *)v122 = &off_44025C;
          string::assert_element(v41, 0);
          v4 = 1;
          if ( **(_BYTE **)(*(_DWORD *)v41 + 2) != 43 )
          {
            string::assert_element(v41, 0);
            if ( **(_BYTE **)(*(_DWORD *)v41 + 2) != 45 )
              v4 = 0;
          }
          *(_BYTE *)(v122 + 8) = v4;
          v44 = 80;
          v5 = (unsigned __int8 (__cdecl ***)(_DWORD))v122;
        }
        else
        {
          v5 = 0;
        }
        v42 = (LPARAM)v5;
        if ( (**v5)(v5) )
        {
          lParam = v42;
          v6 = *(_DWORD *)(a2 + 8);
          Msg = dword_446A8C;
          if ( !a3[3] )
          {
            v44 = 104;
            xerror::MakeString((xerror *)v121, aPrecondition_14, aGethandle_1, aCBc5IncludeOwl_1, 0x53Cu);
            ++v45;
            xmsg::xmsg((xmsg *)v120, (const string *)v121);
            ++v45;
            v44 = 116;
            --v45;
            string::~string((string *)v121);
            v44 = 104;
            v45 += 2;
            v45 += 3;
            _ThrowExceptionLDTC(stru_403B88, v120, 0, sub_403BE0, 1u, 0, 0, 0, v43);
          }
          PostMessageA(a3[3], Msg, v6, lParam);
        }
      }
      break;
    case 7:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v36 = (string *)(a2 + 12);
        v37 = (int)&off_440248;
        v38 = sub_407FE5((string *)(a2 + 12), 0);
        if ( v38 > 0 )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v37);
      }
      break;
    case 8:
    case 0x12:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 128;
        v35 = a2 + 12;
        v118 = (int)&off_4402AC;
        string::string((string *)v117, byte_43F76A);
        ++v45;
        string::string((string *)v116, *(const char **)(*(_DWORD *)(a2 + 12) + 2));
        ++v45;
        sub_40804E((string *)v115, (string *)v116, (string *)v117);
        ++v45;
        string::string((string *)&v119, (const string *)v115);
        ++v45;
        --v45;
        string::~string((string *)v115);
        --v45;
        string::~string((string *)v116);
        --v45;
        string::~string((string *)v117);
        v45 += 2;
        v44 = 140;
        if ( *(_DWORD *)(v119 + 6) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v118);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)&v119);
      }
      break;
    case 9:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 152;
        sub_408E8E(&v113, a2 + 12);
        v45 += 4;
        v44 = 164;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v113)(&v113) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v113);
        v45 -= 4;
        v45 += 4;
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v114);
      }
      break;
    case 0xA:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 176;
        sub_40919A(&v110, a2 + 12);
        v45 += 6;
        v44 = 188;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v110)(&v110) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v110);
        v45 -= 6;
        v45 += 6;
        --v45;
        string::~string((string *)v112);
        v45 -= 4;
        v45 += 4;
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v111);
      }
      break;
    case 0xB:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 272;
        sub_4089D6(&v96, a2 + 12);
        v45 += 4;
        v44 = 284;
        if ( *(_DWORD *)(v97 + 6) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v96);
        v45 -= 4;
        v45 += 4;
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)&v97);
      }
      break;
    case 0xC:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 296;
        sub_408810(&v94, a2 + 12);
        v45 += 3;
        v44 = 308;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v94)(&v94) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v94);
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v95);
      }
      break;
    case 0xD:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 320;
        sub_408E8E(&v92, a2 + 12);
        v45 += 4;
        v44 = 332;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v92)(&v92) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v92);
        v45 -= 4;
        v45 += 4;
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v93);
      }
      break;
    case 0xE:
    case 0xF:
    case 0x10:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v31 = a2 + 12;
        v32 = (int)&off_440234;
        v44 = 380;
        string::string((string *)v88, *(const char **)(*(_DWORD *)(a2 + 12) + 2));
        ++v45;
        v33 = sub_407FE5((string *)v88, 0);
        --v45;
        string::~string((string *)v88);
        v44 = 368;
        if ( v33 )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v32);
      }
      break;
    case 0x11:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 392;
        sub_409E89(&v85, a2 + 12);
        v45 += 4;
        v44 = 404;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v85)(&v85) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v85);
        v45 -= 4;
        v45 += 4;
        --v45;
        string::~string((string *)v87);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v86);
      }
      break;
    case 0x13:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        sub_408BA9(v17, a2 + 12);
        TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)v17);
      }
      break;
    case 0x14:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 344;
        sub_4099DC(&v89, a2 + 12);
        v45 += 7;
        v44 = 356;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v89)(&v89) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v89);
        v45 -= 7;
        v45 += 7;
        v45 -= 6;
        v45 += 6;
        --v45;
        string::~string((string *)v91);
        v45 -= 4;
        v45 += 4;
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v90);
      }
      break;
    case 0x15:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 416;
        sub_40A5CA(v81, (string *)(a2 + 12));
        v45 += 11;
        v44 = 428;
        if ( v81[4] && (*(unsigned __int8 (__cdecl **)(_DWORD *))(v82[0] + 4))(v82) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)v81);
        v45 -= 11;
        v45 += 11;
        v45 -= 5;
        --v45;
        string::~string((string *)v84);
        v45 -= 3;
        --v45;
        --v45;
        v45 -= 5;
        --v45;
        string::~string((string *)v83);
        v45 -= 3;
        --v45;
        --v45;
      }
      break;
    case 0x16:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 440;
        sub_40A0AA(&v79, a2 + 12);
        v45 += 2;
        v44 = 452;
        if ( *(_DWORD *)(v80 + 6) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v79);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)&v80);
      }
      break;
    case 0x17:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 464;
        sub_40A0AA(&v77, a2 + 12);
        v45 += 2;
        v77 = (int)&off_44021C;
        v45 += 3;
        v44 = 476;
        if ( off_44021C((int)&v77) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v77);
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v78);
      }
      break;
    case 0x18:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 488;
        sub_40A0AA(&v75, a2 + 12);
        v45 += 2;
        v75 = (int)&off_440204;
        v45 += 3;
        v44 = 500;
        if ( off_440204((int)&v75) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v75);
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v76);
      }
      break;
    case 0x19:
      sub_4083A1(v16, a2 + 12);
      TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)v16);
      break;
    case 0x1A:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 512;
        v30 = (string *)(a2 + 12);
        v73 = (int)&off_440430;
        string::string((string *)v72, byte_43F76A);
        ++v45;
        sub_40804E((string *)v71, (string *)(a2 + 12), (string *)v72);
        ++v45;
        string::string((string *)&v74, (const string *)v71);
        ++v45;
        --v45;
        string::~string((string *)v71);
        --v45;
        string::~string((string *)v72);
        v45 += 2;
        v44 = 524;
        if ( *(_DWORD *)(v74 + 6) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v73);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)&v74);
      }
      break;
    case 0x1B:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 200;
        sub_40955C(&v106, a2 + 12);
        v45 += 8;
        v44 = 212;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v106)(&v106) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v106);
        v45 -= 8;
        v45 += 8;
        --v45;
        string::~string((string *)v109);
        v45 -= 6;
        v45 += 6;
        --v45;
        string::~string((string *)v108);
        v45 -= 4;
        v45 += 4;
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v107);
      }
      break;
    case 0x1C:
    case 0x1D:
    case 0x1E:
    case 0x2A:
    case 0x2B:
    case 0x2C:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 248;
        v34 = a2 + 12;
        v101 = (int)&off_4402AC;
        string::string((string *)v100, byte_43F76A);
        ++v45;
        string::string((string *)v99, *(const char **)(*(_DWORD *)(a2 + 12) + 2));
        ++v45;
        sub_40804E((string *)v98, (string *)v99, (string *)v100);
        ++v45;
        string::string((string *)&v102, (const string *)v98);
        ++v45;
        --v45;
        string::~string((string *)v98);
        --v45;
        string::~string((string *)v99);
        --v45;
        string::~string((string *)v100);
        v45 += 2;
        v44 = 260;
        if ( *(_DWORD *)(v102 + 6) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v101);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)&v102);
      }
      break;
    case 0x1F:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v70 = (_DWORD *)operator new(0xCu);
        if ( v70 )
        {
          v44 = 548;
          sub_40857E(v70, a2 + 12);
          v44 = 536;
          v8 = (unsigned __int8 (__cdecl ***)(_DWORD))v70;
        }
        else
        {
          v8 = 0;
        }
        v29 = (LPARAM)v8;
        if ( (**v8)(v8) )
        {
          v28 = v29;
          v9 = *(_DWORD *)(a2 + 8);
          v27 = dword_446A8C;
          if ( !a3[3] )
          {
            v44 = 560;
            xerror::MakeString((xerror *)v69, aPrecondition_15, aGethandle_2, aCBc5IncludeOwl_2, 0x53Cu);
            ++v45;
            xmsg::xmsg((xmsg *)v68, (const string *)v69);
            ++v45;
            v44 = 572;
            --v45;
            string::~string((string *)v69);
            v44 = 560;
            v45 += 2;
            v45 += 3;
            _ThrowExceptionLDTC(stru_403B88, v68, 0, sub_403BE0, 1u, 0, 0, 0, v43);
          }
          PostMessageA(a3[3], v27, v9, v28);
        }
      }
      break;
    case 0x20:
    case 0x24:
    case 0x25:
    case 0x2F:
    case 0x30:
      TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), 0);
      break;
    case 0x21:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 584;
        sub_409E89(&v65, a2 + 12);
        v45 += 4;
        v44 = 596;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v65)(&v65) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v65);
        v45 -= 4;
        v45 += 4;
        --v45;
        string::~string((string *)v67);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v66);
      }
      break;
    case 0x22:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 608;
        v26 = a2 + 12;
        v63 = (int)&off_4402AC;
        string::string((string *)v62, byte_43F76A);
        ++v45;
        string::string((string *)v61, *(const char **)(*(_DWORD *)(a2 + 12) + 2));
        ++v45;
        sub_40804E((string *)v60, (string *)v61, (string *)v62);
        ++v45;
        string::string((string *)&v64, (const string *)v60);
        ++v45;
        --v45;
        string::~string((string *)v60);
        --v45;
        string::~string((string *)v61);
        --v45;
        string::~string((string *)v62);
        v45 += 2;
        v44 = 620;
        if ( *(_DWORD *)(v64 + 6) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v63);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)&v64);
      }
      break;
    case 0x23:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
        TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), *(_DWORD *)(*(_DWORD *)(a2 + 12) + 2));
      break;
    case 0x26:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 632;
        sub_40ABCE((int)&v58, a2 + 12);
        v45 += 3;
        v44 = 644;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v58)(&v58) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v58);
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v59);
      }
      break;
    case 0x27:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 656;
        sub_40B2B4(v56, a2 + 12);
        v45 += 2;
        v44 = 668;
        if ( v56[1] )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)v56);
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v57);
      }
      break;
    case 0x28:
      return a1;
    case 0x29:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v44 = 224;
        sub_40AEB4((int)&v103, a2 + 12);
        v45 += 5;
        v44 = 236;
        if ( (*(unsigned __int8 (__cdecl **)(int *))v103)(&v103) )
          TWindow::HandleMessage((TWindow *)a3, dword_446A8C, *(_DWORD *)(a2 + 8), (int)&v103);
        v45 -= 5;
        v45 += 5;
        --v45;
        string::~string((string *)v105);
        v45 -= 3;
        v45 += 3;
        v45 -= 2;
        v45 += 2;
        --v45;
        string::~string((string *)v104);
      }
      break;
    case 0x2D:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v53 = (_DWORD *)operator new(8u);
        if ( v53 )
        {
          v44 = 692;
          v24 = (string *)(a2 + 12);
          *v53 = off_440458;
          *v53 = &off_440430;
          string::string((string *)v55, byte_43F76A);
          ++v45;
          sub_40804E((string *)v54, v24, (string *)v55);
          ++v45;
          string::string((string *)(v53 + 1), (const string *)v54);
          ++v45;
          --v45;
          string::~string((string *)v54);
          --v45;
          string::~string((string *)v55);
          v44 = 680;
          v10 = (unsigned __int8 (__cdecl ***)(_DWORD))v53;
        }
        else
        {
          v10 = 0;
        }
        v25 = (LPARAM)v10;
        if ( (**v10)(v10) )
        {
          v23 = v25;
          v11 = *(_DWORD *)(a2 + 8);
          v22 = dword_446A8C;
          if ( !a3[3] )
          {
            v44 = 704;
            xerror::MakeString((xerror *)v52, aPrecondition_16, aGethandle_3, aCBc5IncludeOwl_3, 0x53Cu);
            ++v45;
            xmsg::xmsg((xmsg *)v51, (const string *)v52);
            ++v45;
            v44 = 716;
            --v45;
            string::~string((string *)v52);
            v44 = 704;
            v45 += 2;
            v45 += 3;
            _ThrowExceptionLDTC(stru_403B88, v51, 0, sub_403BE0, 1u, 0, 0, 0, v43);
          }
          PostMessageA(a3[3], v22, v11, v23);
        }
      }
      break;
    case 0x2E:
      if ( *(_DWORD *)(*(_DWORD *)(a2 + 12) + 6) )
      {
        v48 = (_DWORD *)operator new(8u);
        if ( v48 )
        {
          v44 = 740;
          v20 = (string *)(a2 + 12);
          *v48 = off_440458;
          *v48 = &off_440430;
          string::string((string *)v50, byte_43F76A);
          ++v45;
          sub_40804E((string *)v49, v20, (string *)v50);
          ++v45;
          string::string((string *)(v48 + 1), (const string *)v49);
          ++v45;
          --v45;
          string::~string((string *)v49);
          --v45;
          string::~string((string *)v50);
          v44 = 728;
          v12 = (unsigned __int8 (__cdecl ***)(_DWORD))v48;
        }
        else
        {
          v12 = 0;
        }
        v21 = (LPARAM)v12;
        if ( (**v12)(v12) )
        {
          v19 = v21;
          v13 = *(_DWORD *)(a2 + 8);
          v18 = dword_446A8C;
          if ( !a3[3] )
          {
            v44 = 752;
            xerror::MakeString((xerror *)v47, aPrecondition_17, aGethandle_4, aCBc5IncludeOwl_4, 0x53Cu);
            ++v45;
            xmsg::xmsg((xmsg *)v46, (const string *)v47);
            ++v45;
            v44 = 764;
            --v45;
            string::~string((string *)v47);
            v44 = 752;
            v45 += 2;
            v45 += 3;
            _ThrowExceptionLDTC(stru_403B88, v46, 0, sub_403BE0, 1u, 0, 0, 0, v43);
          }
          PostMessageA(a3[3], v18, v13, v19);
        }
      }
      break;
    default:
      v14 = sub_403A1B((int)&dword_43BA0C, *(_DWORD *)(a2 + 8));
      sub_404F9C(0x6Fu, v14);
      a1 = 0;
      break;
  }
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 43BA0C: using guessed type int dword_43BA0C;
// 440204: using guessed type bool (__cdecl *off_440204)(int a1);
// 44021C: using guessed type bool (__cdecl *off_44021C)(int a1);
// 440234: using guessed type int (__cdecl *off_440234)(int);
// 440248: using guessed type int (__cdecl *off_440248)(int);
// 44025C: using guessed type int (__cdecl *off_44025C)(int);
// 4402AC: using guessed type int (__cdecl *off_4402AC)(int);
// 440430: using guessed type int (__cdecl *off_440430)(int);
// 440458: using guessed type int (*off_440458[2])();

//----- (0040D6F4) --------------------------------------------------------
void __cdecl sub_40D6F4(int a1, ipstream *a2)
{
  _BYTE v2[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *(_DWORD *)(a1 + 8) = ipstream::readWord(a2);
  operator>>(a2, a1 + 12);
  sub_404C08((string *)(a1 + 12));
  if ( *(int *)(a1 + 8) < 6 )
  {
    string::string((string *)v2, &byte_43FBC7);
    string::assign((string *)(a1 + 12), (const string *)v2, 0, 0xFFFFFFFF);
    string::~string((string *)v2);
  }
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (0040D8A9) --------------------------------------------------------
_DWORD *__cdecl sub_40D8A9(_DWORD *a1, _DWORD *a2)
{
  int v3; // esi
  int v4; // ecx
  unsigned int v5; // [esp+Ch] [ebp-4Ch]
  unsigned int i; // [esp+10h] [ebp-48h]
  int v7; // [esp+18h] [ebp-40h]
  unsigned int v8; // [esp+20h] [ebp-38h]
  _DWORD v9[4]; // [esp+24h] [ebp-34h] BYREF
  __int16 v10; // [esp+34h] [ebp-24h]
  int v11; // [esp+40h] [ebp-18h]
  char v12[4]; // [esp+48h] [ebp-10h] BYREF
  char v13[4]; // [esp+4Ch] [ebp-Ch] BYREF
  char v14[4]; // [esp+50h] [ebp-8h] BYREF
  char v15[4]; // [esp+54h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a2 == a1 )
    return a1;
  *(_DWORD *)((char *)a1 + 17) = 0;
  v8 = (*(int (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a2 + 5) + 4))(a2 + 1);
  v3 = v8 + 1;
  if ( (signed int)(v8 + 1) >= *a1 )
  {
    v7 = *(_DWORD *)((char *)a1 + 13);
    if ( v7 == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = v7 + *a1;
    if ( v3 >= v4 )
      sub_40F7B9((int)(a1 + 1), v3 - *a1, 0);
  }
  else
  {
    sub_40F7B9((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v3 - *a1, 0);
  }
  for ( i = 0; i < v8; ++i )
  {
    if ( (signed int)i < *a2 || i - *a2 >= *(_DWORD *)((char *)a2 + 13) )
    {
      xerror::MakeString((xerror *)v15, aPrecondition_18, aLocLowerboundZ_0, aCBc5IncludeCla_8, 0xDAu);
      ++v11;
      xmsg::xmsg((xmsg *)v14, (const string *)v15);
      ++v11;
      v10 = 12;
      --v11;
      string::~string((string *)v15);
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    v5 = i - *a2;
    if ( !*(_DWORD *)((char *)a2 + 13) || !*(_DWORD *)((char *)a2 + 9) || v5 >= *(_DWORD *)((char *)a2 + 13) )
    {
      xerror::MakeString((xerror *)v13, aPrecondition_19, aLim0Data0Index_4, aCBc5IncludeCla_9, 0xC7u);
      ++v11;
      xmsg::xmsg((xmsg *)v12, (const string *)v13);
      ++v11;
      v10 = 24;
      --v11;
      string::~string((string *)v13);
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    sub_40F706((int)(a1 + 1), *(_DWORD *)((char *)a2 + 9) + 16 * v5);
  }
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0040DAA9) --------------------------------------------------------
int __cdecl sub_40DAA9(int a1, int a2)
{
  int result; // eax
  unsigned int v3; // esi
  unsigned int v4; // [esp+10h] [ebp-40h]
  unsigned int v5; // [esp+18h] [ebp-38h]
  char v6[16]; // [esp+1Ch] [ebp-34h] BYREF
  __int16 v7; // [esp+2Ch] [ebp-24h]
  int v8; // [esp+38h] [ebp-18h]
  char v9[4]; // [esp+40h] [ebp-10h] BYREF
  char v10[4]; // [esp+44h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  result = (**(int (__cdecl ***)(int))(a1 + 5))(a1 + 4);
  v4 = 0;
  v5 = result;
  while ( v4 < v5 )
  {
    v3 = v4;
    if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || v4 >= *(_DWORD *)(a1 + 13) )
    {
      xerror::MakeString((xerror *)v10, aPrecondition_21, aLim0Data0Index_5, aCBc5IncludeCla_11, 0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v9, (const string *)v10);
      ++v8;
      v7 = 24;
      --v8;
      string::~string((string *)v10);
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    ++v4;
    result = (*(int (__cdecl **)(unsigned int, int))(*(_DWORD *)(*(_DWORD *)(a1 + 9) + 16 * v3) + 12))(
               *(_DWORD *)(a1 + 9) + 16 * v3,
               a2);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0040DC1E) --------------------------------------------------------
void __cdecl sub_40DC1E(_DWORD *a1, ipstream *a2)
{
  unsigned int Word; // edi
  int v3; // ebx
  int v4; // ecx
  unsigned int i; // ebx
  int v6; // [esp+10h] [ebp-3Ch]
  int v7[3]; // [esp+3Ch] [ebp-10h] BYREF
  _BYTE v8[4]; // [esp+48h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *(_DWORD *)((char *)a1 + 17) = 0;
  Word = ipstream::readWord(a2);
  v3 = Word + 1;
  if ( (signed int)(Word + 1) >= *a1 )
  {
    v6 = *(_DWORD *)((char *)a1 + 13);
    if ( v6 == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = *a1 + v6;
    if ( v3 >= v4 )
      sub_40F7B9((int)(a1 + 1), v3 - *a1, 0);
  }
  else
  {
    sub_40F7B9((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v3 - *a1, 0);
  }
  v7[0] = (int)&off_44030C;
  v7[1] = (int)off_440324;
  string::string((string *)v8);
  sub_40B61D((int)v7);
  for ( i = 0; Word > i; ++i )
  {
    sub_40D6F4((int)v7, a2);
    if ( (*(unsigned __int8 (__cdecl **)(int *))(v7[0] + 4))(v7) )
      sub_40F706((int)(a1 + 1), (int)v7);
  }
  string::~string((string *)v8);
}
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040DE32) --------------------------------------------------------
void __cdecl sub_40DE32(_DWORD *a1, char *a2, char *a3, char *a4)
{
  _BYTE *v4; // eax
  const char *v5; // esi
  CHAR String2[1024]; // [esp+Ch] [ebp-434h] BYREF
  __int16 v7; // [esp+41Ch] [ebp-24h]
  int v8; // [esp+428h] [ebp-18h]
  _BYTE v9[4]; // [esp+430h] [ebp-10h] BYREF
  _BYTE v10[4]; // [esp+434h] [ebp-Ch] BYREF
  _BYTE v11[8]; // [esp+438h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  a1[4] = -1;
  a1[2] = -1;
  v7 = 8;
  string::string((string *)v10, &byte_43FD09);
  ++v8;
  string::assign((string *)(a1 + 3), (const string *)v10, 0, 0xFFFFFFFF);
  --v8;
  string::~string((string *)v10);
  v7 = 20;
  TProfile::TProfile((TProfile *)v11, a2, a4);
  ++v8;
  v7 = 32;
  if ( (unsigned __int8)TProfile::GetString((TProfile *)v11, a3, String2, 0x400u, &byte_43FD0A) )
  {
    v4 = (_BYTE *)strchr(String2, 44);
    if ( v4 )
    {
      *v4 = 0;
      v5 = v4 + 1;
      a1[4] = sub_403A55((int)&dword_43BA18, String2, 0);
      if ( (int)a1[4] >= 0 )
      {
        v7 = 56;
        string::string((string *)v9, v5);
        ++v8;
        v7 = 44;
        sub_40B79F(a1, (string *)v9);
        --v8;
        string::~string((string *)v9);
      }
      else
      {
        sub_404F9C(0x70u, String2);
      }
    }
  }
  --v8;
  TProfile::~TProfile((TProfile *)v11);
}
// 43BA18: using guessed type int dword_43BA18;

//----- (0040DF8B) --------------------------------------------------------
void __cdecl sub_40DF8B(int a1, ipstream *a2)
{
  *(_DWORD *)(a1 + 16) = ipstream::readWord(a2);
  sub_40D6F4(a1, a2);
}

//----- (0040E0E2) --------------------------------------------------------
_DWORD *__cdecl sub_40E0E2(_DWORD *a1, _DWORD *a2)
{
  int v3; // esi
  int v4; // ecx
  unsigned int v5; // [esp+Ch] [ebp-4Ch]
  unsigned int i; // [esp+10h] [ebp-48h]
  int v7; // [esp+18h] [ebp-40h]
  unsigned int v8; // [esp+20h] [ebp-38h]
  _DWORD v9[4]; // [esp+24h] [ebp-34h] BYREF
  __int16 v10; // [esp+34h] [ebp-24h]
  int v11; // [esp+40h] [ebp-18h]
  char v12[4]; // [esp+48h] [ebp-10h] BYREF
  char v13[4]; // [esp+4Ch] [ebp-Ch] BYREF
  char v14[4]; // [esp+50h] [ebp-8h] BYREF
  char v15[4]; // [esp+54h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a2 == a1 )
    return a1;
  (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 33) + 12))(a1);
  v8 = (*(int (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a2 + 5) + 4))(a2 + 1);
  v3 = v8 + 1;
  if ( (signed int)(v8 + 1) >= *a1 )
  {
    v7 = *(_DWORD *)((char *)a1 + 13);
    if ( v7 == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = v7 + *a1;
    if ( v3 >= v4 )
      sub_40F9E2((int)(a1 + 1), v3 - *a1, 0);
  }
  else
  {
    sub_40F9E2((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v3 - *a1, 0);
  }
  for ( i = 0; i < v8; ++i )
  {
    if ( (signed int)i < *a2 || i - *a2 >= *(_DWORD *)((char *)a2 + 13) )
    {
      xerror::MakeString((xerror *)v15, aPrecondition_22, aLocLowerboundZ_1, aCBc5IncludeCla_12, 0xDAu);
      ++v11;
      xmsg::xmsg((xmsg *)v14, (const string *)v15);
      ++v11;
      v10 = 12;
      --v11;
      string::~string((string *)v15);
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    v5 = i - *a2;
    if ( !*(_DWORD *)((char *)a2 + 13) || !*(_DWORD *)((char *)a2 + 9) || v5 >= *(_DWORD *)((char *)a2 + 13) )
    {
      xerror::MakeString((xerror *)v13, aPrecondition_23, aLim0Data0Index_6, aCBc5IncludeCla_13, 0xC7u);
      ++v11;
      xmsg::xmsg((xmsg *)v12, (const string *)v13);
      ++v11;
      v10 = 24;
      --v11;
      string::~string((string *)v13);
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    sub_40F91A((int)(a1 + 1), *(_DWORD *)((char *)a2 + 9) + 20 * v5);
  }
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0040E2E5) --------------------------------------------------------
int __cdecl sub_40E2E5(int a1, int a2, int a3)
{
  int result; // eax
  unsigned int v4; // [esp+10h] [ebp-6Ch]
  unsigned int v5; // [esp+18h] [ebp-64h]
  _BYTE v6[16]; // [esp+28h] [ebp-54h] BYREF
  __int16 v7; // [esp+38h] [ebp-44h]
  int v8; // [esp+44h] [ebp-38h]
  char v9[4]; // [esp+4Ch] [ebp-30h] BYREF
  char v10[4]; // [esp+50h] [ebp-2Ch] BYREF
  char v11[4]; // [esp+54h] [ebp-28h] BYREF
  char v12[4]; // [esp+58h] [ebp-24h] BYREF
  char v13[4]; // [esp+5Ch] [ebp-20h] BYREF
  char v14[4]; // [esp+60h] [ebp-1Ch] BYREF
  char v15[4]; // [esp+64h] [ebp-18h] BYREF
  char v16[4]; // [esp+68h] [ebp-14h] BYREF
  char v17[4]; // [esp+6Ch] [ebp-10h] BYREF
  char v18[4]; // [esp+70h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  result = (**(int (__cdecl ***)(int))(a1 + 5))(a1 + 4);
  v4 = 0;
  v5 = result;
  while ( v4 < v5 )
  {
    if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || *(_DWORD *)(a1 + 13) <= v4 )
    {
      xerror::MakeString((xerror *)v18, aPrecondition_148, aLim0Data0Index_34, aCBc5IncludeCla_58, 0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v17, (const string *)v18);
      ++v8;
      v7 = 24;
      --v8;
      string::~string((string *)v18);
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v17, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 9) + 20 * v4 + 16) == a3 )
    {
      if ( v4 >= v5 )
      {
        v7 = 36;
        xerror::MakeString((xerror *)v16, aPrecondition_149, aCurUpper_16, aCBc5IncludeCla_59, 0x13Fu);
        ++v8;
        xmsg::xmsg((xmsg *)v15, (const string *)v16);
        ++v8;
        v7 = 48;
        --v8;
        string::~string((string *)v16);
        v7 = 36;
        v8 += 2;
        v8 += 3;
        _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v6);
      }
      if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || *(_DWORD *)(a1 + 13) <= v4 )
      {
        xerror::MakeString((xerror *)v14, aPrecondition_150, aLim0Data0Index_35, aCBc5IncludeCla_60, 0xC7u);
        ++v8;
        xmsg::xmsg((xmsg *)v13, (const string *)v14);
        ++v8;
        v7 = 60;
        --v8;
        string::~string((string *)v14);
        v7 = 36;
        v8 += 2;
        v8 += 3;
        _ThrowExceptionLDTC(stru_403B88, v13, 0, sub_403BE0, 1u, 0, 0, 0, v6);
      }
      (*(void (__cdecl **)(unsigned int, int))(*(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 9)) + 12))(
        20 * v4 + *(_DWORD *)(a1 + 9),
        a2);
    }
    if ( v4 >= v5 )
    {
      v7 = 72;
      xerror::MakeString((xerror *)v12, aPrecondition_151, aCurUpper_17, aCBc5IncludeCla_61, 0x13Fu);
      ++v8;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v8;
      v7 = 84;
      --v8;
      string::~string((string *)v12);
      v7 = 72;
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    result = v4;
    if ( !*(_DWORD *)(a1 + 13) || !*(_DWORD *)(a1 + 9) || *(_DWORD *)(a1 + 13) <= v4 )
    {
      xerror::MakeString((xerror *)v10, aPrecondition_152, aLim0Data0Index_36, aCBc5IncludeCla_62, 0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v9, (const string *)v10);
      ++v8;
      v7 = 96;
      --v8;
      string::~string((string *)v10);
      v7 = 72;
      v8 += 2;
      v8 += 3;
      result = _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    ++v4;
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0040E6FC) --------------------------------------------------------
void __cdecl sub_40E6FC(_DWORD *a1, char *a2, char *a3, char *a4)
{
  string *v4; // esi
  string *v5; // edi
  const char *v6; // esi
  size_t v7; // eax
  TStringRef *v8; // eax
  unsigned int Int; // edi
  int v10; // esi
  int v11; // ecx
  unsigned int i; // esi
  char buffer[256]; // [esp+Ch] [ebp-164h] BYREF
  unsigned int v14; // [esp+10Ch] [ebp-64h]
  int v15; // [esp+110h] [ebp-60h]
  unsigned int v16; // [esp+114h] [ebp-5Ch]
  __int16 v17; // [esp+130h] [ebp-40h]
  int v18; // [esp+13Ch] [ebp-34h]
  int v19; // [esp+144h] [ebp-2Ch] BYREF
  int (__cdecl **v20)(int); // [esp+148h] [ebp-28h]
  _BYTE v21[4]; // [esp+150h] [ebp-20h] BYREF
  int v22; // [esp+154h] [ebp-1Ch]
  TStringRef *v23; // [esp+158h] [ebp-18h]
  _BYTE v24[4]; // [esp+15Ch] [ebp-14h] BYREF
  _BYTE v25[4]; // [esp+160h] [ebp-10h] BYREF
  _BYTE v26[8]; // [esp+164h] [ebp-Ch] BYREF
  TStringRef *v27; // [esp+16Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 33) + 12))(a1);
  v17 = 20;
  v4 = string::string((string *)v25, aNum);
  v5 = string::string((string *)v24, a3);
  v18 += 2;
  v6 = *(const char **)(*(_DWORD *)v4 + 2);
  v23 = (TStringRef *)operator new(0x12u);
  if ( v23 )
  {
    v17 = 32;
    if ( v6 )
      v7 = strlen(v6);
    else
      v7 = 0;
    TStringRef::TStringRef(v23, *(const char **)(*(_DWORD *)v5 + 2), *(_DWORD *)(*(_DWORD *)v5 + 6), v6, v7, 0);
    v17 = 20;
    v8 = v23;
  }
  else
  {
    v8 = 0;
  }
  v27 = v8;
  string::~string((string *)v25);
  string::~string((string *)v24);
  TProfile::TProfile((TProfile *)v26, a2, a4);
  v18 += 2;
  v17 = 8;
  Int = TProfile::GetInt((TProfile *)v26, *(const char **)((char *)v27 + 2), 0);
  v10 = Int + 1;
  if ( (signed int)(Int + 1) >= *a1 )
  {
    v15 = *(_DWORD *)((char *)a1 + 13);
    if ( v15 == -1 )
      v11 = 0x7FFFFFFF;
    else
      v11 = *a1 + v15;
    if ( v10 >= v11 )
    {
      v14 = v10 - *a1;
      sub_40F9E2((int)(a1 + 1), v14, 0);
    }
  }
  else
  {
    v16 = *(_DWORD *)((char *)a1 + 13) + v10 - *a1;
    sub_40F9E2((int)(a1 + 1), v16, 0);
  }
  if ( Int )
  {
    v19 = (int)&off_44030C;
    v20 = off_440324;
    string::string((string *)v21);
    sub_40B61D((int)&v19);
    v19 = (int)&off_44013C;
    v20 = off_440158;
    v22 = -1;
    v18 += 17;
    v17 = 68;
    for ( i = 0; i < Int; ++i )
    {
      sprintf(buffer, "%s_%u", a3, i);
      sub_40DE32(&v19, a2, buffer, a4);
      if ( (*(unsigned __int8 (__cdecl **)(int *))(v19 + 4))(&v19) )
        sub_40F91A((int)(a1 + 1), (int)&v19);
    }
    v18 -= 6;
    v18 -= 5;
    --v18;
    string::~string((string *)v21);
    v18 -= 3;
    --v18;
    --v18;
  }
  --v18;
  TProfile::~TProfile((TProfile *)v26);
  --v18;
  string::~string((string *)&v27);
}
// 40E8DC: conditional instruction was optimized away because edi.4!=0
// 44013C: using guessed type int (__cdecl *off_44013C)(void *, char);
// 440158: using guessed type int (__cdecl *off_440158[2])(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040E989) --------------------------------------------------------
void __cdecl sub_40E989(_DWORD *a1, ipstream *a2)
{
  unsigned int Word; // edi
  int v3; // ebx
  int v4; // ecx
  unsigned int i; // ebx
  int v6; // [esp+10h] [ebp-40h]
  int v7; // [esp+3Ch] [ebp-14h] BYREF
  int (__cdecl **v8)(int); // [esp+40h] [ebp-10h]
  _BYTE v9[4]; // [esp+48h] [ebp-8h] BYREF
  int v10; // [esp+4Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 33) + 12))(a1);
  Word = ipstream::readWord(a2);
  v3 = Word + 1;
  if ( (signed int)(Word + 1) >= *a1 )
  {
    v6 = *(_DWORD *)((char *)a1 + 13);
    if ( v6 == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = *a1 + v6;
    if ( v3 >= v4 )
      sub_40F9E2((int)(a1 + 1), v3 - *a1, 0);
  }
  else
  {
    sub_40F9E2((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v3 - *a1, 0);
  }
  v7 = (int)&off_44030C;
  v8 = off_440324;
  string::string((string *)v9);
  sub_40B61D((int)&v7);
  v7 = (int)&off_44013C;
  v8 = off_440158;
  v10 = -1;
  for ( i = 0; Word > i; ++i )
  {
    sub_40DF8B((int)&v7, a2);
    if ( (*(unsigned __int8 (__cdecl **)(int *))(v7 + 4))(&v7) )
      sub_40F91A((int)(a1 + 1), (int)&v7);
  }
  string::~string((string *)v9);
}
// 44013C: using guessed type int (__cdecl *off_44013C)(void *, char);
// 440158: using guessed type int (__cdecl *off_440158[2])(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040EAEA) --------------------------------------------------------
size_t sub_40EAEA()
{
  __InitExceptBlockLDTC();
  dword_43BA0C = (int)&off_440090;
  dword_43BA10 = 0;
  dword_43BA14 = 0;
  sub_4039B8((int)&dword_43BA0C, s);
  dword_43BA18 = (int)&off_440090;
  dword_43BA1C = 0;
  dword_43BA20 = 0;
  sub_4039B8((int)&dword_43BA18, aEvOnfocus);
  dword_43BA24 = (int)&off_440090;
  dword_43BA28 = 0;
  dword_43BA2C = 0;
  return sub_4039B8((int)&dword_43BA24, asc_43F8FD);
}
// 43BA0C: using guessed type int dword_43BA0C;
// 43BA14: using guessed type int dword_43BA14;
// 43BA18: using guessed type int dword_43BA18;
// 43BA20: using guessed type int dword_43BA20;
// 43BA24: using guessed type int dword_43BA24;
// 43BA2C: using guessed type int dword_43BA2C;
// 440090: using guessed type int (__cdecl *off_440090)(void *, char);

//----- (0040EB99) --------------------------------------------------------
void sub_40EB99()
{
  __InitExceptBlockLDTC();
  dword_43BA24 = (int)&off_440090;
  operator delete[](dword_43BA28);
  dword_43BA18 = (int)&off_440090;
  operator delete[](dword_43BA1C);
  dword_43BA0C = (int)&off_440090;
  operator delete[](dword_43BA10);
}
// 43BA0C: using guessed type int dword_43BA0C;
// 43BA18: using guessed type int dword_43BA18;
// 43BA24: using guessed type int dword_43BA24;
// 440090: using guessed type int (__cdecl *off_440090)(void *, char);

//----- (0040F3ED) --------------------------------------------------------
_DWORD *__cdecl sub_40F3ED(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_44030C;
  a1[1] = off_440324;
  string::string((string *)(a1 + 3));
  sub_40B61D((int)a1);
  return a1;
}
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040F471) --------------------------------------------------------
void __cdecl sub_40F471(_DWORD *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_44030C;
    a1[1] = off_440324;
    string::~string((string *)(a1 + 3));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040F53C) --------------------------------------------------------
_DWORD *__cdecl sub_40F53C(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_44030C;
  a1[1] = off_440324;
  string::string((string *)(a1 + 3));
  sub_40B61D((int)a1);
  *a1 = &off_44013C;
  a1[1] = off_440158;
  a1[4] = -1;
  return a1;
}
// 44013C: using guessed type int (__cdecl *off_44013C)(void *, char);
// 440158: using guessed type int (__cdecl *off_440158[2])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);

//----- (0040F5DA) --------------------------------------------------------
void __cdecl sub_40F5DA(_DWORD *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_44013C;
    a1[1] = off_440158;
    string::~string((string *)(a1 + 3));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44013C: using guessed type int (__cdecl *off_44013C)(void *, char);
// 440158: using guessed type int (__cdecl *off_440158[2])(int);

//----- (0040F706) --------------------------------------------------------
int __cdecl sub_40F706(int a1, int a2)
{
  int v3; // edx

  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_40F7B9(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v3 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v3 + 1;
  sub_40B686(*(_DWORD *)(a1 + 5) + 16 * v3, a2);
  return 1;
}

//----- (0040F74F) --------------------------------------------------------
unsigned int __cdecl sub_40F74F(int a1, int a2)
{
  unsigned int result; // eax

  for ( result = 0; result < *(_DWORD *)(a1 + 13); ++result )
  {
    if ( a2 == *(_DWORD *)(a1 + 5) + 16 * result )
      return result;
  }
  return -1;
}

//----- (0040F7B9) --------------------------------------------------------
int __cdecl sub_40F7B9(int a1, unsigned int a2, int a3)
{
  unsigned int v4; // eax
  unsigned int v5; // eax
  int v6; // eax
  unsigned int *v7; // edx
  unsigned int i; // ebx
  int v9; // [esp+Ch] [ebp-40h] BYREF
  unsigned int v10; // [esp+10h] [ebp-3Ch]
  int v11; // [esp+14h] [ebp-38h]
  unsigned int v12; // [esp+18h] [ebp-34h]
  unsigned int v13; // [esp+1Ch] [ebp-30h]
  __int16 v14; // [esp+30h] [ebp-1Ch]
  void *v15; // [esp+44h] [ebp-8h]
  void *v16; // [esp+48h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a2 <= *(_DWORD *)(a1 + 9) || !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1) )
    return 0;
  v4 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1);
  v12 = a2 - *(_DWORD *)(a1 + 9);
  if ( v12 % v4 )
    v5 = v4 * ((v4 + v12) / v4);
  else
    v5 = v12;
  v13 = *(_DWORD *)(a1 + 9) + v5;
  v16 = (void *)operator new[](16 * v13 + 4);
  if ( v16 )
  {
    v6 = _vector_new_ldtc_(v16, 0x10u, v13, 0x211u, sub_40F3ED, 1u, sub_40F471);
    v14 = 8;
  }
  else
  {
    v6 = 0;
  }
  v11 = v6;
  v9 = v13 - a3;
  if ( *(_DWORD *)(a1 + 9) <= v13 - a3 )
    v7 = (unsigned int *)(a1 + 9);
  else
    v7 = (unsigned int *)&v9;
  v10 = *v7;
  for ( i = 0; i < v10; ++i )
    sub_40B686(v11 + 16 * (a3 + i), *(_DWORD *)(a1 + 5) + 16 * i);
  v15 = *(void **)(a1 + 5);
  v14 = 44;
  _vector_delete_ldtc_(v15, 0x10u, 0, 0x19u, sub_40F471);
  v14 = 32;
  *(_DWORD *)(a1 + 5) = v11;
  *(_DWORD *)(a1 + 9) = v13;
  (*(void (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v10 + a3, v13);
  return 1;
}

//----- (0040F91A) --------------------------------------------------------
int __cdecl sub_40F91A(int a1, int a2)
{
  int v3; // edx
  int v4; // ebx

  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_40F9E2(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v3 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v3 + 1;
  v4 = *(_DWORD *)(a1 + 5) + 20 * v3;
  *(_DWORD *)(v4 + 16) = *(_DWORD *)(a2 + 16);
  sub_40B686(v4, a2);
  return 1;
}

//----- (0040F970) --------------------------------------------------------
unsigned int __cdecl sub_40F970(int a1, int a2)
{
  unsigned int result; // eax

  for ( result = 0; result < *(_DWORD *)(a1 + 13); ++result )
  {
    if ( a2 == *(_DWORD *)(a1 + 5) + 20 * result )
      return result;
  }
  return -1;
}

//----- (0040F9E2) --------------------------------------------------------
int __cdecl sub_40F9E2(int a1, unsigned int a2, int a3)
{
  unsigned int v4; // eax
  unsigned int v5; // eax
  int v6; // eax
  unsigned int *v7; // edx
  unsigned int i; // ebx
  int v9; // eax
  int v10; // esi
  int v11; // [esp+Ch] [ebp-3Ch] BYREF
  unsigned int v12; // [esp+10h] [ebp-38h]
  int v13; // [esp+14h] [ebp-34h]
  unsigned int v14; // [esp+18h] [ebp-30h]
  __int16 v15; // [esp+2Ch] [ebp-1Ch]
  void *v16; // [esp+40h] [ebp-8h]
  void *v17; // [esp+44h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 9) >= a2 || !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1) )
    return 0;
  v4 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1);
  if ( (a2 - *(_DWORD *)(a1 + 9)) % v4 )
    v5 = v4 * ((v4 + a2 - *(_DWORD *)(a1 + 9)) / v4);
  else
    v5 = a2 - *(_DWORD *)(a1 + 9);
  v14 = *(_DWORD *)(a1 + 9) + v5;
  v17 = (void *)operator new[](20 * v14 + 4);
  if ( v17 )
  {
    v6 = _vector_new_ldtc_(v17, 0x14u, v14, 0x211u, sub_40F53C, 1u, sub_40F5DA);
    v15 = 8;
  }
  else
  {
    v6 = 0;
  }
  v13 = v6;
  v11 = v14 - a3;
  if ( *(_DWORD *)(a1 + 9) <= v14 - a3 )
    v7 = (unsigned int *)(a1 + 9);
  else
    v7 = (unsigned int *)&v11;
  v12 = *v7;
  for ( i = 0; i < v12; ++i )
  {
    v9 = 20 * i + *(_DWORD *)(a1 + 5);
    v10 = v13 + 20 * (i + a3);
    *(_DWORD *)(v10 + 16) = *(_DWORD *)(v9 + 16);
    sub_40B686(v10, v9);
  }
  v16 = *(void **)(a1 + 5);
  v15 = 44;
  _vector_delete_ldtc_(v16, 0x14u, 0, 0x19u, sub_40F5DA);
  v15 = 32;
  *(_DWORD *)(a1 + 5) = v13;
  *(_DWORD *)(a1 + 9) = v14;
  (*(void (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, a3 + v12, v14);
  return 1;
}

//----- (0040FB9E) --------------------------------------------------------
void __cdecl sub_40FB9E(void **a1, char a2)
{
  if ( a1 )
  {
    *a1 = &off_440090;
    operator delete[](a1[1]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 440090: using guessed type int (__cdecl *off_440090)(void *, char);

//----- (0040FE1F) --------------------------------------------------------
void __cdecl sub_40FE1F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 16));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0040FEA0) --------------------------------------------------------
void __cdecl sub_40FEA0(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0040FEF1) --------------------------------------------------------
void __cdecl sub_40FEF1(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0040FF3A) --------------------------------------------------------
void __cdecl sub_40FF3A(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0040FF8B) --------------------------------------------------------
void __cdecl sub_40FF8B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0040FFDC) --------------------------------------------------------
void __cdecl sub_40FFDC(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00410025) --------------------------------------------------------
void __cdecl sub_410025(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 48));
    string::~string((string *)(a1 + 32));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004100A4) --------------------------------------------------------
void __cdecl sub_4100A4(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 8));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00410105) --------------------------------------------------------
void __cdecl sub_410105(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 28));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00410182) --------------------------------------------------------
void __cdecl sub_410182(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004101D3) --------------------------------------------------------
void __cdecl sub_4101D3(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041022C) --------------------------------------------------------
void __cdecl sub_41022C(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 26));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00410295) --------------------------------------------------------
void __cdecl sub_410295(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 32));
    string::~string((string *)(a1 + 28));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00410324) --------------------------------------------------------
void __cdecl sub_410324(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 28));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00410395) --------------------------------------------------------
void __cdecl sub_410395(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004103EE) --------------------------------------------------------
void __cdecl sub_4103EE(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041053B) --------------------------------------------------------
void __cdecl sub_41053B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 33) = &off_4400A0;
    *(_DWORD *)(a1 + 25) = off_4400C0;
    *(_DWORD *)(a1 + 29) = off_4400D0;
    (*(void (__cdecl **)(char *))(*(_DWORD *)(a1 + 33) + 12))(a1);
    *(_DWORD *)(a1 + 5) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400A0: using guessed type int (__cdecl *off_4400A0)(void *, char);
// 4400C0: using guessed type int (__cdecl *off_4400C0[2])(int);
// 4400D0: using guessed type int (__cdecl *off_4400D0[2])(int);
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00410626) --------------------------------------------------------
bool __cdecl sub_410626(int a1)
{
  return (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4) != 0;
}

//----- (00410643) --------------------------------------------------------
int __cdecl sub_410643(int a1)
{
  *(_DWORD *)(a1 + 17) = 0;
  return a1 + 4;
}

//----- (00410653) --------------------------------------------------------
void __cdecl sub_410653(int a1, ipstream *a2)
{
  sub_40E989((_DWORD *)(a1 - 29), a2);
}

//----- (0041065D) --------------------------------------------------------
void __cdecl sub_41065D(int a1, char a2)
{
  sub_41053B((char *)(a1 - 29), a2);
}

//----- (00410667) --------------------------------------------------------
bool __cdecl sub_410667(int a1)
{
  return sub_410626(a1 - 25);
}

//----- (00410671) --------------------------------------------------------
void __cdecl sub_410671(int a1, char a2)
{
  sub_41053B((char *)(a1 - 25), a2);
}

//----- (0041067B) --------------------------------------------------------
int __cdecl sub_41067B(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00410686) --------------------------------------------------------
int __cdecl sub_410686(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00410791) --------------------------------------------------------
int __cdecl sub_410791(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (0041079C) --------------------------------------------------------
int __cdecl sub_41079C(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (004107A7) --------------------------------------------------------
int __cdecl sub_4107A7(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (004107B2) --------------------------------------------------------
bool __cdecl sub_4107B2(int a1)
{
  return *(int *)(a1 + 16) >= 0 && sub_40B97E(a1);
}

//----- (004107D6) --------------------------------------------------------
void __cdecl sub_4107D6(int a1, ipstream *a2)
{
  sub_40DF8B(a1 - 4, a2);
}

//----- (004107E0) --------------------------------------------------------
void __cdecl sub_4107E0(int a1, char a2)
{
  sub_40F5DA((_DWORD *)(a1 - 4), a2);
}

//----- (004107EA) --------------------------------------------------------
void __cdecl sub_4107EA(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 33) = &off_44016C;
    *(_DWORD *)(a1 + 25) = &off_440188;
    *(_DWORD *)(a1 + 29) = &off_440198;
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44016C: using guessed type int (__cdecl *off_44016C)(int, int);
// 440188: using guessed type _UNKNOWN *off_440188;
// 440198: using guessed type _UNKNOWN *off_440198;
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (004108D5) --------------------------------------------------------
bool __cdecl sub_4108D5(int a1)
{
  return (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4) != 0;
}

//----- (004108F2) --------------------------------------------------------
void __cdecl sub_4108F2(int a1, ipstream *a2)
{
  sub_40DC1E((_DWORD *)(a1 - 29), a2);
}

//----- (00410906) --------------------------------------------------------
bool __cdecl sub_410906(int a1)
{
  return sub_4108D5(a1 - 25);
}

//----- (0041091A) --------------------------------------------------------
int __cdecl sub_41091A(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00410925) --------------------------------------------------------
int __cdecl sub_410925(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00410A24) --------------------------------------------------------
int __cdecl sub_410A24(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00410A2F) --------------------------------------------------------
int __cdecl sub_410A2F(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00410A3A) --------------------------------------------------------
int __cdecl sub_410A3A(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (00410A45) --------------------------------------------------------
bool __cdecl sub_410A45(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 6) != 0;
}

//----- (00410AA0) --------------------------------------------------------
bool __cdecl sub_410AA0(int a1)
{
  return *(_DWORD *)(a1 + 4) != 0;
}

//----- (00410AF6) --------------------------------------------------------
bool __cdecl sub_410AF6(int a1)
{
  return *(_DWORD *)(a1 + 4) > 0;
}

//----- (00410B08) --------------------------------------------------------
bool __cdecl sub_410B08(int a1)
{
  return *(_DWORD *)(a1 + 4) != 0;
}

//----- (00410B1A) --------------------------------------------------------
bool __cdecl sub_410B1A(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 6) != 0;
}

//----- (00410B31) --------------------------------------------------------
string *__cdecl sub_410B31(string *a1, int a2)
{
  __InitExceptBlockLDTC();
  string::string(a1, (const string *)(a2 + 4));
  return a1;
}

//----- (00410C44) --------------------------------------------------------
void __cdecl sub_410C44(_DWORD *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_4402E8;
    a1[1] = &off_4402F8;
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);

//----- (00410C9C) --------------------------------------------------------
void __cdecl sub_410C9C(int a1, char a2)
{
  sub_410C44((_DWORD *)(a1 - 4), a2);
}

//----- (00410CA6) --------------------------------------------------------
void __cdecl sub_410CA6(int a1, ipstream *a2)
{
  sub_40D6F4(a1 - 4, a2);
}

//----- (00410CB0) --------------------------------------------------------
void __cdecl sub_410CB0(int a1, char a2)
{
  sub_40F471((_DWORD *)(a1 - 4), a2);
}

//----- (00410CBA) --------------------------------------------------------
bool __cdecl sub_410CBA(int a1)
{
  return *(_DWORD *)(a1 + 16) && (*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)(a1 + 20) + 4))(a1 + 20);
}

//----- (00410D26) --------------------------------------------------------
bool __cdecl sub_410D26(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 6) != 0;
}

//----- (00410D7D) --------------------------------------------------------
char sub_410D7D()
{
  return 1;
}

//----- (00410D84) --------------------------------------------------------
bool __cdecl sub_410D84(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 6) != 0;
}

//----- (00410D9B) --------------------------------------------------------
string *__cdecl sub_410D9B(string *a1, int a2)
{
  __InitExceptBlockLDTC();
  string::string(a1, (const string *)(a2 + 4));
  return a1;
}

//----- (00410E20) --------------------------------------------------------
char sub_410E20()
{
  return 1;
}

//----- (00410E27) --------------------------------------------------------
void __cdecl sub_410E27(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 5), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (00410E9D) --------------------------------------------------------
void __cdecl sub_410E9D(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 5), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (00410F0B) --------------------------------------------------------
void __cdecl sub_410F0B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 5), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00410F81) --------------------------------------------------------
void __cdecl sub_410F81(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 5), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00410FEF) --------------------------------------------------------
void __cdecl sub_410FEF(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00411130) --------------------------------------------------------
void __cdecl sub_411130(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 5), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (00411195) --------------------------------------------------------
void __cdecl sub_411195(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 5), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (0041121A) --------------------------------------------------------
void __cdecl sub_41121A(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00411325) --------------------------------------------------------
void __cdecl sub_411325(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (0041142C) --------------------------------------------------------
void __cdecl sub_41142C(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (0041153F) --------------------------------------------------------
void __cdecl sub_41153F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00411656) --------------------------------------------------------
void __cdecl sub_411656(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00411789) --------------------------------------------------------
void __cdecl sub_411789(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (004118B0) --------------------------------------------------------
void __cdecl sub_4118B0(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (004119C7) --------------------------------------------------------
void __cdecl sub_4119C7(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00411AE6) --------------------------------------------------------
void __cdecl sub_411AE6(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);

//----- (00411B65) --------------------------------------------------------
void __cdecl sub_411B65(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (00411BE4) --------------------------------------------------------
_DWORD *__cdecl sub_411BE4(_DWORD *a1, int a2, int a3, int a4)
{
  void *v4; // eax
  int v5; // eax

  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_44181C;
  a1[1] = off_441848;
  a1[2] = 0;
  *(_DWORD *)((char *)a1 + 13) = off_4400E4;
  v4 = (void *)operator new[](0x18u);
  if ( v4 )
    v5 = _vector_new_ldtc_(v4, 0x14u, 1u, 0x211u, sub_40F53C, 1u, sub_40F5DA);
  else
    v5 = 0;
  *(_DWORD *)((char *)a1 + 17) = v5;
  *(_DWORD *)((char *)a1 + 21) = 1;
  *(_DWORD *)((char *)a1 + 13) = off_440100;
  *(_DWORD *)((char *)a1 + 13) = off_44011C;
  *(_DWORD *)((char *)a1 + 25) = 0;
  *(_DWORD *)((char *)a1 + 29) = 1;
  *(_DWORD *)((char *)a1 + 33) = &off_4402D4;
  *(_DWORD *)((char *)a1 + 37) = &off_4402C0;
  *(_DWORD *)((char *)a1 + 33) = &off_4402E8;
  *(_DWORD *)((char *)a1 + 37) = &off_4402F8;
  *(_DWORD *)((char *)a1 + 41) = &off_4400A0;
  *(_DWORD *)((char *)a1 + 33) = off_4400C0;
  *(_DWORD *)((char *)a1 + 37) = off_4400D0;
  sub_411E5C((int)a1);
  (*(void (__cdecl **)(_DWORD *, int, int, int))(*a1 + 28))(a1, a2, a3, a4);
  return a1;
}
// 4400A0: using guessed type int (__cdecl *off_4400A0)(void *, char);
// 4400C0: using guessed type int (__cdecl *off_4400C0[2])(int);
// 4400D0: using guessed type int (__cdecl *off_4400D0[2])(int);
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);
// 440100: using guessed type int (__cdecl *off_440100[2])(int);
// 44011C: using guessed type int (__cdecl *off_44011C[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44181C: using guessed type int (__cdecl *off_44181C)(void *, char);
// 441848: using guessed type int (__cdecl *off_441848[2])(int);

//----- (00411D4D) --------------------------------------------------------
void __cdecl sub_411D4D(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)a1 = &off_44181C;
    *((_DWORD *)a1 + 1) = off_441848;
    (*(void (__cdecl **)(char *))(*(_DWORD *)a1 + 12))(a1);
    *(_DWORD *)(a1 + 41) = &off_4400A0;
    *(_DWORD *)(a1 + 33) = off_4400C0;
    *(_DWORD *)(a1 + 37) = off_4400D0;
    (*(void (__cdecl **)(char *))(*(_DWORD *)(a1 + 41) + 12))(a1 + 8);
    *(_DWORD *)(a1 + 13) = off_4400E4;
    _vector_delete_ldtc_(*(void **)(a1 + 17), 0x14u, 0, 0x19u, sub_40F5DA);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4400A0: using guessed type int (__cdecl *off_4400A0)(void *, char);
// 4400C0: using guessed type int (__cdecl *off_4400C0[2])(int);
// 4400D0: using guessed type int (__cdecl *off_4400D0[2])(int);
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);
// 44181C: using guessed type int (__cdecl *off_44181C)(void *, char);
// 441848: using guessed type int (__cdecl *off_441848[2])(int);

//----- (00411E5C) --------------------------------------------------------
int __cdecl sub_411E5C(int a1)
{
  *(_DWORD *)(a1 + 45) = 100;
  *(_DWORD *)(a1 + 53) = 0;
  *(_DWORD *)(a1 + 57) = 0;
  *(_DWORD *)(a1 + 49) = 0;
  return a1;
}

//----- (00411E7A) --------------------------------------------------------
int __cdecl sub_411E7A(int a1)
{
  (*(void (__cdecl **)(int))(*(_DWORD *)(a1 + 41) + 12))(a1 + 8);
  operator delete[](*(void **)(a1 + 57));
  return sub_411E5C(a1);
}

//----- (00411E9F) --------------------------------------------------------
int __cdecl sub_411E9F(int a1, int a2)
{
  if ( a1 != a2 )
  {
    (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 12))(a1);
    *(_DWORD *)(a1 + 49) = *(_DWORD *)(a2 + 49);
    (*(void (__cdecl **)(int, int))(*(_DWORD *)(a1 + 41) + 4))(a1 + 8, a2 + 8);
    *(_DWORD *)(a1 + 45) = *(_DWORD *)(a2 + 45);
    (*(void (__cdecl **)(int, _DWORD, _DWORD))(*(_DWORD *)a1 + 16))(a1, *(_DWORD *)(a2 + 57), *(_DWORD *)(a2 + 53));
  }
  return a1;
}

//----- (00411F15) --------------------------------------------------------
int *__cdecl sub_411F15(int a1, int a2)
{
  int *result; // eax
  int v3; // eax
  unsigned int v4; // [esp+10h] [ebp-48h]
  unsigned int v5; // [esp+18h] [ebp-40h]
  _DWORD *v6; // [esp+1Ch] [ebp-3Ch]
  int v7; // [esp+20h] [ebp-38h]
  _DWORD v8[4]; // [esp+24h] [ebp-34h] BYREF
  __int16 v9; // [esp+34h] [ebp-24h]
  int v10; // [esp+40h] [ebp-18h]
  _BYTE v11[4]; // [esp+48h] [ebp-10h] BYREF
  _BYTE v12[4]; // [esp+4Ch] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  operator delete[](*(void **)(a1 + 57));
  result = (int *)(*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 4))(a2 + 4);
  if ( (unsigned int)result <= 1 )
  {
    *(_DWORD *)(a1 + 53) = 0;
    *(_DWORD *)(a1 + 57) = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 53) = result;
    *(_DWORD *)(a1 + 57) = _vector_new_ldtc_(0, 8u, (unsigned int)result, 1u, sub_413FC9, 0, 0);
    v7 = 0;
    v4 = 0;
    v5 = (**(int (__cdecl ***)(int))(a2 + 5))(a2 + 4);
    while ( v4 < v5 )
    {
      if ( !*(_DWORD *)(a2 + 13) || !*(_DWORD *)(a2 + 9) || v4 >= *(_DWORD *)(a2 + 13) )
      {
        xerror::MakeString((xerror *)v12, aPrecondition_25, aLim0Data0Index_7, aCBc5IncludeCla_15, 0xC7u);
        ++v10;
        xmsg::xmsg((xmsg *)v11, (const string *)v12);
        ++v10;
        v9 = 24;
        --v10;
        string::~string((string *)v12);
        v10 += 2;
        v10 += 3;
        _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
      }
      v6 = (_DWORD *)(*(_DWORD *)(a2 + 9) + 8 * v4++);
      v3 = *(_DWORD *)(a1 + 57);
      *(_DWORD *)(v3 + 8 * v7) = *v6;
      *(_DWORD *)(v3 + 8 * v7++ + 4) = v6[1];
    }
    return sub_412168((_DWORD *)a1);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004120F3) --------------------------------------------------------
int *__cdecl sub_4120F3(int a1, int a2, unsigned int a3)
{
  unsigned int i; // eax
  int v4; // edx

  operator delete[](*(void **)(a1 + 57));
  if ( a2 && a3 > 1 )
  {
    *(_DWORD *)(a1 + 53) = a3;
    *(_DWORD *)(a1 + 57) = _vector_new_ldtc_(0, 8u, a3, 1u, sub_413FC9, 0, 0);
    for ( i = 0; i < a3; ++i )
    {
      v4 = *(_DWORD *)(a1 + 57);
      *(_DWORD *)(v4 + 8 * i) = *(_DWORD *)(a2 + 8 * i);
      *(_DWORD *)(v4 + 8 * i + 4) = *(_DWORD *)(a2 + 8 * i + 4);
    }
    return sub_412168((_DWORD *)a1);
  }
  else
  {
    *(_DWORD *)(a1 + 53) = 0;
    *(_DWORD *)(a1 + 57) = 0;
    return 0;
  }
}
// 412135: conditional instruction was optimized away because esi.4>=2u

//----- (00412168) --------------------------------------------------------
int *__cdecl sub_412168(_DWORD *a1)
{
  int *result; // eax
  int *v2; // edx
  int *v3; // ecx
  int v4; // ebx
  int *v5; // edx
  int v6; // ecx

  result = a1;
  if ( *(_DWORD *)((char *)a1 + 53) == 2 )
  {
    if ( **(_DWORD **)((char *)a1 + 57) > *(_DWORD *)(*(_DWORD *)((char *)a1 + 57) + 8) )
    {
      v2 = (int *)(*(_DWORD *)((char *)a1 + 57) + 8);
      v3 = *(int **)((char *)a1 + 57);
      v4 = *v3;
      *v3 = *v2;
      *v2 = v4;
    }
    if ( *(_DWORD *)(*(_DWORD *)((char *)a1 + 57) + 4) > *(_DWORD *)(*(_DWORD *)((char *)a1 + 57) + 12) )
    {
      v5 = (int *)(*(_DWORD *)((char *)a1 + 57) + 12);
      result = (int *)(*(_DWORD *)((char *)a1 + 57) + 4);
      v6 = *result;
      *result = *v5;
      *v5 = v6;
    }
  }
  return result;
}

//----- (004121BA) --------------------------------------------------------
char __cdecl sub_4121BA(int a1, int *a2, int a3, int a4, double a5)
{
  int v6; // [esp+Ch] [ebp-34h] BYREF
  int v7; // [esp+10h] [ebp-30h]
  __int16 v8; // [esp+24h] [ebp-1Ch]
  int v9; // [esp+30h] [ebp-10h]
  HRGN v10[2]; // [esp+38h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  if ( (*(_BYTE *)(a1 + 49) & 4) != 0 )
    return 0;
  v6 = *a2;
  v7 = a2[1];
  if ( (*(_BYTE *)(a1 + 49) & 1) != 0 )
  {
    a3 = 0;
    a4 = 0;
  }
  if ( (*(_BYTE *)(a1 + 49) & 2) != 0 )
    a5 = 1.0;
  sub_40501D(&v6, a5, &a3);
  if ( *(_DWORD *)(a1 + 53) <= 2u )
  {
    if ( *(_DWORD *)(a1 + 53) != 2 )
      return 1;
    if ( **(_DWORD **)(a1 + 57) <= v6
      && *(_DWORD *)(*(_DWORD *)(a1 + 57) + 8) >= v6
      && *(_DWORD *)(*(_DWORD *)(a1 + 57) + 4) <= v7
      && *(_DWORD *)(*(_DWORD *)(a1 + 57) + 12) >= v7 )
    {
      return 1;
    }
  }
  else
  {
    v8 = 8;
    TRegion::TRegion(v10, *(_DWORD *)(a1 + 57), *(_DWORD *)(a1 + 53), 2);
    ++v9;
    v8 = 20;
    if ( PtInRegion(v10[0], v6, v7) )
    {
      --v9;
      TRegion::~TRegion((TRegion *)v10);
      return 1;
    }
    --v9;
    TRegion::~TRegion((TRegion *)v10);
  }
  return 0;
}
// 439696: using guessed type int __cdecl TRegion::TRegion(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00412324) --------------------------------------------------------
void __cdecl sub_412324(_DWORD *a1, char *a2, int a3, char *a4)
{
  char *v4; // edi
  char *v5; // edi
  char *v6; // edi
  int v7; // ecx
  unsigned int v8; // eax
  char *v9; // edi
  char *v10; // edi
  char *v11; // edi
  char *v12; // edi
  char *v13; // edi
  int v14; // ecx
  unsigned int v15; // eax
  int Int; // edi
  size_t v17; // eax
  _DWORD *v18; // edi
  _DWORD *v19; // edi
  int v20; // [esp+Ch] [ebp-334h] BYREF
  int v21; // [esp+10h] [ebp-330h] BYREF
  int v22; // [esp+14h] [ebp-32Ch] BYREF
  int v23; // [esp+18h] [ebp-328h] BYREF
  char s1[256]; // [esp+1Ch] [ebp-324h] BYREF
  CHAR v25[256]; // [esp+11Ch] [ebp-224h] BYREF
  char *v26; // [esp+21Ch] [ebp-124h]
  char *v27; // [esp+220h] [ebp-120h]
  int v28; // [esp+224h] [ebp-11Ch]
  int v29; // [esp+228h] [ebp-118h]
  char *v30; // [esp+22Ch] [ebp-114h]
  char *v31; // [esp+230h] [ebp-110h]
  char *v32; // [esp+234h] [ebp-10Ch]
  int v33; // [esp+238h] [ebp-108h]
  char *v34; // [esp+23Ch] [ebp-104h]
  char *v35; // [esp+240h] [ebp-100h]
  int v36; // [esp+244h] [ebp-FCh]
  int v37; // [esp+248h] [ebp-F8h]
  char *s; // [esp+24Ch] [ebp-F4h]
  unsigned int i; // [esp+250h] [ebp-F0h]
  _BYTE v40[16]; // [esp+254h] [ebp-ECh] BYREF
  __int16 v41; // [esp+264h] [ebp-DCh]
  int v42; // [esp+270h] [ebp-D0h]
  int (__cdecl **v43)(void *, char); // [esp+278h] [ebp-C8h] BYREF
  int (__cdecl **v44)(int); // [esp+27Ch] [ebp-C4h]
  _BYTE v45[4]; // [esp+284h] [ebp-BCh] BYREF
  int v46; // [esp+288h] [ebp-B8h]
  _DWORD v47[3]; // [esp+28Ch] [ebp-B4h] BYREF
  _BYTE v48[4]; // [esp+298h] [ebp-A8h] BYREF
  int (__cdecl **v49)(void *, char); // [esp+29Ch] [ebp-A4h] BYREF
  int (__cdecl **v50)(int); // [esp+2A0h] [ebp-A0h]
  _BYTE v51[4]; // [esp+2A8h] [ebp-98h] BYREF
  int v52; // [esp+2ACh] [ebp-94h]
  int v53[3]; // [esp+2B0h] [ebp-90h] BYREF
  _BYTE v54[4]; // [esp+2BCh] [ebp-84h] BYREF
  _BYTE v55[4]; // [esp+2C0h] [ebp-80h] BYREF
  int (__cdecl **v56)(void *, char); // [esp+2C4h] [ebp-7Ch] BYREF
  int (__cdecl **v57)(int); // [esp+2C8h] [ebp-78h]
  _BYTE v58[4]; // [esp+2D0h] [ebp-70h] BYREF
  int v59; // [esp+2D4h] [ebp-6Ch]
  int v60[3]; // [esp+2D8h] [ebp-68h] BYREF
  _BYTE v61[4]; // [esp+2E4h] [ebp-5Ch] BYREF
  _BYTE v62[4]; // [esp+2E8h] [ebp-58h] BYREF
  _BYTE v63[4]; // [esp+2ECh] [ebp-54h] BYREF
  _BYTE v64[4]; // [esp+2F0h] [ebp-50h] BYREF
  _BYTE v65[4]; // [esp+2F4h] [ebp-4Ch] BYREF
  _BYTE v66[4]; // [esp+2F8h] [ebp-48h] BYREF
  _BYTE v67[4]; // [esp+2FCh] [ebp-44h] BYREF
  _BYTE v68[4]; // [esp+300h] [ebp-40h] BYREF
  _BYTE v69[4]; // [esp+304h] [ebp-3Ch] BYREF
  _BYTE v70[4]; // [esp+308h] [ebp-38h] BYREF
  _BYTE v71[4]; // [esp+30Ch] [ebp-34h] BYREF
  _BYTE v72[4]; // [esp+310h] [ebp-30h] BYREF
  int v73; // [esp+314h] [ebp-2Ch] BYREF
  _BYTE v74[4]; // [esp+318h] [ebp-28h] BYREF
  _BYTE v75[4]; // [esp+31Ch] [ebp-24h] BYREF
  _BYTE v76[4]; // [esp+320h] [ebp-20h] BYREF
  _BYTE v77[4]; // [esp+324h] [ebp-1Ch] BYREF
  _BYTE v78[4]; // [esp+328h] [ebp-18h] BYREF
  _BYTE v79[4]; // [esp+32Ch] [ebp-14h] BYREF
  _BYTE v80[4]; // [esp+330h] [ebp-10h] BYREF
  _BYTE v81[4]; // [esp+334h] [ebp-Ch] BYREF
  _BYTE v82[8]; // [esp+338h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  (*(void (__cdecl **)(_DWORD *))(*a1 + 12))(a1);
  v41 = 8;
  TProfile::TProfile((TProfile *)v82, a2, a4);
  ++v42;
  v41 = 20;
  *(_DWORD *)((char *)a1 + 45) = -1;
  wsprintfA(v25, "HSCUR_%u", a3);
  if ( (unsigned __int8)TProfile::GetString((TProfile *)v82, v25, s1, 0x100u, &byte_4412F5) )
    *(_DWORD *)((char *)a1 + 45) = sub_403A55((int)&dword_440460, s1, 0);
  if ( *(int *)((char *)a1 + 45) >= 0 )
    *(_DWORD *)((char *)a1 + 45) += 100;
  else
    *(_DWORD *)((char *)a1 + 45) = 100;
  wsprintfA(v25, "HSRGN_%u", a3);
  TProfile::GetString((TProfile *)v82, v25, s1, 0x100u, &byte_4412FF);
  if ( s1[0] )
  {
    v4 = strtok(s1, asc_441300);
    if ( !v4 )
    {
      v41 = 32;
      xerror::MakeString((xerror *)v81, aCheck, aPtrNull, aHotspotCpp, 0xD1u);
      ++v42;
      xmsg::xmsg((xmsg *)v80, (const string *)v81);
      ++v42;
      v41 = 44;
      --v42;
      string::~string((string *)v81);
      v41 = 32;
      v42 += 2;
      v42 += 3;
      _ThrowExceptionLDTC(stru_4068BF, v80, 0, sub_40690F, 1u, 0, 0, 0, v40);
    }
    s = v4;
    *(_DWORD *)((char *)a1 + 53) = atol(v4);
    if ( *(_DWORD *)((char *)a1 + 53) <= 1u )
    {
      *(_DWORD *)((char *)a1 + 53) = 0;
    }
    else
    {
      if ( *(_DWORD *)((char *)a1 + 57) )
      {
        v41 = 56;
        xerror::MakeString((xerror *)v79, aCheck_0, aPointsNull, aHotspotCpp_0, 0xD4u);
        ++v42;
        xmsg::xmsg((xmsg *)v78, (const string *)v79);
        ++v42;
        v41 = 68;
        --v42;
        string::~string((string *)v79);
        v41 = 56;
        v42 += 2;
        v42 += 3;
        _ThrowExceptionLDTC(stru_4068BF, v78, 0, sub_40690F, 1u, 0, 0, 0, v40);
      }
      *(_DWORD *)((char *)a1 + 57) = _vector_new_ldtc_(0, 8u, *(_DWORD *)((char *)a1 + 53), 1u, sub_413FC9, 0, 0);
      v41 = 20;
      for ( i = 0; i < *(_DWORD *)((char *)a1 + 53); ++i )
      {
        v5 = strtok(0, asc_441341);
        if ( !v5 )
        {
          v41 = 80;
          xerror::MakeString((xerror *)v77, aCheck_1, aPtrNull_0, aHotspotCpp_1, 0xD9u);
          ++v42;
          xmsg::xmsg((xmsg *)v76, (const string *)v77);
          ++v42;
          v41 = 92;
          --v42;
          string::~string((string *)v77);
          v41 = 80;
          v42 += 2;
          v42 += 3;
          _ThrowExceptionLDTC(stru_4068BF, v76, 0, sub_40690F, 1u, 0, 0, 0, v40);
        }
        v35 = v5;
        v36 = atol(v5);
        v6 = strtok(0, asc_441361);
        if ( !v6 )
        {
          v41 = 104;
          xerror::MakeString((xerror *)v75, aCheck_2, aPtrNull_1, aHotspotCpp_2, 0xDCu);
          ++v42;
          xmsg::xmsg((xmsg *)v74, (const string *)v75);
          ++v42;
          v41 = 116;
          --v42;
          string::~string((string *)v75);
          v41 = 104;
          v42 += 2;
          v42 += 3;
          _ThrowExceptionLDTC(stru_4068BF, v74, 0, sub_40690F, 1u, 0, 0, 0, v40);
        }
        v34 = v6;
        v37 = atol(v6);
        v7 = *(_DWORD *)((char *)a1 + 57);
        v8 = i;
        *(_DWORD *)(v7 + 8 * i) = v36;
        *(_DWORD *)(v7 + 8 * v8 + 4) = v37;
      }
      sub_412168(a1);
    }
  }
  wsprintfA(v25, "HSCMD_%u", a3);
  sub_40E6FC(a1 + 2, a2, v25, a4);
  wsprintfA(v25, "HOTSPOT_%u", a3);
  v33 = -1;
  v41 = 20;
  if ( (unsigned __int8)TProfile::GetString((TProfile *)v82, v25, s1, 0x100u, &byte_441395) )
  {
    v9 = strtok(s1, asc_441396);
    if ( !v9 )
    {
      v41 = 128;
      xerror::MakeString((xerror *)v72, aCheck_3, aPtrNull_2, aHotspotCpp_3, 0xEEu);
      ++v42;
      xmsg::xmsg((xmsg *)v71, (const string *)v72);
      ++v42;
      v41 = 140;
      --v42;
      string::~string((string *)v72);
      v41 = 128;
      v42 += 2;
      v42 += 3;
      _ThrowExceptionLDTC(stru_4068BF, v71, 0, sub_40690F, 1u, 0, 0, 0, v40);
    }
    v32 = v9;
    v33 = atol(v9);
    v10 = strtok(0, asc_4413B6);
    if ( !v10 )
    {
      v41 = 152;
      xerror::MakeString((xerror *)v70, aCheck_4, aPtrNull_3, aHotspotCpp_4, 0xF1u);
      ++v42;
      xmsg::xmsg((xmsg *)v69, (const string *)v70);
      ++v42;
      v41 = 164;
      --v42;
      string::~string((string *)v70);
      v41 = 152;
      v42 += 2;
      v42 += 3;
      _ThrowExceptionLDTC(stru_4068BF, v69, 0, sub_40690F, 1u, 0, 0, 0, v40);
    }
    v31 = v10;
    *(_DWORD *)((char *)a1 + 45) = atol(v10) + 100;
    v11 = strtok(0, asc_4413D6);
    if ( !v11 )
    {
      v41 = 176;
      xerror::MakeString((xerror *)v68, aCheck_5, aPtrNull_4, aHotspotCpp_5, 0xF4u);
      ++v42;
      xmsg::xmsg((xmsg *)v67, (const string *)v68);
      ++v42;
      v41 = 188;
      --v42;
      string::~string((string *)v68);
      v41 = 176;
      v42 += 2;
      v42 += 3;
      _ThrowExceptionLDTC(stru_4068BF, v67, 0, sub_40690F, 1u, 0, 0, 0, v40);
    }
    v30 = v11;
    *(_DWORD *)((char *)a1 + 53) = atol(v11);
    if ( *(_DWORD *)((char *)a1 + 53) )
    {
      if ( *(_DWORD *)((char *)a1 + 53) <= 1u )
      {
        *(_DWORD *)((char *)a1 + 53) = 0;
      }
      else
      {
        *(_DWORD *)((char *)a1 + 57) = _vector_new_ldtc_(0, 8u, *(_DWORD *)((char *)a1 + 53), 1u, sub_413FC9, 0, 0);
        v41 = 20;
        for ( i = 0; i < *(_DWORD *)((char *)a1 + 53); ++i )
        {
          v12 = strtok(0, asc_4413F6);
          if ( !v12 )
          {
            v41 = 200;
            xerror::MakeString((xerror *)v66, aCheck_6, aPtrNull_5, aHotspotCpp_6, 0xFCu);
            ++v42;
            xmsg::xmsg((xmsg *)v65, (const string *)v66);
            ++v42;
            v41 = 212;
            --v42;
            string::~string((string *)v66);
            v41 = 200;
            v42 += 2;
            v42 += 3;
            _ThrowExceptionLDTC(stru_4068BF, v65, 0, sub_40690F, 1u, 0, 0, 0, v40);
          }
          v27 = v12;
          v28 = atol(v12);
          v13 = strtok(0, asc_441416);
          if ( !v13 )
          {
            v41 = 224;
            xerror::MakeString((xerror *)v64, aCheck_7, aPtrNull_6, aHotspotCpp_7, 0xFFu);
            ++v42;
            xmsg::xmsg((xmsg *)v63, (const string *)v64);
            ++v42;
            v41 = 236;
            --v42;
            string::~string((string *)v64);
            v41 = 224;
            v42 += 2;
            v42 += 3;
            _ThrowExceptionLDTC(stru_4068BF, v63, 0, sub_40690F, 1u, 0, 0, 0, v40);
          }
          v26 = v13;
          v29 = atol(v13);
          v14 = *(_DWORD *)((char *)a1 + 57);
          v15 = i;
          *(_DWORD *)(v14 + 8 * i) = v28;
          *(_DWORD *)(v14 + 8 * v15 + 4) = v29;
        }
        sub_412168(a1);
      }
    }
  }
  v41 = 248;
  string::string((string *)&v73);
  ++v42;
  v41 = 260;
  wsprintfA(v25, "HSVIDEO_%u", a3);
  if ( (unsigned __int8)TProfile::GetString((TProfile *)v82, v25, s1, 0x100u, &byte_441441) )
  {
    v41 = 272;
    string::string((string *)v62, s1);
    ++v42;
    string::assign((string *)&v73, (const string *)v62, 0, 0xFFFFFFFF);
    --v42;
    string::~string((string *)v62);
    wsprintfA(v25, "HSVIDEOFLAGS_%u", a3);
    Int = TProfile::GetInt((TProfile *)v82, v25, 0);
    v41 = 260;
    v20 = 0;
    v21 = 0;
    v22 = 0;
    v23 = 0;
    wsprintfA(v25, "HSVIDEORECT_%u", a3);
    if ( (unsigned __int8)TProfile::GetString((TProfile *)v82, v25, s1, 0x100u, a0000) )
    {
      sscanf(s1, "%i,%i,%i,%i", &v20, &v21, &v22, &v23);
      TRect::Normalize((TRect *)&v20);
    }
    wsprintfA(s1, " %u %i %i %i %i", Int, v20, v21, v22, v23);
    v17 = strlen(s1);
    string::append((string *)&v73, s1, 0, v17);
  }
  if ( *(_DWORD *)(v73 + 6) )
  {
    v41 = 284;
    v18 = sub_40B4FE(v60, 9, (string *)&v73);
    v42 += 5;
    ++v42;
    ++v42;
    v42 += 3;
    v56 = &off_44030C;
    v57 = off_440324;
    string::string((string *)v58);
    ++v42;
    sub_40B61D((int)&v56);
    sub_40B686((int)&v56, (int)v18);
    v42 += 5;
    v56 = &off_44013C;
    v57 = off_440158;
    v59 = 1;
    v42 += 6;
    sub_40F91A((int)(a1 + 3), (int)&v56);
    v42 -= 6;
    v42 -= 5;
    --v42;
    string::~string((string *)v58);
    v42 -= 3;
    --v42;
    --v42;
    v42 -= 5;
    --v42;
    string::~string((string *)v61);
    v42 -= 3;
    --v42;
    --v42;
  }
  if ( v33 <= 0 )
  {
    if ( !v33 )
    {
      v41 = 308;
      ++v42;
      ++v42;
      v42 += 3;
      v47[0] = &off_44030C;
      v47[1] = off_440324;
      v47[2] = 0;
      string::string((string *)v48, &byte_441488);
      ++v42;
      v42 += 5;
      ++v42;
      ++v42;
      v42 += 3;
      v43 = &off_44030C;
      v44 = off_440324;
      string::string((string *)v45);
      ++v42;
      sub_40B61D((int)&v43);
      sub_40B686((int)&v43, (int)v47);
      v42 += 5;
      v43 = &off_44013C;
      v44 = off_440158;
      v46 = 1;
      v42 += 6;
      sub_40F91A((int)(a1 + 3), (int)&v43);
      v42 -= 6;
      v42 -= 5;
      --v42;
      string::~string((string *)v45);
      v42 -= 3;
      --v42;
      --v42;
      v42 -= 5;
      --v42;
      string::~string((string *)v48);
      v42 -= 3;
      --v42;
      --v42;
    }
  }
  else
  {
    wsprintfA(s1, "%u", v33);
    v41 = 296;
    string::string((string *)v55, s1);
    ++v42;
    v19 = sub_40B4FE(v53, 6, (string *)v55);
    v42 += 5;
    ++v42;
    ++v42;
    v42 += 3;
    v49 = &off_44030C;
    v50 = off_440324;
    string::string((string *)v51);
    ++v42;
    sub_40B61D((int)&v49);
    sub_40B686((int)&v49, (int)v19);
    v42 += 5;
    v49 = &off_44013C;
    v50 = off_440158;
    v52 = 1;
    v42 += 6;
    sub_40F91A((int)(a1 + 3), (int)&v49);
    v42 -= 6;
    v42 -= 5;
    --v42;
    string::~string((string *)v51);
    v42 -= 3;
    --v42;
    --v42;
    v42 -= 5;
    --v42;
    string::~string((string *)v54);
    v42 -= 3;
    --v42;
    --v42;
    --v42;
    string::~string((string *)v55);
  }
  --v42;
  string::~string((string *)&v73);
  --v42;
  TProfile::~TProfile((TProfile *)v82);
}
// 4068BF: using guessed type _tpidc stru_4068BF[1];
// 44013C: using guessed type int (__cdecl *off_44013C)(void *, char);
// 440158: using guessed type int (__cdecl *off_440158[2])(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);
// 440460: using guessed type int dword_440460;

//----- (0041318B) --------------------------------------------------------
_DWORD *__cdecl sub_41318B(_DWORD *a1, int a2, int a3)
{
  void *v3; // eax
  int v4; // eax

  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_44181C;
  a1[1] = off_441848;
  a1[2] = 0;
  *(_DWORD *)((char *)a1 + 13) = off_4400E4;
  v3 = (void *)operator new[](0x18u);
  if ( v3 )
    v4 = _vector_new_ldtc_(v3, 0x14u, 1u, 0x211u, sub_40F53C, 1u, sub_40F5DA);
  else
    v4 = 0;
  *(_DWORD *)((char *)a1 + 17) = v4;
  *(_DWORD *)((char *)a1 + 21) = 1;
  *(_DWORD *)((char *)a1 + 13) = off_440100;
  *(_DWORD *)((char *)a1 + 13) = off_44011C;
  *(_DWORD *)((char *)a1 + 25) = 0;
  *(_DWORD *)((char *)a1 + 29) = 1;
  *(_DWORD *)((char *)a1 + 33) = &off_4402D4;
  *(_DWORD *)((char *)a1 + 37) = &off_4402C0;
  *(_DWORD *)((char *)a1 + 33) = &off_4402E8;
  *(_DWORD *)((char *)a1 + 37) = &off_4402F8;
  *(_DWORD *)((char *)a1 + 41) = &off_4400A0;
  *(_DWORD *)((char *)a1 + 33) = off_4400C0;
  *(_DWORD *)((char *)a1 + 37) = off_4400D0;
  sub_411E5C((int)a1);
  (*(void (__cdecl **)(_DWORD *, int, int))(*a1 + 32))(a1, a2, a3);
  return a1;
}
// 4400A0: using guessed type int (__cdecl *off_4400A0)(void *, char);
// 4400C0: using guessed type int (__cdecl *off_4400C0[2])(int);
// 4400D0: using guessed type int (__cdecl *off_4400D0[2])(int);
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);
// 440100: using guessed type int (__cdecl *off_440100[2])(int);
// 44011C: using guessed type int (__cdecl *off_44011C[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44181C: using guessed type int (__cdecl *off_44181C)(void *, char);
// 441848: using guessed type int (__cdecl *off_441848[2])(int);

//----- (004132F1) --------------------------------------------------------
int __cdecl sub_4132F1(_DWORD *a1, ipstream *a2, int a3)
{
  int Word; // eax
  unsigned int i; // esi
  int result; // eax
  void *v6; // [esp+Ch] [ebp-4h]

  (*(void (__cdecl **)(_DWORD *))(*a1 + 12))(a1);
  (*(void (__cdecl **)(_DWORD *, ipstream *, int))(*(_DWORD *)((char *)a1 + 41) + 20))(a1 + 2, a2, a3);
  *(_DWORD *)((char *)a1 + 45) = ipstream::readWord(a2);
  Word = ipstream::readWord(a2);
  if ( Word )
  {
    *(_DWORD *)((char *)a1 + 53) = Word;
    *(_DWORD *)((char *)a1 + 57) = _vector_new_ldtc_(0, 8u, *(_DWORD *)((char *)a1 + 53), 1u, sub_413FC9, 0, 0);
    for ( i = 0; i < *(_DWORD *)((char *)a1 + 53); ++i )
    {
      v6 = (void *)(*(_DWORD *)((char *)a1 + 57) + 8 * i + 4);
      ipstream::readBytes(a2, (void *)(*(_DWORD *)((char *)a1 + 57) + 8 * i), 4u);
      ipstream::readBytes(a2, v6, 4u);
    }
    sub_412168(a1);
  }
  result = a3;
  if ( *(_DWORD *)(a3 + 4) >= 0x2000Cu )
  {
    result = ipstream::readWord(a2);
    *(_DWORD *)((char *)a1 + 49) = result;
  }
  return result;
}

//----- (004134C7) --------------------------------------------------------
void __cdecl sub_4134C7(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 37) = &off_4417A0;
    *(_DWORD *)(a1 + 29) = off_4417C0;
    *(_DWORD *)(a1 + 33) = off_4417D0;
    (*(void (__cdecl **)(char *))(*(_DWORD *)(a1 + 37) + 16))(a1);
    sub_4141B5((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 4417A0: using guessed type int (__cdecl *off_4417A0)(void *, char);
// 4417C0: using guessed type int (__cdecl *off_4417C0[2])(int);
// 4417D0: using guessed type int (__cdecl *off_4417D0[2])(int);

//----- (004135B0) --------------------------------------------------------
int __cdecl sub_4135B0(_DWORD *a1)
{
  int v1; // esi
  int v2; // eax
  int v4; // [esp-4h] [ebp-54h]
  unsigned int v5; // [esp+Ch] [ebp-44h]
  int v6; // [esp+14h] [ebp-3Ch]
  int i; // [esp+20h] [ebp-30h]
  _DWORD v8[4]; // [esp+24h] [ebp-2Ch] BYREF
  __int16 v9; // [esp+34h] [ebp-1Ch]
  int v10; // [esp+40h] [ebp-10h]
  _BYTE v11[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v12[4]; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  for ( i = (*(int (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 37) + 8))(a1);
        (*(int (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 37) + 12))(a1) >= i;
        ++i )
  {
    v1 = i + 1;
    if ( i + 1 >= *a1 )
    {
      v6 = *(_DWORD *)((char *)a1 + 13);
      if ( v6 == -1 )
        v2 = 0x7FFFFFFF;
      else
        v2 = *a1 + v6;
      if ( v1 >= v2 )
        sub_406954((int)(a1 + 1), v1 - *a1, 0);
    }
    else
    {
      sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v1 - *a1, 0);
    }
    v5 = i - *a1;
    if ( *(_DWORD *)((char *)a1 + 13) && (!*(_DWORD *)((char *)a1 + 9) || *(_DWORD *)((char *)a1 + 13) <= v5) )
    {
      xerror::MakeString((xerror *)v12, aPrecondition_26, aLim0Data0Index_8, aCBc5IncludeCla_16, 0x334u);
      ++v10;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v10;
      v9 = 12;
      --v10;
      string::~string((string *)v12);
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    v4 = *(_DWORD *)(4 * v5 + *(_DWORD *)((char *)a1 + 9));
    (*(void (__cdecl **)(int))(*(_DWORD *)v4 + 12))(v4);
  }
  sub_4141B5((int)(a1 + 1), 1, 0xFFFFFFFF, 0);
  *(_DWORD *)((char *)a1 + 17) = 0;
  return 0;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041372F) --------------------------------------------------------
int __cdecl sub_41372F(_DWORD *a1, _DWORD *a2)
{
  int v2; // edx
  int v4; // esi
  int v5; // esi
  int v6; // eax
  _DWORD *v7; // ebx
  int v8; // eax
  _DWORD *v9; // eax
  unsigned int v10; // [esp+10h] [ebp-70h]
  unsigned int v11; // [esp+18h] [ebp-68h]
  int v12; // [esp+28h] [ebp-58h]
  unsigned int v13; // [esp+30h] [ebp-50h]
  int v14; // [esp+3Ch] [ebp-44h]
  _DWORD v15[4]; // [esp+44h] [ebp-3Ch] BYREF
  __int16 v16; // [esp+54h] [ebp-2Ch]
  int v17; // [esp+60h] [ebp-20h]
  void *v18; // [esp+68h] [ebp-18h]
  _DWORD *v19; // [esp+6Ch] [ebp-14h]
  char v20[4]; // [esp+70h] [ebp-10h] BYREF
  char v21[4]; // [esp+74h] [ebp-Ch] BYREF
  char v22[4]; // [esp+78h] [ebp-8h] BYREF
  char v23[4]; // [esp+7Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a2 == a1 )
    return v2;
  v4 = (*(int (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a2 + 5) + 4))(a2 + 1);
  v5 = (*(int (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 5) + 4))(a1 + 1) + v4 + 1;
  if ( v5 >= *a1 )
  {
    v14 = *(_DWORD *)((char *)a1 + 13);
    if ( v14 == -1 )
      v6 = 0x7FFFFFFF;
    else
      v6 = v14 + *a1;
    if ( v5 >= v6 )
      sub_406954((int)(a1 + 1), v5 - *a1, 0);
  }
  else
  {
    sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v5 - *a1, 0);
  }
  v10 = 0;
  v11 = (**(int (__cdecl ***)(int))((char *)a2 + 5))((int)(a2 + 1));
  while ( v10 < v11 )
  {
    v19 = (_DWORD *)operator new(0x3Du);
    if ( v19 )
    {
      v16 = 20;
      if ( v10 >= v11 )
      {
        xerror::MakeString((xerror *)v23, aPrecondition_27, aCurUpper_4, aCBc5IncludeCla_17, 0x3DBu);
        ++v17;
        xmsg::xmsg((xmsg *)v22, (const string *)v23);
        ++v17;
        v16 = 32;
        --v17;
        string::~string((string *)v23);
        v16 = 20;
        v17 += 2;
        v17 += 3;
        _ThrowExceptionLDTC(stru_403B88, v22, 0, sub_403BE0, 1u, 0, 0, 0, v15);
      }
      v13 = v10;
      if ( !*(_DWORD *)((char *)a2 + 13) || !*(_DWORD *)((char *)a2 + 9) || *(_DWORD *)((char *)a2 + 13) <= v10 )
      {
        xerror::MakeString((xerror *)v21, aPrecondition_28, aLim0Data0Index_9, aCBc5IncludeCla_18, 0x33Au);
        ++v17;
        xmsg::xmsg((xmsg *)v20, (const string *)v21);
        ++v17;
        v16 = 44;
        --v17;
        string::~string((string *)v21);
        v16 = 20;
        v17 += 2;
        v17 += 3;
        _ThrowExceptionLDTC(stru_403B88, v20, 0, sub_403BE0, 1u, 0, 0, 0, v15);
      }
      ++v10;
      v12 = *(_DWORD *)(4 * v13 + *(_DWORD *)((char *)a2 + 9));
      *v19 = &off_4402D4;
      ++v17;
      v19[1] = &off_4402C0;
      ++v17;
      *v19 = &off_4402E8;
      v19[1] = &off_4402F8;
      v17 += 3;
      *v19 = &off_44181C;
      v19[1] = off_441848;
      v7 = v19 + 2;
      v19[2] = 0;
      *(_DWORD *)((char *)v7 + 5) = off_4400E4;
      v18 = (void *)operator new[](0x18u);
      if ( v18 )
      {
        v16 = 56;
        v8 = _vector_new_ldtc_(v18, 0x14u, 1u, 0x211u, sub_40F53C, 1u, sub_40F5DA);
        v16 = 20;
      }
      else
      {
        v8 = 0;
      }
      *(_DWORD *)((char *)v7 + 9) = v8;
      *(_DWORD *)((char *)v7 + 13) = 1;
      ++v17;
      *(_DWORD *)((char *)v7 + 5) = off_440100;
      v17 += 2;
      *(_DWORD *)((char *)v7 + 5) = off_44011C;
      *(_DWORD *)((char *)v7 + 17) = 0;
      *(_DWORD *)((char *)v7 + 21) = 1;
      v17 += 3;
      v17 += 4;
      v17 += 5;
      v17 += 6;
      v17 += 7;
      v17 += 8;
      *(_DWORD *)((char *)v7 + 25) = &off_4402D4;
      ++v17;
      *(_DWORD *)((char *)v7 + 29) = &off_4402C0;
      ++v17;
      *(_DWORD *)((char *)v7 + 25) = &off_4402E8;
      *(_DWORD *)((char *)v7 + 29) = &off_4402F8;
      v17 += 3;
      *(_DWORD *)((char *)v7 + 33) = &off_4400A0;
      *(_DWORD *)((char *)v7 + 25) = off_4400C0;
      *(_DWORD *)((char *)v7 + 29) = off_4400D0;
      v17 += 12;
      sub_411E5C((int)v19);
      sub_411E9F((int)v19, v12);
      v16 = 8;
      v9 = v19;
    }
    else
    {
      v9 = 0;
    }
    sub_41405C((int)(a1 + 1), (int)v9);
  }
  return v15[0];
}
// 413756: variable 'v2' is possibly undefined
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4400A0: using guessed type int (__cdecl *off_4400A0)(void *, char);
// 4400C0: using guessed type int (__cdecl *off_4400C0[2])(int);
// 4400D0: using guessed type int (__cdecl *off_4400D0[2])(int);
// 4400E4: using guessed type int (__cdecl *off_4400E4[2])(int);
// 440100: using guessed type int (__cdecl *off_440100[2])(int);
// 44011C: using guessed type int (__cdecl *off_44011C[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44181C: using guessed type int (__cdecl *off_44181C)(void *, char);
// 441848: using guessed type int (__cdecl *off_441848[2])(int);

//----- (00413AEF) --------------------------------------------------------
_DWORD *__cdecl sub_413AEF(_DWORD *a1, _DWORD *a2, char a3)
{
  if ( a1 == a2 )
    return a1;
  if ( a3 )
    (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 37) + 16))(a1);
  sub_41372F(a1, a2);
  return a1;
}

//----- (00413B20) --------------------------------------------------------
int __cdecl sub_413B20(int *a1, int a2, _DWORD *a3, int a4, int a5, int *a6)
{
  int v6; // esi
  unsigned int v8; // [esp+1Ch] [ebp-3Ch]
  int i; // [esp+20h] [ebp-38h]
  _DWORD v10[4]; // [esp+24h] [ebp-34h] BYREF
  __int16 v11; // [esp+34h] [ebp-24h]
  int v12; // [esp+40h] [ebp-18h]
  _BYTE v13[4]; // [esp+48h] [ebp-10h] BYREF
  _BYTE v14[4]; // [esp+4Ch] [ebp-Ch] BYREF
  _BYTE v15[4]; // [esp+50h] [ebp-8h] BYREF
  _BYTE v16[4]; // [esp+54h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  for ( i = (*(int (__cdecl **)(int *))(*(int *)((char *)a1 + 37) + 8))(a1); ; ++i )
  {
    if ( (*(int (__cdecl **)(int *))(*(int *)((char *)a1 + 37) + 12))(a1) < i )
    {
      if ( a6 )
        *a6 = 0x7FFFFFFF;
      return 0;
    }
    if ( i < *a1 || i - *a1 >= *(unsigned int *)((char *)a1 + 13) )
    {
      xerror::MakeString((xerror *)v16, aPrecondition_29, aLocLowerboundZ_2, aCBc5IncludeCla_19, 0x15Eu);
      ++v12;
      xmsg::xmsg((xmsg *)v15, (const string *)v16);
      ++v12;
      v11 = 12;
      --v12;
      string::~string((string *)v16);
      v12 += 2;
      v12 += 3;
      _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v10);
    }
    v8 = i - *a1;
    if ( !*(int *)((char *)a1 + 13) || !*(int *)((char *)a1 + 9) || v8 >= *(int *)((char *)a1 + 13) )
    {
      xerror::MakeString((xerror *)v14, aPrecondition_30, aLim0Data0Index_10, aCBc5IncludeCla_20, 0x33Au);
      ++v12;
      xmsg::xmsg((xmsg *)v13, (const string *)v14);
      ++v12;
      v11 = 24;
      --v12;
      string::~string((string *)v14);
      v12 += 2;
      v12 += 3;
      _ThrowExceptionLDTC(stru_403B88, v13, 0, sub_403BE0, 1u, 0, 0, 0, v10);
    }
    v6 = *(_DWORD *)(*(int *)((char *)a1 + 9) + 4 * v8);
    if ( (*(unsigned __int8 (__cdecl **)(int, int, _DWORD, _DWORD, int, int))(*(_DWORD *)v6 + 24))(
           v6,
           a2,
           *a3,
           a3[1],
           a4,
           a5) )
    {
      break;
    }
  }
  if ( a6 )
    *a6 = i;
  return v6;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00413CE9) --------------------------------------------------------
void __cdecl sub_413CE9(_DWORD *a1, char *a2, char *a3, char a4)
{
  unsigned int Int; // edi
  int v5; // ebx
  int v6; // ecx
  unsigned int i; // ebx
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // [esp+10h] [ebp-38h]
  _DWORD *v11; // [esp+3Ch] [ebp-Ch]
  _BYTE v12[8]; // [esp+40h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  if ( a4 )
    (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 37) + 16))(a1);
  TProfile::TProfile((TProfile *)v12, a2, a3);
  Int = TProfile::GetInt((TProfile *)v12, aHsnum, 0);
  if ( !Int )
    Int = TProfile::GetInt((TProfile *)v12, aNhotspot, 0);
  v5 = Int + 1;
  if ( (signed int)(Int + 1) >= *a1 )
  {
    v10 = *(_DWORD *)((char *)a1 + 13);
    if ( v10 == -1 )
      v6 = 0x7FFFFFFF;
    else
      v6 = *a1 + v10;
    if ( v5 >= v6 )
      sub_406954((int)(a1 + 1), v5 - *a1, 0);
  }
  else
  {
    sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v5 - *a1, 0);
  }
  for ( i = 1; Int >= i; ++i )
  {
    v8 = (_DWORD *)operator new(0x3Du);
    v11 = v8;
    if ( v8 )
    {
      sub_411BE4(v8, (int)a2, i, (int)a3);
      v9 = (int)v11;
    }
    else
    {
      v9 = 0;
    }
    sub_41405C((int)(a1 + 1), v9);
  }
  TProfile::~TProfile((TProfile *)v12);
}

//----- (00413E21) --------------------------------------------------------
unsigned int __cdecl sub_413E21(_DWORD *a1, ipstream *a2, int a3)
{
  unsigned int result; // eax
  unsigned int v4; // edi
  int v5; // esi
  int v6; // ecx
  unsigned int i; // esi
  _DWORD *v8; // eax
  int v9; // eax
  int v10; // [esp+10h] [ebp-30h]
  _DWORD *v11; // [esp+3Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 37) + 16))(a1);
  result = ipstream::readWord(a2);
  v4 = result;
  v5 = result + 1;
  if ( (signed int)(result + 1) >= *a1 )
  {
    v10 = *(_DWORD *)((char *)a1 + 13);
    if ( v10 == -1 )
      v6 = 0x7FFFFFFF;
    else
      v6 = *a1 + v10;
    if ( v5 >= v6 )
      result = sub_406954((int)(a1 + 1), v5 - *a1, 0);
  }
  else
  {
    result = sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v5 - *a1, 0);
  }
  for ( i = 0; v4 > i; ++i )
  {
    v8 = (_DWORD *)operator new(0x3Du);
    v11 = v8;
    if ( v8 )
    {
      sub_41318B(v8, (int)a2, a3);
      v9 = (int)v11;
    }
    else
    {
      v9 = 0;
    }
    result = sub_41405C((int)(a1 + 1), v9);
  }
  return result;
}

//----- (00413EFC) --------------------------------------------------------
size_t sub_413EFC()
{
  __InitExceptBlockLDTC();
  dword_440460 = (int)&off_440090;
  dword_440464 = 0;
  dword_440468 = 0;
  return sub_4039B8((int)&dword_440460, aDefault);
}
// 440090: using guessed type int (__cdecl *off_440090)(void *, char);
// 440460: using guessed type int dword_440460;
// 440468: using guessed type int dword_440468;

//----- (00413F4E) --------------------------------------------------------
void sub_413F4E()
{
  __InitExceptBlockLDTC();
  dword_440460 = (int)&off_440090;
  operator delete[](dword_440464);
}
// 440090: using guessed type int (__cdecl *off_440090)(void *, char);
// 440460: using guessed type int dword_440460;

//----- (00413F85) --------------------------------------------------------
_DWORD *__cdecl sub_413F85(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  return a1;
}

//----- (00413FC9) --------------------------------------------------------
int __cdecl sub_413FC9(int a1)
{
  __InitExceptBlockLDTC();
  return a1;
}

//----- (0041405C) --------------------------------------------------------
int __cdecl sub_41405C(int a1, int a2)
{
  unsigned int v2; // esi
  int v4; // eax
  _BYTE v5[16]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v6; // [esp+1Ch] [ebp-1Ch]
  int v7; // [esp+28h] [ebp-10h]
  _BYTE v8[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  while ( *(_DWORD *)(a1 + 13) < *(_DWORD *)(a1 + 9) )
  {
    v2 = *(_DWORD *)(a1 + 13);
    if ( *(_DWORD *)(a1 + 9) && (!*(_DWORD *)(a1 + 5) || v2 >= *(_DWORD *)(a1 + 9)) )
    {
      xerror::MakeString((xerror *)v9, aPrecondition_31, aLim0Data0Index_11, aCBc5IncludeCla_21, 0x334u);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 12;
      --v7;
      string::~string((string *)v9);
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    if ( !*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v2) )
      break;
    ++*(_DWORD *)(a1 + 13);
  }
  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_406954(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v4 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v4 + 1;
  *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v4) = a2;
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00414172) --------------------------------------------------------
int __cdecl sub_414172(int (__cdecl ***a1)(_DWORD, int))
{
  int result; // eax

  result = __InitExceptBlockLDTC();
  if ( a1 )
    return (**a1)(a1, 3);
  return result;
}

//----- (004141B5) --------------------------------------------------------
int __cdecl sub_4141B5(int a1, int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // esi
  unsigned int *v5; // ecx
  unsigned int v7; // [esp+8h] [ebp-4h] BYREF

  v4 = a4;
  v7 = *(_DWORD *)(a1 + 9);
  if ( a3 >= v7 )
    v5 = &v7;
  else
    v5 = &a3;
  a3 = *v5;
  if ( a2 )
    sub_414209(a1, (int (__cdecl *)(_DWORD, int))sub_414172, 0, a4, a3);
  return (*(int (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v4, a3);
}

//----- (00414209) --------------------------------------------------------
int __cdecl sub_414209(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5)
{
  unsigned int i; // ebx
  int result; // eax

  for ( i = a4; a5 > i; ++i )
  {
    result = *(_DWORD *)(a1 + 5);
    if ( *(_DWORD *)(result + 4 * i) )
      result = a2(*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i), a3);
  }
  return result;
}

//----- (0041423E) --------------------------------------------------------
unsigned int __cdecl sub_41423E(int a1, unsigned int a2, unsigned int a3)
{
  unsigned int result; // eax
  int *v4; // edx
  unsigned int v5; // [esp+8h] [ebp-4h] BYREF

  for ( result = a2; ; ++result )
  {
    v5 = *(_DWORD *)(a1 + 9);
    v4 = (int *)(v5 >= a3 ? &a3 : &v5);
    if ( result >= *v4 )
      break;
    *(_DWORD *)(4 * result + *(_DWORD *)(a1 + 5)) = 0;
  }
  return result;
}

//----- (0041436E) --------------------------------------------------------
bool __cdecl sub_41436E(int a1)
{
  return (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4) != 0;
}

//----- (00414395) --------------------------------------------------------
int __cdecl sub_414395(int a1)
{
  return (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4);
}

//----- (004143AA) --------------------------------------------------------
unsigned int __cdecl sub_4143AA(int a1, ipstream *a2, int a3)
{
  return sub_413E21((_DWORD *)(a1 - 33), a2, a3);
}

//----- (004143B4) --------------------------------------------------------
void __cdecl sub_4143B4(int a1, char a2)
{
  sub_4134C7((char *)(a1 - 33), a2);
}

//----- (004143BE) --------------------------------------------------------
bool __cdecl sub_4143BE(int a1)
{
  return sub_41436E(a1 - 29);
}

//----- (004143C8) --------------------------------------------------------
void __cdecl sub_4143C8(int a1, char a2)
{
  sub_4134C7((char *)(a1 - 29), a2);
}

//----- (004144BE) --------------------------------------------------------
int __cdecl sub_4144BE(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (004144C9) --------------------------------------------------------
int __cdecl sub_4144C9(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (004144D4) --------------------------------------------------------
int __cdecl sub_4144D4(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (004144DF) --------------------------------------------------------
bool __cdecl sub_4144DF(int a1)
{
  return *(_DWORD *)(a1 + 53) != 1;
}

//----- (004144FC) --------------------------------------------------------
int __cdecl sub_4144FC(int a1, int a2, int a3)
{
  return (*(int (__cdecl **)(int, int, int))(*(_DWORD *)(a1 + 41) + 16))(a1 + 8, a2, a3);
}

//----- (00414517) --------------------------------------------------------
int __cdecl sub_414517(int a1, ipstream *a2, int a3)
{
  return sub_4132F1((_DWORD *)(a1 - 4), a2, a3);
}

//----- (00414521) --------------------------------------------------------
void __cdecl sub_414521(int a1, char a2)
{
  sub_411D4D((char *)(a1 - 4), a2);
}

//----- (0041452B) --------------------------------------------------------
void __cdecl sub_41452B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00414582) --------------------------------------------------------
void __cdecl sub_414582(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00414635) --------------------------------------------------------
void __cdecl sub_414635(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_4141B5((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041474C) --------------------------------------------------------
void __cdecl sub_41474C(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_4141B5((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00414883) --------------------------------------------------------
void __cdecl sub_414883(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_4141B5((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00414A0F) --------------------------------------------------------
void __cdecl sub_414A0F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00414A70) --------------------------------------------------------
int __cdecl sub_414A70(_DWORD *a1)
{
  _BYTE v2[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v2, &byte_44295A);
  string::assign((string *)(a1 + 2), (const string *)v2, 0, 0xFFFFFFFF);
  string::~string((string *)v2);
  a1[4] = 0;
  a1[5] = 0;
  a1[3] = 0;
  a1[1] = 0;
  return 0;
}

//----- (00414AE5) --------------------------------------------------------
_DWORD *__cdecl sub_414AE5(_DWORD *a1, _DWORD *a2)
{
  if ( a1 != a2 )
  {
    string::assign((string *)(a1 + 2), (const string *)(a2 + 2), 0, 0xFFFFFFFF);
    a1[4] = a2[4];
    a1[5] = a2[5];
    a1[3] = a2[3];
    a1[1] = a2[1];
  }
  return a1;
}

//----- (00414B2A) --------------------------------------------------------
void __cdecl sub_414B2A(_DWORD *a1, int a2, char *a3)
{
  CHAR v3[256]; // [esp+8h] [ebp-23Ch] BYREF
  char buffer[256]; // [esp+108h] [ebp-13Ch] BYREF
  unsigned __int8 v5; // [esp+208h] [ebp-3Ch] BYREF
  unsigned __int8 v6; // [esp+20Ch] [ebp-38h] BYREF
  unsigned __int8 v7; // [esp+210h] [ebp-34h] BYREF
  __int16 v8; // [esp+224h] [ebp-20h]
  int v9; // [esp+230h] [ebp-14h]
  _BYTE v10[4]; // [esp+238h] [ebp-Ch] BYREF
  _BYTE v11[8]; // [esp+23Ch] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  wsprintfA(v3, "AREA_%u", a2);
  v8 = 8;
  TProfile::TProfile((TProfile *)v11, v3, a3);
  ++v9;
  v8 = 20;
  TProfile::GetString((TProfile *)v11, "NAME", buffer, 0x100u, (const char *)&unk_442968);
  v8 = 32;
  string::string((string *)v10, buffer);
  ++v9;
  string::assign((string *)(a1 + 2), (const string *)v10, 0, 0xFFFFFFFF);
  --v9;
  string::~string((string *)v10);
  TProfile::GetString((TProfile *)v11, "BKCOLOR", buffer, 0x100u, "0,0,0");
  sscanf(buffer, "%u,%u,%u", &v7, &v6, &v5);
  a1[4] = (v5 << 16) | (v6 << 8) | v7;
  a1[5] = TProfile::GetInt((TProfile *)v11, "BKTEXTURE", 0);
  a1[3] = TProfile::GetInt((TProfile *)v11, "DEFCURSOR", 0);
  a1[1] = TProfile::GetInt((TProfile *)v11, "CAPS", 0);
  --v9;
  TProfile::~TProfile((TProfile *)v11);
}

//----- (00414CA1) --------------------------------------------------------
int __cdecl sub_414CA1(_DWORD *a1, int a2)
{
  ipstream *v2; // ebx
  int result; // eax

  v2 = (ipstream *)operator>>(a2, a1 + 2);
  ipstream::readBytes(v2, a1 + 4, 4u);
  a1[5] = ipstream::readWord(v2);
  a1[3] = ipstream::readWord(v2);
  result = ipstream::readWord(v2);
  a1[1] = result;
  return result;
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (00414D03) --------------------------------------------------------
_DWORD *__cdecl sub_414D03(_DWORD *a1, int a2, int a3, int a4, int a5, int a6)
{
  __InitExceptBlockLDTC();
  *a1 = &off_4402D4;
  a1[1] = &off_4402C0;
  *a1 = &off_4402E8;
  a1[1] = &off_4402F8;
  *a1 = &off_442DF8;
  a1[1] = off_442E0C;
  a1[2] = 0;
  a1[3] = a2;
  a1[4] = a3;
  a1[5] = a4;
  a1[6] = a5;
  a1[7] = a6;
  return a1;
}
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 442DF8: using guessed type int (__cdecl *off_442DF8)(void *, char);
// 442E0C: using guessed type int (__cdecl *off_442E0C[2])(int);

//----- (00414D9C) --------------------------------------------------------
int __cdecl sub_414D9C(_DWORD *a1, ipstream *a2)
{
  int result; // eax

  a1[3] = ipstream::readWord(a2);
  a1[4] = ipstream::readWord(a2);
  a1[5] = ipstream::readWord(a2);
  a1[6] = ipstream::readWord(a2);
  result = ipstream::readWord(a2);
  a1[7] = result;
  return result;
}

//----- (00414E00) --------------------------------------------------------
_DWORD *__cdecl sub_414E00(_DWORD *a1, int a2, int a3)
{
  int v3; // eax
  _DWORD *v4; // eax
  char buffer[256]; // [esp+8h] [ebp-14Ch] BYREF
  __int16 v7; // [esp+118h] [ebp-3Ch]
  int v8; // [esp+124h] [ebp-30h]
  int v9[3]; // [esp+12Ch] [ebp-28h] BYREF
  _BYTE v10[4]; // [esp+138h] [ebp-1Ch] BYREF
  _BYTE v11[4]; // [esp+13Ch] [ebp-18h] BYREF
  _DWORD v12[3]; // [esp+140h] [ebp-14h] BYREF
  _BYTE v13[4]; // [esp+14Ch] [ebp-8h] BYREF
  void *v14; // [esp+150h] [ebp-4h]

  __InitExceptBlockLDTC();
  v7 = 8;
  *a1 = 0;
  *(_DWORD *)((char *)a1 + 5) = off_4401AC;
  v14 = (void *)operator new[](0x14u);
  if ( v14 )
  {
    v3 = _vector_new_ldtc_(v14, 0x10u, 1u, 0x211u, sub_40F3ED, 1u, sub_40F471);
    v7 = 20;
  }
  else
  {
    v3 = 0;
  }
  *(_DWORD *)((char *)a1 + 9) = v3;
  *(_DWORD *)((char *)a1 + 13) = 1;
  ++v8;
  *(_DWORD *)((char *)a1 + 5) = off_4401C8;
  v8 += 2;
  *(_DWORD *)((char *)a1 + 5) = off_4401E4;
  *(_DWORD *)((char *)a1 + 17) = 0;
  *(_DWORD *)((char *)a1 + 21) = 1;
  v8 += 33;
  *(_DWORD *)((char *)a1 + 25) = &off_4402D4;
  ++v8;
  *(_DWORD *)((char *)a1 + 29) = &off_4402C0;
  ++v8;
  *(_DWORD *)((char *)a1 + 25) = &off_4402E8;
  *(_DWORD *)((char *)a1 + 29) = &off_4402F8;
  v8 += 3;
  *(_DWORD *)((char *)a1 + 33) = &off_44016C;
  *(_DWORD *)((char *)a1 + 25) = &off_440188;
  *(_DWORD *)((char *)a1 + 29) = &off_440198;
  v8 += 12;
  *(_DWORD *)((char *)a1 + 33) = &off_442DB8;
  *(_DWORD *)((char *)a1 + 25) = &off_442DD4;
  *(_DWORD *)((char *)a1 + 29) = &off_442DE4;
  *(_DWORD *)((char *)a1 + 37) = a2;
  if ( a3 )
  {
    sprintf(buffer, "%i", a3);
    v7 = 56;
    string::string((string *)v11, buffer);
    ++v8;
    v4 = sub_40B4FE(v9, 6, (string *)v11);
    v8 += 5;
    sub_40F706((int)(a1 + 1), (int)v4);
    v8 -= 5;
    --v8;
    string::~string((string *)v10);
    v8 -= 3;
    --v8;
    --v8;
    --v8;
    string::~string((string *)v11);
  }
  else
  {
    v7 = 44;
    v12[0] = &off_44030C;
    v12[1] = off_440324;
    v12[2] = 0;
    string::string((string *)v13, &byte_442999);
    sub_40F706((int)(a1 + 1), (int)v12);
    string::~string((string *)v13);
  }
  return a1;
}
// 44016C: using guessed type int (__cdecl *off_44016C)(int, int);
// 440188: using guessed type _UNKNOWN *off_440188;
// 440198: using guessed type _UNKNOWN *off_440198;
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);
// 4401C8: using guessed type int (__cdecl *off_4401C8[2])(int);
// 4401E4: using guessed type int (__cdecl *off_4401E4[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 44030C: using guessed type int (__cdecl *off_44030C)(void *, char);
// 440324: using guessed type int (__cdecl *off_440324[2])(int);
// 442DB8: using guessed type int (__cdecl *off_442DB8)(int, int);
// 442DD4: using guessed type _UNKNOWN *off_442DD4;
// 442DE4: using guessed type _UNKNOWN *off_442DE4;

//----- (0041505F) --------------------------------------------------------
void __cdecl sub_41505F(_DWORD *a1, ipstream *a2)
{
  *(_DWORD *)((char *)a1 + 37) = ipstream::readWord(a2);
  sub_40DC1E(a1, a2);
}

//----- (00415093) --------------------------------------------------------
_DWORD *__cdecl sub_415093(_DWORD *a1, int a2, int a3)
{
  void *v3; // eax

  __InitExceptBlockLDTC();
  *a1 = &off_442DA4;
  string::string((string *)(a1 + 2));
  sub_414A70(a1);
  a1[6] = &off_4402D4;
  a1[7] = &off_4402C0;
  a1[6] = &off_4402E8;
  a1[7] = &off_4402F8;
  *a1 = &off_442D64;
  a1[6] = &off_442D80;
  a1[7] = &off_442D90;
  string::string((string *)(a1 + 8));
  string::string((string *)(a1 + 9));
  string::string((string *)(a1 + 10));
  string::string((string *)(a1 + 11));
  string::string((string *)(a1 + 12));
  string::string((string *)(a1 + 13));
  a1[26] = 1;
  *(_DWORD *)((char *)a1 + 109) = off_43B500;
  v3 = (void *)operator new[](4u);
  *(_DWORD *)((char *)a1 + 113) = _vector_new_ldtc_(v3, 4u, 1u, 1u, sub_417940, 0, 0);
  *(_DWORD *)((char *)a1 + 117) = 1;
  *(_DWORD *)((char *)a1 + 109) = off_4417E4;
  *(_DWORD *)((char *)a1 + 109) = off_441800;
  *(_DWORD *)((char *)a1 + 121) = 0;
  *(_DWORD *)((char *)a1 + 125) = 2;
  *(_DWORD *)((char *)a1 + 129) = 2;
  *(_DWORD *)((char *)a1 + 133) = &off_4402D4;
  *(_DWORD *)((char *)a1 + 137) = &off_4402C0;
  *(_DWORD *)((char *)a1 + 133) = &off_4402E8;
  *(_DWORD *)((char *)a1 + 137) = &off_4402F8;
  *(_DWORD *)((char *)a1 + 141) = &off_4417A0;
  *(_DWORD *)((char *)a1 + 133) = off_4417C0;
  *(_DWORD *)((char *)a1 + 137) = off_4417D0;
  sub_415560(a1);
  (*(void (__cdecl **)(_DWORD *, int, int))*a1)(a1, a2, a3);
  return a1;
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 4417A0: using guessed type int (__cdecl *off_4417A0)(void *, char);
// 4417C0: using guessed type int (__cdecl *off_4417C0[2])(int);
// 4417D0: using guessed type int (__cdecl *off_4417D0[2])(int);
// 4417E4: using guessed type int (__cdecl *off_4417E4[2])(int);
// 441800: using guessed type int (__cdecl *off_441800[3])(int);
// 442D64: using guessed type int (__cdecl *off_442D64)(int, int, char *);
// 442D80: using guessed type _UNKNOWN *off_442D80;
// 442D90: using guessed type _UNKNOWN *off_442D90;
// 442DA4: using guessed type int (__cdecl *off_442DA4)(int, int, char *);

//----- (0041526B) --------------------------------------------------------
_DWORD *__cdecl sub_41526B(_DWORD *a1, int a2, int a3)
{
  void *v3; // eax

  __InitExceptBlockLDTC();
  *a1 = &off_442DA4;
  string::string((string *)(a1 + 2));
  sub_414A70(a1);
  a1[6] = &off_4402D4;
  a1[7] = &off_4402C0;
  a1[6] = &off_4402E8;
  a1[7] = &off_4402F8;
  *a1 = &off_442D64;
  a1[6] = &off_442D80;
  a1[7] = &off_442D90;
  string::string((string *)(a1 + 8));
  string::string((string *)(a1 + 9));
  string::string((string *)(a1 + 10));
  string::string((string *)(a1 + 11));
  string::string((string *)(a1 + 12));
  string::string((string *)(a1 + 13));
  a1[26] = 1;
  *(_DWORD *)((char *)a1 + 109) = off_43B500;
  v3 = (void *)operator new[](4u);
  *(_DWORD *)((char *)a1 + 113) = _vector_new_ldtc_(v3, 4u, 1u, 1u, sub_417940, 0, 0);
  *(_DWORD *)((char *)a1 + 117) = 1;
  *(_DWORD *)((char *)a1 + 109) = off_4417E4;
  *(_DWORD *)((char *)a1 + 109) = off_441800;
  *(_DWORD *)((char *)a1 + 121) = 0;
  *(_DWORD *)((char *)a1 + 125) = 2;
  *(_DWORD *)((char *)a1 + 129) = 2;
  *(_DWORD *)((char *)a1 + 133) = &off_4402D4;
  *(_DWORD *)((char *)a1 + 137) = &off_4402C0;
  *(_DWORD *)((char *)a1 + 133) = &off_4402E8;
  *(_DWORD *)((char *)a1 + 137) = &off_4402F8;
  *(_DWORD *)((char *)a1 + 141) = &off_4417A0;
  *(_DWORD *)((char *)a1 + 133) = off_4417C0;
  *(_DWORD *)((char *)a1 + 137) = off_4417D0;
  sub_415560(a1);
  (*(void (__cdecl **)(_DWORD *, int, int))(*a1 + 4))(a1, a2, a3);
  return a1;
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 4417A0: using guessed type int (__cdecl *off_4417A0)(void *, char);
// 4417C0: using guessed type int (__cdecl *off_4417C0[2])(int);
// 4417D0: using guessed type int (__cdecl *off_4417D0[2])(int);
// 4417E4: using guessed type int (__cdecl *off_4417E4[2])(int);
// 441800: using guessed type int (__cdecl *off_441800[3])(int);
// 442D64: using guessed type int (__cdecl *off_442D64)(int, int, char *);
// 442D80: using guessed type _UNKNOWN *off_442D80;
// 442D90: using guessed type _UNKNOWN *off_442D90;
// 442DA4: using guessed type int (__cdecl *off_442DA4)(int, int, char *);

//----- (00415444) --------------------------------------------------------
void __cdecl sub_415444(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)a1 = &off_442D64;
    *((_DWORD *)a1 + 6) = &off_442D80;
    *((_DWORD *)a1 + 7) = &off_442D90;
    sub_4159C4(a1);
    sub_4134C7(a1 + 104, 2);
    string::~string((string *)(a1 + 52));
    string::~string((string *)(a1 + 48));
    string::~string((string *)(a1 + 44));
    string::~string((string *)(a1 + 40));
    string::~string((string *)(a1 + 36));
    string::~string((string *)(a1 + 32));
    string::~string((string *)(a1 + 8));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442D64: using guessed type int (__cdecl *off_442D64)(int, int, char *);
// 442D80: using guessed type _UNKNOWN *off_442D80;
// 442D90: using guessed type _UNKNOWN *off_442D90;

//----- (00415560) --------------------------------------------------------
int __cdecl sub_415560(_DWORD *a1)
{
  const string *v1; // eax
  const string *v2; // eax
  const string *v3; // eax
  const string *v4; // eax
  const string *v5; // eax
  _BYTE v7[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  sub_414A70(a1);
  a1[16] = 0;
  a1[17] = 0;
  a1[18] = 0;
  a1[19] = 0;
  a1[15] = 0;
  a1[14] = 0;
  a1[20] = 0;
  string::string((string *)v7, &byte_44299D);
  v1 = (const string *)string::assign((string *)(a1 + 13), (const string *)v7, 0, 0xFFFFFFFF);
  v2 = (const string *)string::assign((string *)(a1 + 12), v1, 0, 0xFFFFFFFF);
  v3 = (const string *)string::assign((string *)(a1 + 11), v2, 0, 0xFFFFFFFF);
  v4 = (const string *)string::assign((string *)(a1 + 10), v3, 0, 0xFFFFFFFF);
  v5 = (const string *)string::assign((string *)(a1 + 9), v4, 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 8), v5, 0, 0xFFFFFFFF);
  string::~string((string *)v7);
  a1[25] = 0;
  a1[24] = 0;
  a1[23] = 0;
  a1[22] = 0;
  a1[21] = 0;
  *(_DWORD *)((char *)a1 + 145) = 0;
  *(_DWORD *)((char *)a1 + 149) = 0;
  return 0;
}

//----- (00415661) --------------------------------------------------------
_DWORD *__cdecl sub_415661(_DWORD *a1, _DWORD *a2)
{
  _DWORD *v3; // eax
  _DWORD *v4; // edi
  void *v5; // eax
  int v6; // eax
  _DWORD *v7; // edx
  _DWORD *v8; // eax
  _DWORD *v9; // edi
  int v10; // [esp+18h] [ebp-34h]
  _DWORD *v11; // [esp+48h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 == a2 )
    return a1;
  sub_4159C4(a1);
  sub_414AE5(a1, a2);
  string::assign((string *)(a1 + 8), (const string *)(a2 + 8), 0, 0xFFFFFFFF);
  a1[21] = a2[21];
  string::assign((string *)(a1 + 9), (const string *)(a2 + 9), 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 10), (const string *)(a2 + 10), 0, 0xFFFFFFFF);
  a1[22] = a2[22];
  string::assign((string *)(a1 + 11), (const string *)(a2 + 11), 0, 0xFFFFFFFF);
  a1[23] = a2[23];
  string::assign((string *)(a1 + 12), (const string *)(a2 + 12), 0, 0xFFFFFFFF);
  a1[24] = a2[24];
  string::assign((string *)(a1 + 13), (const string *)(a2 + 13), 0, 0xFFFFFFFF);
  qmemcpy(a1 + 16, a2 + 16, 0x10u);
  a1[14] = a2[14];
  a1[15] = a2[15];
  a1[20] = a2[20];
  a1[25] = a2[25];
  sub_413AEF(a1 + 26, a2 + 26, 0);
  if ( *(_DWORD *)((char *)a2 + 145) )
  {
    v3 = (_DWORD *)operator new(0x29u);
    v11 = v3;
    if ( v3 )
    {
      v10 = *(_DWORD *)((char *)a2 + 145);
      *v3 = 0;
      v4 = v3 + 1;
      *(_DWORD *)((char *)v3 + 5) = off_4401AC;
      v5 = (void *)operator new[](0x14u);
      if ( v5 )
        v6 = _vector_new_ldtc_(v5, 0x10u, 1u, 0x211u, sub_40F3ED, 1u, sub_40F471);
      else
        v6 = 0;
      *(_DWORD *)((char *)v4 + 5) = v6;
      *(_DWORD *)((char *)v4 + 9) = 1;
      *(_DWORD *)((char *)v4 + 1) = off_4401C8;
      *(_DWORD *)((char *)v4 + 1) = off_4401E4;
      *(_DWORD *)((char *)v4 + 13) = 0;
      *(_DWORD *)((char *)v4 + 17) = 1;
      *(_DWORD *)((char *)v11 + 25) = &off_4402D4;
      *(_DWORD *)((char *)v11 + 29) = &off_4402C0;
      *(_DWORD *)((char *)v11 + 25) = &off_4402E8;
      *(_DWORD *)((char *)v11 + 29) = &off_4402F8;
      *(_DWORD *)((char *)v11 + 33) = &off_44016C;
      *(_DWORD *)((char *)v11 + 25) = &off_440188;
      *(_DWORD *)((char *)v11 + 29) = &off_440198;
      (**(void (__cdecl ***)(_DWORD *, int))((char *)v11 + 33))(v11, v10);
      *(_DWORD *)((char *)v11 + 37) = *(_DWORD *)(v10 + 37);
      *(_DWORD *)((char *)v11 + 33) = &off_442DB8;
      *(_DWORD *)((char *)v11 + 25) = &off_442DD4;
      *(_DWORD *)((char *)v11 + 29) = &off_442DE4;
      v7 = v11;
    }
    else
    {
      v7 = 0;
    }
    *(_DWORD *)((char *)a1 + 145) = v7;
  }
  if ( *(_DWORD *)((char *)a2 + 149) )
  {
    v8 = (_DWORD *)operator new(0x20u);
    if ( v8 )
    {
      v9 = *(_DWORD **)((char *)a2 + 149);
      *v8 = &off_4402D4;
      v8[1] = &off_4402C0;
      *v8 = &off_4402E8;
      v8[1] = &off_4402F8;
      v8[2] = v9[2];
      v8[3] = v9[3];
      v8[4] = v9[4];
      v8[5] = v9[5];
      v8[6] = v9[6];
      v8[7] = v9[7];
      *v8 = &off_442DF8;
      v8[1] = off_442E0C;
    }
    else
    {
      v8 = 0;
    }
    *(_DWORD *)((char *)a1 + 149) = v8;
  }
  return a1;
}
// 44016C: using guessed type int (__cdecl *off_44016C)(int, int);
// 440188: using guessed type _UNKNOWN *off_440188;
// 440198: using guessed type _UNKNOWN *off_440198;
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);
// 4401C8: using guessed type int (__cdecl *off_4401C8[2])(int);
// 4401E4: using guessed type int (__cdecl *off_4401E4[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 442DB8: using guessed type int (__cdecl *off_442DB8)(int, int);
// 442DD4: using guessed type _UNKNOWN *off_442DD4;
// 442DE4: using guessed type _UNKNOWN *off_442DE4;
// 442DF8: using guessed type int (__cdecl *off_442DF8)(void *, char);
// 442E0C: using guessed type int (__cdecl *off_442E0C[2])(int);

//----- (004159C4) --------------------------------------------------------
int __cdecl sub_4159C4(_DWORD *a1)
{
  int v2; // [esp+28h] [ebp-8h]
  void (__cdecl ***v3)(_DWORD, int); // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  (*(void (__cdecl **)(_DWORD *))(*(_DWORD *)((char *)a1 + 141) + 16))(a1 + 26);
  v3 = *(void (__cdecl ****)(_DWORD, int))((char *)a1 + 149);
  if ( v3 )
    (**v3)(v3, 3);
  v2 = *(_DWORD *)((char *)a1 + 145);
  if ( v2 )
    (*(void (__cdecl **)(int, int))(*(_DWORD *)(v2 + 33) + 4))(v2, 3);
  return sub_415560(a1);
}

//----- (00415A4D) --------------------------------------------------------
int __cdecl sub_415A4D(int a1, string *a2)
{
  string::assign((string *)(a1 + 48), a2, 0, 0xFFFFFFFF);
  return string::to_lower((string *)(a1 + 48));
}

//----- (00415A75) --------------------------------------------------------
void __cdecl sub_415A75(_DWORD *a1, int a2, char *a3)
{
  _DWORD *v3; // edx
  _DWORD *v4; // edx
  CHAR v5[256]; // [esp+Ch] [ebp-268h] BYREF
  char buffer[256]; // [esp+10Ch] [ebp-168h] BYREF
  int v7; // [esp+20Ch] [ebp-68h] BYREF
  int v8; // [esp+210h] [ebp-64h] BYREF
  int v9; // [esp+214h] [ebp-60h] BYREF
  int v10; // [esp+218h] [ebp-5Ch] BYREF
  int v11; // [esp+21Ch] [ebp-58h] BYREF
  int v12; // [esp+220h] [ebp-54h] BYREF
  int v13; // [esp+224h] [ebp-50h] BYREF
  __int16 v14; // [esp+238h] [ebp-3Ch]
  int v15; // [esp+244h] [ebp-30h]
  _DWORD *v16; // [esp+24Ch] [ebp-28h]
  _DWORD *v17; // [esp+250h] [ebp-24h]
  _BYTE v18[4]; // [esp+254h] [ebp-20h] BYREF
  _BYTE v19[4]; // [esp+258h] [ebp-1Ch] BYREF
  _BYTE v20[4]; // [esp+25Ch] [ebp-18h] BYREF
  _BYTE v21[4]; // [esp+260h] [ebp-14h] BYREF
  _BYTE v22[4]; // [esp+264h] [ebp-10h] BYREF
  _BYTE v23[4]; // [esp+268h] [ebp-Ch] BYREF
  _BYTE v24[8]; // [esp+26Ch] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  sub_4159C4(a1);
  sub_414B2A(a1, a2, a3);
  wsprintfA(v5, "AREA_%u", a2);
  v14 = 8;
  TProfile::TProfile((TProfile *)v24, v5, a3);
  ++v15;
  v14 = 20;
  TProfile::GetString((TProfile *)v24, "AVI", buffer, 0x100u, (const char *)&unk_4429AA);
  v14 = 32;
  string::string((string *)v23, buffer);
  ++v15;
  string::assign((string *)(a1 + 8), (const string *)v23, 0, 0xFFFFFFFF);
  string::to_lower((string *)(a1 + 8));
  --v15;
  string::~string((string *)v23);
  a1[21] = TProfile::GetInt((TProfile *)v24, "SETAVI", 0);
  TProfile::GetString((TProfile *)v24, "PALETTE", buffer, 0x100u, (const char *)&unk_4429BA);
  v14 = 44;
  string::string((string *)v22, buffer);
  ++v15;
  string::assign((string *)(a1 + 9), (const string *)v22, 0, 0xFFFFFFFF);
  string::to_lower((string *)(a1 + 9));
  --v15;
  string::~string((string *)v22);
  TProfile::GetString((TProfile *)v24, "SND", buffer, 0x100u, (const char *)&unk_4429BF);
  v14 = 56;
  string::string((string *)v21, buffer);
  ++v15;
  string::assign((string *)(a1 + 10), (const string *)v21, 0, 0xFFFFFFFF);
  string::to_lower((string *)(a1 + 10));
  --v15;
  string::~string((string *)v21);
  a1[22] = TProfile::GetInt((TProfile *)v24, "SETSND", 0);
  TProfile::GetString((TProfile *)v24, "MID", buffer, 0x100u, (const char *)&unk_4429CB);
  v14 = 68;
  string::string((string *)v20, buffer);
  ++v15;
  string::assign((string *)(a1 + 11), (const string *)v20, 0, 0xFFFFFFFF);
  string::to_lower((string *)(a1 + 11));
  --v15;
  string::~string((string *)v20);
  a1[23] = TProfile::GetInt((TProfile *)v24, "SETMID", 0);
  TProfile::GetString((TProfile *)v24, "IMG", buffer, 0x100u, (const char *)&unk_4429D7);
  v14 = 80;
  string::string((string *)v19, buffer);
  ++v15;
  sub_415A4D((int)a1, (string *)v19);
  --v15;
  string::~string((string *)v19);
  a1[24] = TProfile::GetInt((TProfile *)v24, "SETIMG", 0);
  a1[15] = 0;
  a1[14] = 0;
  TProfile::GetString((TProfile *)v24, "TXT", buffer, 0x100u, (const char *)&unk_4429E3);
  v14 = 92;
  string::string((string *)v18, buffer);
  ++v15;
  string::assign((string *)(a1 + 13), (const string *)v18, 0, 0xFFFFFFFF);
  string::to_lower((string *)(a1 + 13));
  --v15;
  string::~string((string *)v18);
  TProfile::GetString((TProfile *)v24, "TXTRECT", buffer, 0x100u, "0,0,0,0");
  sscanf(buffer, "%i,%i,%i,%i", a1 + 16, a1 + 17, a1 + 18, a1 + 19);
  a1[25] = TProfile::GetInt((TProfile *)v24, "SETTXT", 0);
  a1[20] = TProfile::GetInt((TProfile *)v24, "TXTHREFOFFSET", 0);
  TProfile::GetString((TProfile *)v24, "TIMER", buffer, 0x100u, "0,0");
  sscanf(buffer, "%i,%i", &v13, &v12);
  if ( v12 > 0 && v13 >= 0 )
  {
    v17 = (_DWORD *)operator new(0x29u);
    if ( v17 )
    {
      v14 = 116;
      sub_414E00(v17, v12, v13);
      v14 = 104;
      v3 = v17;
    }
    else
    {
      v3 = 0;
    }
    *(_DWORD *)((char *)a1 + 145) = v3;
  }
  TProfile::GetString((TProfile *)v24, "TOOLBAR", buffer, 0x100u, "0,0,0,0,0");
  sscanf(buffer, "%i,%i,%i,%i,%i", &v11, &v10, &v9, &v8, &v7);
  if ( v11 > 0 || v10 > 0 || v9 > 0 || v8 > 0 || v7 > 0 )
  {
    v16 = (_DWORD *)operator new(0x20u);
    if ( v16 )
    {
      v14 = 140;
      sub_414D03(v16, v11, v10, v9, v8, v7);
      v14 = 128;
      v4 = v16;
    }
    else
    {
      v4 = 0;
    }
    *(_DWORD *)((char *)a1 + 149) = v4;
  }
  sub_413CE9(a1 + 26, v5, a3, 0);
  --v15;
  TProfile::~TProfile((TProfile *)v24);
}

//----- (00415FAD) --------------------------------------------------------
_DWORD *__cdecl sub_415FAD(_DWORD *a1, ipstream *a2)
{
  ipstream *v2; // esi
  int v3; // eax
  ipstream *v4; // esi
  _DWORD *v5; // edx
  int v6; // edi
  _DWORD *result; // eax
  _DWORD *v8; // edx
  int v9; // [esp+Ch] [ebp-7Ch]
  int v10; // [esp+10h] [ebp-78h]
  int v11; // [esp+14h] [ebp-74h]
  int v12; // [esp+18h] [ebp-70h]
  int v13; // [esp+1Ch] [ebp-6Ch]
  int Word; // [esp+20h] [ebp-68h]
  ipstream *v15; // [esp+2Ch] [ebp-5Ch]
  ipstream *v16; // [esp+34h] [ebp-54h]
  ipstream *v17; // [esp+3Ch] [ebp-4Ch]
  ipstream *v18; // [esp+44h] [ebp-44h]
  ipstream *v19; // [esp+4Ch] [ebp-3Ch]
  _DWORD *v20; // [esp+80h] [ebp-8h]
  _DWORD *v21; // [esp+84h] [ebp-4h]

  __InitExceptBlockLDTC();
  v2 = (ipstream *)operator>>(a2, a1 + 2);
  ipstream::readBytes(v2, a1 + 4, 4u);
  a1[5] = ipstream::readWord(v2);
  v15 = (ipstream *)operator>>(v2, a1 + 8);
  a1[21] = ipstream::readWord(v15);
  v3 = operator>>(v15, a1 + 9);
  v16 = (ipstream *)operator>>(v3, a1 + 10);
  a1[22] = ipstream::readWord(v16);
  v17 = (ipstream *)operator>>(v16, a1 + 11);
  a1[23] = ipstream::readWord(v17);
  v18 = (ipstream *)operator>>(v17, a1 + 12);
  a1[24] = ipstream::readWord(v18);
  v19 = (ipstream *)operator>>(v18, a1 + 13);
  a1[25] = ipstream::readWord(v19);
  v4 = (ipstream *)operator>>(v19, a1 + 16);
  a1[20] = ipstream::readWord(v4);
  a1[1] = ipstream::readWord(v4);
  Word = ipstream::readWord(a2);
  v13 = ipstream::readWord(a2);
  if ( Word > 0 && v13 >= 0 )
  {
    v21 = (_DWORD *)operator new(0x29u);
    if ( v21 )
    {
      sub_414E00(v21, Word, v13);
      v5 = v21;
    }
    else
    {
      v5 = 0;
    }
    *(_DWORD *)((char *)a1 + 145) = v5;
  }
  v6 = ipstream::readWord(a2);
  v12 = ipstream::readWord(a2);
  v11 = ipstream::readWord(a2);
  v10 = ipstream::readWord(a2);
  result = (_DWORD *)ipstream::readWord(a2);
  v9 = (int)result;
  if ( v6 > 0 || v12 > 0 || v11 > 0 || v10 > 0 || (int)result > 0 )
  {
    result = (_DWORD *)operator new(0x20u);
    v20 = result;
    if ( result )
    {
      result = sub_414D03(result, v6, v12, v11, v10, v9);
      v8 = v20;
    }
    else
    {
      v8 = 0;
    }
    *(_DWORD *)((char *)a1 + 149) = v8;
  }
  return result;
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);
// 43913E: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (004161FA) --------------------------------------------------------
int __cdecl sub_4161FA(_DWORD *a1, ipstream *a2, int a3)
{
  int v3; // eax
  int v4; // eax
  _DWORD *v5; // edx
  _DWORD *v6; // ecx
  int Word; // [esp+1Ch] [ebp-7Ch]
  ipstream *v9; // [esp+38h] [ebp-60h]
  ipstream *v10; // [esp+40h] [ebp-58h]
  ipstream *v11; // [esp+48h] [ebp-50h]
  ipstream *v12; // [esp+50h] [ebp-48h]
  ipstream *v13; // [esp+58h] [ebp-40h]
  ipstream *v14; // [esp+60h] [ebp-38h]
  _DWORD *v15; // [esp+8Ch] [ebp-Ch]
  void *v16; // [esp+90h] [ebp-8h]
  _DWORD *v17; // [esp+94h] [ebp-4h]

  __InitExceptBlockLDTC();
  sub_4159C4(a1);
  if ( *(_DWORD *)(a3 + 4) == 0x20000 )
  {
    (*(void (__cdecl **)(_DWORD *, ipstream *))(*a1 + 16))(a1, a2);
  }
  else if ( *(_DWORD *)(a3 + 4) >= 0x2000Au )
  {
    sub_414CA1(a1, (int)a2);
    v3 = operator>>(a2, a1 + 9);
    v9 = (ipstream *)operator>>(v3, a1 + 8);
    a1[21] = ipstream::readWord(v9);
    v10 = (ipstream *)operator>>(v9, a1 + 10);
    a1[22] = ipstream::readWord(v10);
    v11 = (ipstream *)operator>>(v10, a1 + 11);
    a1[23] = ipstream::readWord(v11);
    v12 = (ipstream *)operator>>(v11, a1 + 12);
    a1[24] = ipstream::readWord(v12);
    v13 = (ipstream *)operator>>(v12, a1 + 13);
    a1[25] = ipstream::readWord(v13);
    v14 = (ipstream *)operator>>(v13, a1 + 16);
    a1[20] = ipstream::readWord(v14);
    if ( ipstream::readWord32(a2) )
    {
      v17 = (_DWORD *)operator new(0x29u);
      if ( v17 )
      {
        *v17 = 0;
        *(_DWORD *)((char *)v17 + 5) = off_4401AC;
        v16 = (void *)operator new[](0x14u);
        if ( v16 )
          v4 = _vector_new_ldtc_(v16, 0x10u, 1u, 0x211u, sub_40F3ED, 1u, sub_40F471);
        else
          v4 = 0;
        *(_DWORD *)((char *)v17 + 9) = v4;
        *(_DWORD *)((char *)v17 + 13) = 1;
        *(_DWORD *)((char *)v17 + 5) = off_4401C8;
        *(_DWORD *)((char *)v17 + 5) = off_4401E4;
        *(_DWORD *)((char *)v17 + 17) = 0;
        *(_DWORD *)((char *)v17 + 21) = 1;
        *(_DWORD *)((char *)v17 + 25) = &off_4402D4;
        *(_DWORD *)((char *)v17 + 29) = &off_4402C0;
        *(_DWORD *)((char *)v17 + 25) = &off_4402E8;
        *(_DWORD *)((char *)v17 + 29) = &off_4402F8;
        *(_DWORD *)((char *)v17 + 33) = &off_44016C;
        *(_DWORD *)((char *)v17 + 25) = &off_440188;
        *(_DWORD *)((char *)v17 + 29) = &off_440198;
        *(_DWORD *)((char *)v17 + 33) = &off_442DB8;
        *(_DWORD *)((char *)v17 + 25) = &off_442DD4;
        *(_DWORD *)((char *)v17 + 29) = &off_442DE4;
        (*(void (__cdecl **)(_DWORD *, ipstream *, int))(*(_DWORD *)((char *)v17 + 33) + 16))(v17, a2, a3);
        v5 = v17;
      }
      else
      {
        v5 = 0;
      }
      *(_DWORD *)((char *)a1 + 145) = v5;
    }
    Word = ipstream::readWord(a2);
    if ( Word )
    {
      v15 = (_DWORD *)operator new(0x20u);
      if ( v15 )
      {
        *v15 = &off_4402D4;
        v15[1] = &off_4402C0;
        *v15 = &off_4402E8;
        v15[1] = &off_4402F8;
        *v15 = &off_442DF8;
        v15[1] = off_442E0C;
        (*(void (__cdecl **)(_DWORD *, ipstream *, int))(*v15 + 8))(v15, a2, a3);
        v6 = v15;
      }
      else
      {
        v6 = 0;
      }
      *(_DWORD *)((char *)a1 + 149) = v6;
      if ( Word < 0 )
        *(_DWORD *)(*(_DWORD *)((char *)a1 + 149) + 8) = -Word;
    }
  }
  return (*(int (__cdecl **)(_DWORD *, ipstream *, int))(*(_DWORD *)((char *)a1 + 141) + 20))(a1 + 26, a2, a3);
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);
// 43913E: using guessed type int __cdecl operator>>(_DWORD, _DWORD);
// 44016C: using guessed type int (__cdecl *off_44016C)(int, int);
// 440188: using guessed type _UNKNOWN *off_440188;
// 440198: using guessed type _UNKNOWN *off_440198;
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);
// 4401C8: using guessed type int (__cdecl *off_4401C8[2])(int);
// 4401E4: using guessed type int (__cdecl *off_4401E4[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 4402E8: using guessed type int (__cdecl *off_4402E8)(void *, char);
// 4402F8: using guessed type int (__cdecl *off_4402F8)(int);
// 442DB8: using guessed type int (__cdecl *off_442DB8)(int, int);
// 442DD4: using guessed type _UNKNOWN *off_442DD4;
// 442DE4: using guessed type _UNKNOWN *off_442DE4;
// 442DF8: using guessed type int (__cdecl *off_442DF8)(void *, char);
// 442E0C: using guessed type int (__cdecl *off_442E0C[2])(int);

//----- (00416654) --------------------------------------------------------
void __cdecl sub_416654(int a1)
{
  _BYTE v1[4]; // [esp+28h] [ebp-Ch] BYREF
  _BYTE v2[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v3[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v3, &byte_442A46);
  string::assign((string *)(a1 + 4), (const string *)v3, 0, 0xFFFFFFFF);
  string::~string((string *)v3);
  string::string((string *)v2, &byte_442A47);
  string::assign((string *)(a1 + 8), (const string *)v2, 0, 0xFFFFFFFF);
  string::~string((string *)v2);
  string::string((string *)v1, &byte_442A48);
  string::assign((string *)(a1 + 12), (const string *)v1, 0, 0xFFFFFFFF);
  string::~string((string *)v1);
}

//----- (00416734) --------------------------------------------------------
int __cdecl sub_416734(int a1, int a2)
{
  string::assign((string *)(a1 + 4), (const string *)(a2 + 4), 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 8), (const string *)(a2 + 8), 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 12), (const string *)(a2 + 12), 0, 0xFFFFFFFF);
  return a1;
}

//----- (00416781) --------------------------------------------------------
void __cdecl sub_416781(int a1, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  int v5; // [esp+28h] [ebp-8h] BYREF
  unsigned int v6; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a3 + 4) >= 0x2000Du )
  {
    string::string((string *)&v6);
    v3 = operator>>(a2, &v6);
    v4 = operator>>(v3, a1 + 8);
    operator>>(v4, a1 + 12);
    string::string((string *)&v5, aPassword);
    sub_405557((int)&v5, (unsigned int)&v6, (string *)(a1 + 4));
    string::~string((string *)&v5);
    string::~string((string *)&v6);
  }
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (0041684E) --------------------------------------------------------
void __cdecl sub_41684E(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 45) = &off_442D34;
    *(_DWORD *)(a1 + 29) = &off_442D44;
    sub_416FCD((int)a1);
    sub_405A63(a1 + 94, 2);
    string::~string((string *)(a1 + 57));
    string::~string((string *)(a1 + 53));
    string::~string((string *)(a1 + 49));
    string::~string((string *)(a1 + 41));
    string::~string((string *)(a1 + 37));
    string::~string((string *)(a1 + 33));
    sub_4264F3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 442D34: using guessed type int (__cdecl *off_442D34)(void *, char);
// 442D44: using guessed type int (__cdecl *off_442D44)(int, int, int);

//----- (004169C5) --------------------------------------------------------
int __cdecl sub_4169C5(int a1)
{
  _BYTE v2[4]; // [esp+28h] [ebp-Ch] BYREF
  _BYTE v3[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v4[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  sub_416654(a1 + 29);
  string::string((string *)v4, &byte_442A52);
  string::assign((string *)(a1 + 49), (const string *)v4, 0, 0xFFFFFFFF);
  string::~string((string *)v4);
  string::string((string *)v3, &byte_442A53);
  string::assign((string *)(a1 + 53), (const string *)v3, 0, 0xFFFFFFFF);
  string::~string((string *)v3);
  string::string((string *)v2, &byte_442A54);
  string::assign((string *)(a1 + 57), (const string *)v2, 0, 0xFFFFFFFF);
  string::~string((string *)v2);
  *(_DWORD *)(a1 + 65) = 0;
  *(_DWORD *)(a1 + 61) = 0;
  *(_DWORD *)(a1 + 69) = 1;
  return sub_4056A0(a1 + 73);
}

//----- (00416FCD) --------------------------------------------------------
int __cdecl sub_416FCD(int a1)
{
  sub_406BA2(a1 + 98, 1, 0xFFFFFFFF, 0);
  *(_DWORD *)(a1 + 111) = 0;
  sub_4264F3(a1 + 4, 1, 0xFFFFFFFF, 0);
  *(_DWORD *)(a1 + 17) = 0;
  return sub_4169C5(a1);
}

//----- (00417031) --------------------------------------------------------
int __cdecl sub_417031(_DWORD *a1, char *a2, int a3, TGauge *a4)
{
  int Int; // eax
  unsigned int v5; // edi
  int v6; // esi
  int v7; // ecx
  unsigned int v8; // esi
  _DWORD *v9; // eax
  int v11; // [esp-4h] [ebp-150h]
  char v12[256]; // [esp+Ch] [ebp-140h] BYREF
  unsigned int v13; // [esp+10Ch] [ebp-40h]
  int v14; // [esp+110h] [ebp-3Ch]
  unsigned int v15; // [esp+114h] [ebp-38h]
  __int16 i; // [esp+128h] [ebp-24h]
  int v17; // [esp+134h] [ebp-18h]
  _DWORD *v18; // [esp+13Ch] [ebp-10h]
  _BYTE v19[4]; // [esp+140h] [ebp-Ch] BYREF
  _BYTE v20[8]; // [esp+144h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  sub_416FCD((int)a1);
  TProfile::TProfile((TProfile *)v20, aMain, a2);
  ++v17;
  i = 20;
  Int = TProfile::GetInt((TProfile *)v20, aAreas, 0);
  v5 = Int;
  if ( Int )
  {
    TProfile::GetString((TProfile *)v20, aTitle, v12, 0x100u, &byte_442AF4);
    i = 32;
    string::string((string *)v19, v12);
    ++v17;
    string::assign((string *)((char *)a1 + 49), (const string *)v19, 0, 0xFFFFFFFF);
    --v17;
    string::~string((string *)v19);
    *(_DWORD *)(a3 + 4) = 0x20000;
    *(_DWORD *)((char *)a1 + 61) = TProfile::GetInt((TProfile *)v20, aExitId, 0);
    Int = TProfile::GetInt((TProfile *)v20, aIndexId, 0);
    *(_DWORD *)((char *)a1 + 65) = Int;
    v6 = v5 + 1;
    if ( (signed int)(v5 + 1) >= *a1 )
    {
      v14 = *(_DWORD *)((char *)a1 + 13);
      if ( v14 == -1 )
        v7 = 0x7FFFFFFF;
      else
        v7 = *a1 + v14;
      if ( v6 >= v7 )
      {
        v13 = v6 - *a1;
        Int = sub_406954((int)(a1 + 1), v13, 0);
      }
    }
    else
    {
      v15 = *(_DWORD *)((char *)a1 + 13) + v6 - *a1;
      Int = sub_406954((int)(a1 + 1), v15, 0);
    }
    if ( a4 )
      Int = TGauge::SetRange(a4, 0, v5);
    v8 = 1;
    for ( i = 20; v5 >= v8; ++v8 )
    {
      v18 = (_DWORD *)operator new(0x99u);
      if ( v18 )
      {
        i = 56;
        sub_415093(v18, v8, (int)a2);
        i = 44;
        v9 = v18;
      }
      else
      {
        v9 = 0;
      }
      Int = sub_426399((int)(a1 + 1), (int)v9);
      if ( a4 )
        Int = TGauge::StepIt(a4);
    }
  }
  LOBYTE(Int) = 1;
  v11 = Int;
  --v17;
  TProfile::~TProfile((TProfile *)v20);
  return v11;
}

//----- (0041721D) --------------------------------------------------------
int __cdecl sub_41721D(_DWORD *a1, const char *arglist, int a3, TGauge *a4)
{
  _DWORD *v4; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  bool v9; // [esp-4h] [ebp-E4h]
  int v10; // [esp-4h] [ebp-E4h]
  unsigned int i; // [esp+Ch] [ebp-D4h]
  int v12; // [esp+14h] [ebp-CCh]
  int v13; // [esp+1Ch] [ebp-C4h]
  unsigned int Word; // [esp+2Ch] [ebp-B4h]
  _DWORD *v15; // [esp+60h] [ebp-80h]
  _BYTE v16[4]; // [esp+64h] [ebp-7Ch] BYREF
  _BYTE v17[4]; // [esp+68h] [ebp-78h] BYREF
  _DWORD *v18; // [esp+6Ch] [ebp-74h] BYREF
  int (__cdecl **v19)(void *, int); // [esp+70h] [ebp-70h]
  _BYTE v20[60]; // [esp+74h] [ebp-6Ch] BYREF
  _DWORD *v21; // [esp+B0h] [ebp-30h] BYREF
  int (__cdecl **v22)(int); // [esp+B4h] [ebp-2Ch]
  char v23; // [esp+B8h] [ebp-28h] BYREF
  int (__cdecl **v24)(int); // [esp+B9h] [ebp-27h]
  void *v25; // [esp+BDh] [ebp-23h]
  _DWORD v26[3]; // [esp+D1h] [ebp-Fh] BYREF

  __InitExceptBlockLDTC();
  v18 = v26;
  v21 = v26;
  v19 = &off_442CE0;
  v26[0] = &off_442CEC;
  filebuf::filebuf((filebuf *)v20);
  v4 = v18;
  v18[2] = 0;
  v4[1] = v20;
  fpbase::open((fpbase *)&v18, arglist, 129, filebuf::openprot);
  v22 = (int (__cdecl **)(int))&off_442CC4;
  *v21 = &off_442CD0;
  TPReadObjects::TPReadObjects((TPReadObjects *)&v23);
  if ( v21[1] )
    ipstream::readVersion((ipstream *)&v21);
  v19 = &off_442D0C;
  v22 = &off_442D18;
  *v18 = &off_442D24;
  if ( (v18[2] & 0x86) != 0 )
  {
    fpbase::close((fpbase *)&v18);
    sub_404F9C(0x7F27u, arglist);
    v24 = off_442CA8;
    operator delete[](v25);
    filebuf::~filebuf((filebuf *)v20);
    pstream::~pstream((pstream *)v26);
    return 0;
  }
  else
  {
    string::string((string *)v17);
    operator>>(&v21, v17);
    string::string((string *)v16, aVnfile);
    v9 = string::compare((string *)v17, (const string *)v16) == 0;
    string::~string((string *)v16);
    if ( v9 )
    {
      sub_416FCD((int)a1);
      sub_4053B3((int)&v21, (void (__cdecl ***)(_DWORD, int))a3);
      if ( !*(_DWORD *)(a3 + 4) )
        *(_DWORD *)(a3 + 4) = 0x20000;
      Word = ipstream::readWord((ipstream *)&v21);
      if ( Word )
      {
        operator>>(&v21, (char *)a1 + 49);
        if ( *(_DWORD *)(a3 + 4) >= 0x2000Du )
          operator>>(&v21, (char *)a1 + 53);
        sub_416781((int)a1 + 29, (int)&v21, a3);
        if ( *(_DWORD *)(a3 + 4) >= 0x2000Bu )
          (*(void (__cdecl **)(int, _DWORD **, int))(*(_DWORD *)((char *)a1 + 73) + 8))((int)a1 + 73, &v21, a3);
        if ( *(_DWORD *)(a3 + 4) >= 0x2000Bu )
          *(_DWORD *)((char *)a1 + 69) = ipstream::readWord((ipstream *)&v21);
        *(_DWORD *)((char *)a1 + 61) = ipstream::readWord((ipstream *)&v21);
        *(_DWORD *)((char *)a1 + 65) = ipstream::readWord((ipstream *)&v21);
        if ( *(_DWORD *)(a3 + 4) >= 0x2000Au )
          operator>>(&v21, (char *)a1 + 57);
        if ( *(_DWORD *)(a3 + 4) >= 0x2000Au )
          sub_4066A1((_DWORD *)((char *)a1 + 94), (ipstream *)&v21, a3);
        v13 = Word + 1;
        if ( (signed int)(Word + 1) >= *a1 )
        {
          v12 = *(_DWORD *)((char *)a1 + 13);
          if ( v12 == -1 )
            v6 = 0x7FFFFFFF;
          else
            v6 = *a1 + v12;
          if ( v6 <= v13 )
            sub_406954((int)(a1 + 1), v13 - *a1, 0);
        }
        else
        {
          sub_406954((int)(a1 + 1), *(_DWORD *)((char *)a1 + 13) + v13 - *a1, 0);
        }
        if ( a4 )
          TGauge::SetRange(a4, 0, Word);
        for ( i = 0; i < Word; ++i )
        {
          v15 = (_DWORD *)operator new(0x99u);
          if ( v15 )
          {
            sub_41526B(v15, (int)&v21, a3);
            v7 = (int)v15;
          }
          else
          {
            v7 = 0;
          }
          sub_426399((int)(a1 + 1), v7);
          if ( a4 )
            TGauge::StepIt(a4);
        }
      }
      v8 = fpbase::close((fpbase *)&v18);
      LOBYTE(v8) = 1;
      v10 = v8;
      string::~string((string *)v17);
      v24 = off_442CA8;
      operator delete[](v25);
      filebuf::~filebuf((filebuf *)v20);
      pstream::~pstream((pstream *)v26);
      return v10;
    }
    else
    {
      fpbase::close((fpbase *)&v18);
      sub_404F9C(0x6Eu, arglist);
      string::~string((string *)v17);
      v24 = off_442CA8;
      operator delete[](v25);
      filebuf::~filebuf((filebuf *)v20);
      pstream::~pstream((pstream *)v26);
      return 0;
    }
  }
}
// 4176EA: conditional instruction was optimized away because %var_B4.4!=0
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);
// 442CC4: using guessed type int (__cdecl *off_442CC4)(void *, int);
// 442CD0: using guessed type int (__cdecl *off_442CD0)(int);
// 442CE0: using guessed type int (__cdecl *off_442CE0)(void *, int);
// 442CEC: using guessed type int (__cdecl *off_442CEC)(int);
// 442D0C: using guessed type int (__cdecl *off_442D0C)(void *, int);
// 442D18: using guessed type int (__cdecl *off_442D18)(int);
// 442D24: using guessed type int (__cdecl *off_442D24)(int);

//----- (004177EF) --------------------------------------------------------
int __cdecl sub_4177EF(_DWORD *a1, int a2, int a3, TGauge *a4)
{
  bool v5; // [esp-4h] [ebp-44h]
  _DWORD v6[4]; // [esp+Ch] [ebp-34h] BYREF
  __int16 v7; // [esp+1Ch] [ebp-24h]
  int v8; // [esp+28h] [ebp-18h]
  _BYTE v9[4]; // [esp+30h] [ebp-10h] BYREF
  _BYTE v10[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v11[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v12[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !*(_DWORD *)(*(_DWORD *)a2 + 6) )
  {
    v7 = 8;
    xerror::MakeString((xerror *)v12, aPrecondition_34, aFnLength, aSceneCpp, 0x3D0u);
    ++v8;
    xmsg::xmsg((xmsg *)v11, (const string *)v12);
    ++v8;
    v7 = 20;
    --v8;
    string::~string((string *)v12);
    v7 = 8;
    v8 += 2;
    v8 += 3;
    _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v6);
  }
  v7 = 32;
  sub_404711((string *)v10, a2);
  ++v8;
  string::string((string *)v9, aIni);
  ++v8;
  v5 = string::compare((string *)v10, (const string *)v9) == 0;
  --v8;
  string::~string((string *)v9);
  --v8;
  string::~string((string *)v10);
  if ( v5 )
    return sub_417031(a1, *(char **)(*(_DWORD *)a2 + 2), a3, a4);
  else
    return sub_41721D(a1, *(const char **)(*(_DWORD *)a2 + 2), a3, a4);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00417940) --------------------------------------------------------
_DWORD *__cdecl sub_417940(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  return a1;
}

//----- (00417A6B) --------------------------------------------------------
void __cdecl sub_417A6B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 77) = off_442CA8;
    operator delete[](*(void **)(a1 + 81));
    filebuf::~filebuf((filebuf *)(a1 + 8));
    if ( (a2 & 2) != 0 )
      pstream::~pstream((pstream *)(a1 + 101));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (00417EE6) --------------------------------------------------------
int __cdecl sub_417EE6(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00417EF1) --------------------------------------------------------
int __cdecl sub_417EF1(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00417F08) --------------------------------------------------------
void __cdecl sub_417F08(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 9) = off_442CA8;
    operator delete[](*(void **)(a1 + 13));
    if ( (a2 & 2) != 0 )
      pstream::~pstream((pstream *)(a1 + 33));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (00417F98) --------------------------------------------------------
void __cdecl sub_417F98(int a1, char a2)
{
  sub_417F08((char *)(a1 - 33), a2);
}

//----- (00417FA2) --------------------------------------------------------
void __cdecl sub_417FA2(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    filebuf::~filebuf((filebuf *)(a1 + 8));
    if ( (a2 & 2) != 0 )
      pstream::~pstream((pstream *)(a1 + 68));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041800B) --------------------------------------------------------
void __cdecl sub_41800B(int a1, char a2)
{
  sub_417FA2((char *)(a1 - 68), a2);
}

//----- (00418015) --------------------------------------------------------
void __cdecl sub_418015(int a1, char a2)
{
  sub_417A6B((char *)(a1 - 101), a2);
}

//----- (0041801F) --------------------------------------------------------
void __cdecl sub_41801F(int a1, char a2)
{
  sub_417A6B((char *)(a1 - 68), a2);
}

//----- (00418029) --------------------------------------------------------
bool __cdecl sub_418029(int a1)
{
  return (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4) != 0;
}

//----- (00418046) --------------------------------------------------------
bool __cdecl sub_418046(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 52) + 6) || *(_DWORD *)(*(_DWORD *)(a1 + 48) + 6);
}

//----- (0041806B) --------------------------------------------------------
int __cdecl sub_41806B(int a1, ipstream *a2, int a3)
{
  return sub_4161FA((_DWORD *)(a1 - 28), a2, a3);
}

//----- (0041807F) --------------------------------------------------------
bool __cdecl sub_41807F(int a1)
{
  return sub_418046(a1 - 24);
}

//----- (004180EB) --------------------------------------------------------
void __cdecl sub_4180EB(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 33) = &off_44016C;
    *(_DWORD *)(a1 + 25) = &off_440188;
    *(_DWORD *)(a1 + 29) = &off_440198;
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_4401AC;
    _vector_delete_ldtc_(*(void **)(a1 + 9), 0x10u, 0, 0x19u, sub_40F471);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44016C: using guessed type int (__cdecl *off_44016C)(int, int);
// 440188: using guessed type _UNKNOWN *off_440188;
// 440198: using guessed type _UNKNOWN *off_440198;
// 4401AC: using guessed type int (__cdecl *off_4401AC[2])(int);

//----- (004181D1) --------------------------------------------------------
bool __cdecl sub_4181D1(int a1)
{
  return *(int *)(a1 + 37) > 0 && (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1 + 4);
}

//----- (004181F9) --------------------------------------------------------
void __cdecl sub_4181F9(int a1, ipstream *a2)
{
  sub_41505F((_DWORD *)(a1 - 29), a2);
}

//----- (0041820D) --------------------------------------------------------
bool __cdecl sub_41820D(int a1)
{
  return sub_4181D1(a1 - 25);
}

//----- (00418221) --------------------------------------------------------
void __cdecl sub_418221(void *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00418263) --------------------------------------------------------
bool __cdecl sub_418263(int *a1)
{
  return a1[2] > 0 || a1[3] > 0 || a1[4] > 0 || a1[5] > 0 || a1[6] > 0 || a1[7] > 0;
}

//----- (00418298) --------------------------------------------------------
int __cdecl sub_418298(int a1, ipstream *a2)
{
  return sub_414D9C((_DWORD *)(a1 - 4), a2);
}

//----- (004182A2) --------------------------------------------------------
void __cdecl sub_4182A2(int a1, char a2)
{
  sub_418221((void *)(a1 - 4), a2);
}

//----- (004182AC) --------------------------------------------------------
void __cdecl sub_4182AC(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 8));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004182F5) --------------------------------------------------------
void __cdecl sub_4182F5(char *a1, char a2)
{
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_442CA8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (00418322) --------------------------------------------------------
void __cdecl sub_418322(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 12));
    string::~string((string *)(a1 + 8));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00418541) --------------------------------------------------------
void __cdecl sub_418541(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_442CA8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (0041860C) --------------------------------------------------------
void __cdecl sub_41860C(void *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041864A) --------------------------------------------------------
void __cdecl sub_41864A(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_4264F3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00418761) --------------------------------------------------------
void __cdecl sub_418761(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_4264F3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00418894) --------------------------------------------------------
void __cdecl sub_418894(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_442CA8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (0041896F) --------------------------------------------------------
void __cdecl sub_41896F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_442CA8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (00418A42) --------------------------------------------------------
void __cdecl sub_418A42(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_4264F3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00418BC6) --------------------------------------------------------
void __cdecl sub_418BC6(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00418C99) --------------------------------------------------------
void __cdecl sub_418C99(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_442CA8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);

//----- (00418CE8) --------------------------------------------------------
void __cdecl sub_418CE8(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00418DB3) --------------------------------------------------------
void __cdecl sub_418DB3(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (00418E04) --------------------------------------------------------
_DWORD *__cdecl sub_418E04(_DWORD *a1, UINT a2)
{
  struct timecaps_tag *p_ptc; // eax
  struct timecaps_tag ptc; // [esp+0h] [ebp-34h] BYREF
  _DWORD v5[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v6; // [esp+18h] [ebp-1Ch]
  int v7; // [esp+24h] [ebp-10h]
  _BYTE v8[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v6 = 8;
  *a1 = &off_4436C8;
  a1[1] = 0;
  if ( !a2 )
  {
    v6 = 20;
    xerror::MakeString((xerror *)v9, aPrecondition_35, aResolution0, aTimernfxCpp, 0x26u);
    ++v7;
    xmsg::xmsg((xmsg *)v8, (const string *)v9);
    ++v7;
    v6 = 32;
    --v7;
    string::~string((string *)v9);
    v6 = 20;
    v7 += 2;
    v7 += 3;
    _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
  }
  if ( !timeGetDevCaps(&ptc, 8u) )
  {
    if ( ptc.wPeriodMin <= a2 )
      p_ptc = (struct timecaps_tag *)&a2;
    else
      p_ptc = &ptc;
    if ( p_ptc->wPeriodMin >= ptc.wPeriodMax )
      p_ptc = (struct timecaps_tag *)&ptc.wPeriodMax;
    a1[1] = p_ptc->wPeriodMin;
    if ( timeBeginPeriod(a1[1]) )
      a1[1] = 0;
  }
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4436C8: using guessed type int (__cdecl *off_4436C8)(void *, char);

//----- (00418F0F) --------------------------------------------------------
void __cdecl sub_418F0F(_DWORD *a1, char a2)
{
  if ( a1 )
  {
    *a1 = &off_4436C8;
    if ( a1[1] )
      timeEndPeriod(a1[1]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4436C8: using guessed type int (__cdecl *off_4436C8)(void *, char);

//----- (00418F46) --------------------------------------------------------
_DWORD *__cdecl sub_418F46(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  a1[1] = 0;
  a1[2] = dword_44EC08;
  a1[3] = 0;
  a1[4] = 0;
  return a1;
}
// 44EC08: using guessed type int dword_44EC08;

//----- (00418F85) --------------------------------------------------------
int __cdecl sub_418F85(int a1, int a2)
{
  __InitExceptBlockLDTC();
  sub_418F46((_DWORD *)a1);
  *(_DWORD *)(a1 + 20) = &off_4436A8;
  *(_DWORD *)(a1 + 24) = 0;
  *(_BYTE *)(a1 + 28) = 0;
  (*(void (__cdecl **)(int, int))(*(_DWORD *)(a1 + 20) + 8))(a1, a2);
  return a1;
}
// 4436A8: using guessed type int (__cdecl *off_4436A8)(void *, char);

//----- (00418FDE) --------------------------------------------------------
int __cdecl sub_418FDE(_DWORD *a1, _DWORD *a2)
{
  int result; // eax
  _DWORD v3[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+18h] [ebp-1Ch]
  int v5; // [esp+24h] [ebp-10h]
  _BYTE v6[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a1[6] )
    (*(void (__cdecl **)(_DWORD *))(a1[5] + 16))(a1);
  if ( !*a2 || !a2[1] )
  {
    v4 = 8;
    xerror::MakeString((xerror *)v7, aCheck_8, aDataDelay0Data, aTimernfxCpp_0, 0x5Eu);
    ++v5;
    xmsg::xmsg((xmsg *)v6, (const string *)v7);
    ++v5;
    v4 = 20;
    --v5;
    string::~string((string *)v7);
    v4 = 8;
    v5 += 2;
    v5 += 3;
    _ThrowExceptionLDTC(stru_4068BF, v6, 0, sub_40690F, 1u, 0, 0, 0, v3);
  }
  *a1 = *a2;
  a1[1] = a2[1];
  a1[2] = a2[2];
  a1[3] = a2[3];
  result = a2[4];
  a1[4] = result;
  return result;
}
// 4068BF: using guessed type _tpidc stru_4068BF[1];

//----- (004190C1) --------------------------------------------------------
bool __cdecl sub_4190C1(int a1)
{
  UINT v1; // eax

  if ( !*(_DWORD *)(a1 + 24) )
  {
    if ( *(int *)(a1 + 8) < 0 )
      v1 = dword_44EC08;
    else
      v1 = *(_DWORD *)(a1 + 8);
    *(_DWORD *)(a1 + 24) = timeSetEvent(
                             *(_DWORD *)a1,
                             v1,
                             *(LPTIMECALLBACK *)(a1 + 4),
                             *(_DWORD *)(a1 + 12),
                             *(_DWORD *)(a1 + 16));
  }
  return *(_DWORD *)(a1 + 24) != 0;
}
// 44EC08: using guessed type int dword_44EC08;

//----- (004190FF) --------------------------------------------------------
bool __cdecl sub_4190FF(int a1)
{
  if ( *(_DWORD *)(a1 + 24) && !timeKillEvent(*(_DWORD *)(a1 + 24)) )
    *(_DWORD *)(a1 + 24) = 0;
  return *(_DWORD *)(a1 + 24) == 0;
}

//----- (0041912A) --------------------------------------------------------
_DWORD *__cdecl sub_41912A(_DWORD *a1, int a2, int a3)
{
  _DWORD v4[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v5; // [esp+18h] [ebp-1Ch]
  int v6; // [esp+24h] [ebp-10h]
  _BYTE v7[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v8[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v5 = 8;
  *a1 = &off_443684;
  if ( !a3 || !a2 )
  {
    v5 = 20;
    xerror::MakeString((xerror *)v8, aPrecondition_36, aImgWnd, aTimernfxCpp_1, 0x94u);
    ++v6;
    xmsg::xmsg((xmsg *)v7, (const string *)v8);
    ++v6;
    v5 = 32;
    --v6;
    string::~string((string *)v8);
    v5 = 20;
    v6 += 2;
    v6 += 3;
    _ThrowExceptionLDTC(stru_403B88, v7, 0, sub_403BE0, 1u, 0, 0, 0, v4);
  }
  a1[2] = a2;
  a1[3] = a3;
  a1[1] = 0;
  a1[6] = 0;
  (*(void (__cdecl **)(_DWORD *))(*a1 + 4))(a1);
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 443684: using guessed type int (__cdecl *off_443684)(void *, char);

//----- (0041921B) --------------------------------------------------------
int __cdecl sub_41921B(int a1)
{
  int result; // eax
  _BYTE v2[16]; // [esp+Ch] [ebp-20h] BYREF
  _DWORD v3[4]; // [esp+1Ch] [ebp-10h] BYREF

  TWindow::GetClientRect(*(TWindow **)(a1 + 8), (TRect *)v2);
  qmemcpy(v3, v2, sizeof(v3));
  result = v3[2];
  *(_DWORD *)(a1 + 16) = v3[2];
  *(_DWORD *)(a1 + 20) = v3[3];
  return result;
}

//----- (00419256) --------------------------------------------------------
int __cdecl sub_419256(_DWORD *a1, char a2, int a3)
{
  int result; // eax
  int v4; // ecx
  _DWORD v5[5]; // [esp+8h] [ebp-40h] BYREF
  __int16 v6; // [esp+2Ch] [ebp-1Ch]
  int v7; // [esp+40h] [ebp-8h]
  int v8; // [esp+44h] [ebp-4h]

  result = __InitExceptBlockLDTC();
  v8 = a1[1];
  if ( v8 )
  {
    v6 = 20;
    result = (**(int (__cdecl ***)(int, int))(v8 + 20))(v8, 3);
    v6 = 8;
  }
  a1[1] = 0;
  if ( a2 && a3 )
  {
    sub_418F46(v5);
    v5[0] = (*(int (__cdecl **)(_DWORD *))(*a1 + 8))(a1);
    v5[1] = a3;
    v5[2] = 0;
    v5[4] = 1;
    result = operator new(0x1Du);
    v7 = result;
    if ( result )
    {
      v6 = 44;
      result = sub_418F85(v7, (int)v5);
      v6 = 32;
      v4 = v7;
    }
    else
    {
      v4 = 0;
    }
    a1[1] = v4;
  }
  return result;
}

//----- (0041930A) --------------------------------------------------------
_DWORD *__cdecl sub_41930A(_DWORD *a1, int a2, int a3)
{
  __InitExceptBlockLDTC();
  sub_41912A(a1, a2, a3);
  *a1 = &off_443660;
  sub_419361((int)a1);
  (*(void (__cdecl **)(_DWORD *))(*a1 + 4))(a1);
  return a1;
}
// 443660: using guessed type int (__cdecl *off_443660)(void *, char);

//----- (00419361) --------------------------------------------------------
int __cdecl sub_419361(int a1)
{
  *(_DWORD *)(a1 + 61) = 0;
  *(_DWORD *)(a1 + 65) = 0;
  *(_DWORD *)(a1 + 69) = 0;
  *(_DWORD *)(a1 + 73) = 0;
  *(_DWORD *)(a1 + 77) = 0;
  *(_DWORD *)(a1 + 81) = 0;
  return 0;
}

//----- (00419387) --------------------------------------------------------
__int64 __cdecl sub_419387(_DWORD *a1)
{
  double *v2; // edx
  int v3; // eax
  int v4; // eax
  int *v5; // ecx
  int *v6; // ecx
  double *v7; // edx
  double *v8; // edx
  __int64 result; // rax
  double v10; // [esp+14h] [ebp-58h] BYREF
  double v11; // [esp+1Ch] [ebp-50h] BYREF
  double v12; // [esp+24h] [ebp-48h] BYREF
  double v13; // [esp+2Ch] [ebp-40h] BYREF
  int v14; // [esp+34h] [ebp-38h] BYREF
  int v15; // [esp+38h] [ebp-34h] BYREF
  int v16; // [esp+3Ch] [ebp-30h] BYREF
  int v17; // [esp+40h] [ebp-2Ch] BYREF
  double v18; // [esp+44h] [ebp-28h]
  double v19; // [esp+4Ch] [ebp-20h]
  double v20; // [esp+54h] [ebp-18h] BYREF
  double v21; // [esp+5Ch] [ebp-10h] BYREF
  double v22; // [esp+64h] [ebp-8h]

  sub_41921B((int)a1);
  qmemcpy((char *)a1 + 29, (const void *)(a1[3] + 13), 0x10u);
  v21 = (long double)(int)a1[5] / (long double)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1[3] + 5) + 8))(a1[3]);
  v20 = (long double)(int)a1[4] / (long double)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1[3] + 5) + 4))(a1[3]);
  if ( v20 <= (long double)v21 )
    v2 = &v21;
  else
    v2 = &v20;
  v22 = *v2;
  v3 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1[3] + 5) + 4))(a1[3]);
  v19 = (long double)v3 * v22;
  v4 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1[3] + 5) + 8))(a1[3]);
  v18 = (long double)v4 * v22;
  v17 = 0;
  v16 = (__int64)(((long double)(int)a1[4] - v19) * 0.5);
  if ( v16 >= 0 )
    v5 = &v17;
  else
    v5 = &v16;
  *(_DWORD *)((char *)a1 + 45) = *v5;
  v15 = 0;
  v14 = (__int64)(((long double)(int)a1[5] - v18) * 0.5);
  if ( v14 >= 0 )
    v6 = &v15;
  else
    v6 = &v14;
  *(_DWORD *)((char *)a1 + 49) = *v6;
  v13 = (double)(int)a1[4];
  v12 = (long double)*(int *)((char *)a1 + 45) + v19;
  if ( v12 <= (long double)v13 )
    v7 = &v13;
  else
    v7 = &v12;
  *(_DWORD *)((char *)a1 + 53) = (__int64)*v7;
  v11 = (double)(int)a1[5];
  v10 = (long double)*(int *)((char *)a1 + 49) + v18;
  if ( v10 <= (long double)v11 )
    v8 = &v11;
  else
    v8 = &v10;
  result = (__int64)*v8;
  *(_DWORD *)((char *)a1 + 57) = result;
  return result;
}

//----- (004194E7) --------------------------------------------------------
int __cdecl sub_4194E7(_DWORD *a1)
{
  int result; // eax
  int v2; // ebx
  _DWORD v3[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+14h] [ebp-1Ch]
  int v5; // [esp+20h] [ebp-10h]
  _BYTE v6[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+2Ch] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( !*(_DWORD *)((char *)a1 + 81) )
    return (*(int (__cdecl **)(_DWORD *))(*a1 + 20))(a1);
  if ( *(_DWORD *)((char *)a1 + 81) != *(_DWORD *)((char *)a1 + 77) )
  {
    *(_DWORD *)((char *)a1 + 77) = *(_DWORD *)((char *)a1 + 81);
    sub_41DEBB(a1[3], (char *)a1 + 61);
    v2 = a1[2];
    if ( !*(_DWORD *)(v2 + 12) )
    {
      xerror::MakeString((xerror *)v7, aPrecondition_37, aGethandle_5, aCBc5IncludeOwl_5, 0x769u);
      ++v5;
      xmsg::xmsg((xmsg *)v6, (const string *)v7);
      ++v5;
      v4 = 12;
      --v5;
      string::~string((string *)v7);
      v5 += 2;
      v5 += 3;
      _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
    }
    return InvalidateRect(*(HWND *)(v2 + 12), 0, 0);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004195CC) --------------------------------------------------------
_BOOL1 __cdecl sub_4195CC(_DWORD *a1, int a2)
{
  int v2; // esi
  long double v4; // fst7
  _DWORD v5[4]; // [esp+24h] [ebp-3Ch] BYREF
  int v6; // [esp+34h] [ebp-2Ch]
  int v7; // [esp+38h] [ebp-28h]
  int v8; // [esp+3Ch] [ebp-24h]
  int v9; // [esp+40h] [ebp-20h]
  char *v10; // [esp+44h] [ebp-1Ch]
  int v11; // [esp+48h] [ebp-18h]
  char *v12; // [esp+4Ch] [ebp-14h]
  int v13; // [esp+50h] [ebp-10h]
  double v14; // [esp+54h] [ebp-Ch]
  char v15; // [esp+5Fh] [ebp-1h]

  v2 = a2;
  if ( a2 < 0 || a2 == *(_DWORD *)((char *)a1 + 77) )
    return 0;
  v15 = 0;
  do
  {
    if ( !v2 )
    {
      (*(void (__cdecl **)(_DWORD *))(*a1 + 20))(a1);
      return 0;
    }
    if ( v2 == 1 )
    {
      sub_419E5D(a1);
      return 1;
    }
    if ( a1[1] )
      v4 = 0.04;
    else
      v4 = 0.4;
    v14 = (pow(v4 + 1.0, (double)(v2 - 1)) - 1.0) * 0.5;
    *(_DWORD *)((char *)a1 + 77) = v2;
    v12 = (char *)a1 + 45;
    v13 = (__int64)((long double)(*(_DWORD *)((char *)a1 + 57) - *(_DWORD *)((char *)a1 + 49)) * v14);
    v10 = (char *)a1 + 45;
    v11 = (__int64)((long double)(*(_DWORD *)((char *)a1 + 53) - *(_DWORD *)((char *)a1 + 45)) * v14);
    v9 = v13 + *(_DWORD *)((char *)a1 + 57);
    v8 = v11 + *(_DWORD *)((char *)a1 + 53);
    v7 = *(_DWORD *)((char *)a1 + 49) - v13;
    v6 = *(_DWORD *)((char *)a1 + 45) - v11;
    v5[0] = v6;
    v5[1] = v7;
    v5[2] = v8;
    v5[3] = v9;
    sub_41DEBB(a1[3], v5);
    if ( *(_DWORD *)(a1[3] + 21) - *(_DWORD *)(a1[3] + 13) <= 0
      || *(_DWORD *)(a1[3] + 25) - *(_DWORD *)(a1[3] + 17) <= 0 )
    {
      --v2;
      v15 = 1;
    }
  }
  while ( v15 && *(_DWORD *)((char *)a1 + 77) > *(_DWORD *)((char *)a1 + 81) );
  return *(_DWORD *)((char *)a1 + 77) != *(_DWORD *)((char *)a1 + 81);
}

//----- (00419750) --------------------------------------------------------
void __cdecl sub_419750(_DWORD *a1, TDC *a2, int *a3)
{
  _BOOL1 v3; // dl
  int *v4; // edx
  _BOOL1 v5; // cl
  int v6; // ecx
  int v7; // ecx
  int v8; // ecx
  int v9; // edx
  int v10[4]; // [esp+Ch] [ebp-A8h] BYREF
  _DWORD v11[4]; // [esp+1Ch] [ebp-98h] BYREF
  int v12[5]; // [esp+2Ch] [ebp-88h] BYREF
  int v13; // [esp+40h] [ebp-74h]
  int *v14; // [esp+44h] [ebp-70h]
  int *v15; // [esp+48h] [ebp-6Ch]
  int v16; // [esp+4Ch] [ebp-68h]
  int *v17; // [esp+50h] [ebp-64h]
  int *v18; // [esp+54h] [ebp-60h]
  int v19; // [esp+58h] [ebp-5Ch]
  int *v20; // [esp+5Ch] [ebp-58h]
  _BOOL1 v21; // [esp+62h] [ebp-52h]
  _BOOL1 v22; // [esp+63h] [ebp-51h]
  int v23[4]; // [esp+64h] [ebp-50h] BYREF
  __int16 v24; // [esp+74h] [ebp-40h]
  int v25; // [esp+80h] [ebp-34h]
  HDC v26[9]; // [esp+88h] [ebp-2Ch] BYREF
  char v27[4]; // [esp+ACh] [ebp-8h] BYREF
  char v28[4]; // [esp+B0h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !a1[3] || !a1[2] )
  {
    v24 = 8;
    xerror::MakeString((xerror *)v28, aPrecondition_38, aImageWindow, aTimernfxCpp_2, 0x11Cu);
    ++v25;
    xmsg::xmsg((xmsg *)v27, (const string *)v28);
    ++v25;
    v24 = 20;
    --v25;
    string::~string((string *)v28);
    v24 = 8;
    v25 += 2;
    v25 += 3;
    _ThrowExceptionLDTC(stru_403B88, v27, 0, sub_403BE0, 1u, 0, 0, 0, v23);
  }
  if ( *(_DWORD *)((char *)a1 + 77) )
  {
    v3 = a3[2] > *(_DWORD *)(a1[3] + 13)
      && *a3 < *(_DWORD *)(a1[3] + 21)
      && a3[3] > *(_DWORD *)(a1[3] + 17)
      && a3[1] < *(_DWORD *)(a1[3] + 25);
    v22 = v3;
    if ( v3 )
    {
      v4 = (int *)(a1[3] + 13);
      v5 = *v4 < a3[2]
        && *(_DWORD *)(a1[3] + 21) > *a3
        && *(_DWORD *)(a1[3] + 17) < a3[3]
        && *(_DWORD *)(a1[3] + 25) > a3[1];
      v21 = v5;
      if ( v5 )
      {
        v20 = v4 + 3;
        if ( v4[3] >= a3[3] )
          v6 = a3[3];
        else
          v6 = *v20;
        v19 = v6;
        v18 = a3 + 2;
        v17 = v4 + 2;
        if ( v4[2] >= a3[2] )
          v7 = *v18;
        else
          v7 = *v17;
        v16 = v7;
        v15 = a3 + 1;
        v14 = v4 + 1;
        if ( v4[1] <= a3[1] )
          v8 = *v15;
        else
          v8 = *v14;
        v13 = v8;
        if ( *v4 <= *a3 )
          v9 = *a3;
        else
          v9 = *v4;
        v12[4] = v9;
        v11[0] = v9;
        v11[1] = v13;
        v11[2] = v16;
        v11[3] = v19;
      }
      else
      {
        memset(v11, 0, sizeof(v11));
      }
      qmemcpy(v12, v11, 0x10u);
      qmemcpy(v10, v12, sizeof(v10));
      sub_405065((TRect *)v10, *(double *)(a1[3] + 29), (_DWORD *)(a1[3] + 13));
      v24 = 32;
      TMemoryDC::TMemoryDC((TMemoryDC *)v26, a2);
      v25 += 3;
      v24 = 44;
      TMemoryDC::SelectObject((TMemoryDC *)v26, (const TBitmap *)a1[3]);
      if ( StretchBlt(
             *(HDC *)a2,
             v12[0],
             v12[1],
             v12[2] - v12[0],
             v12[3] - v12[1],
             v26[0],
             v10[0],
             v10[1],
             v10[2] - v10[0],
             v10[3] - v10[1],
             0xCC0020u) )
      {
        *(_DWORD *)((char *)a1 + 81) = *(_DWORD *)((char *)a1 + 77);
        qmemcpy((char *)a1 + 61, (const void *)(a1[3] + 13), 0x10u);
      }
      else
      {
        (*(void (__cdecl **)(_DWORD *))(*a1 + 16))(a1);
        sub_4194E7(a1);
      }
      v25 -= 3;
      TMemoryDC::~TMemoryDC((TMemoryDC *)v26);
    }
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00419A6C) --------------------------------------------------------
char __cdecl sub_419A6C(_DWORD *a1, int *a2)
{
  _DWORD *v3; // eax
  int v4; // edi
  int v5; // eax
  int v6; // edx
  _DWORD *v7; // esi
  _DWORD v8[4]; // [esp+14h] [ebp-50h] BYREF
  _DWORD v9[4]; // [esp+24h] [ebp-40h] BYREF
  int v10; // [esp+34h] [ebp-30h]
  int v11; // [esp+38h] [ebp-2Ch]
  int v12; // [esp+3Ch] [ebp-28h]
  int v13; // [esp+40h] [ebp-24h]
  int v14; // [esp+44h] [ebp-20h]
  int v15; // [esp+48h] [ebp-1Ch]
  int v16; // [esp+4Ch] [ebp-18h]
  int v17; // [esp+50h] [ebp-14h]
  double v18; // [esp+54h] [ebp-10h]
  int v19; // [esp+5Ch] [ebp-8h]
  int v20; // [esp+60h] [ebp-4h]

  if ( *(_DWORD *)((char *)a1 + 77) <= 1u )
    return 0;
  v18 = (long double)(*(_DWORD *)(a1[3] + 21) - *(_DWORD *)(a1[3] + 13))
      / (long double)(*(_DWORD *)((char *)a1 + 69) - *(_DWORD *)((char *)a1 + 61));
  v19 = (__int64)((long double)(*(_DWORD *)((char *)a1 + 61) - *a2) * v18 + (long double)*a2);
  v20 = (__int64)((long double)(*(_DWORD *)((char *)a1 + 65) - a2[1]) * v18 + (long double)a2[1]);
  v19 -= *(_DWORD *)(a1[3] + 13);
  v20 -= *(_DWORD *)(a1[3] + 17);
  v3 = (_DWORD *)(a1[3] + 13);
  v4 = v20 + *(_DWORD *)(a1[3] + 25);
  v17 = v19 + *(_DWORD *)(a1[3] + 21);
  v16 = v3[1] + v20;
  v15 = *v3 + v19;
  v9[0] = v15;
  v9[1] = v16;
  v9[2] = v17;
  v9[3] = v4;
  sub_41DEBB(a1[3], v9);
  if ( *(_DWORD *)(a1[3] + 21) - *(_DWORD *)(a1[3] + 13) > 0 && *(_DWORD *)(a1[3] + 25) - *(_DWORD *)(a1[3] + 17) > 0 )
  {
    v5 = 0;
    v6 = 0;
    if ( *(int *)(a1[3] + 13) <= 0 )
    {
      if ( *(_DWORD *)(a1[3] + 21) < a1[4] )
        v5 = a1[4] - *(_DWORD *)(a1[3] + 21);
    }
    else
    {
      v5 = -*(_DWORD *)(a1[3] + 13);
    }
    if ( *(int *)(a1[3] + 17) <= 0 )
    {
      if ( *(_DWORD *)(a1[3] + 25) < a1[5] )
        v6 = a1[5] - *(_DWORD *)(a1[3] + 25);
    }
    else
    {
      v6 = -*(_DWORD *)(a1[3] + 17);
    }
    if ( v5 || v6 )
    {
      v14 = v5;
      v7 = (_DWORD *)(a1[3] + 13);
      v13 = v6 + *(_DWORD *)(a1[3] + 25);
      v12 = v5 + v7[2];
      v11 = v7[1] + v6;
      v10 = v5 + *v7;
      v8[0] = v10;
      v8[1] = v11;
      v8[2] = v12;
      v8[3] = v13;
      sub_41DEBB(a1[3], v8);
    }
    return 1;
  }
  else
  {
    sub_4194E7(a1);
    return 0;
  }
}

//----- (00419C23) --------------------------------------------------------
int __usercall sub_419C23@<eax>(int a1@<ebx>, int a2, unsigned int a3, int *a4)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // esi
  _DWORD v9[4]; // [esp+Ch] [ebp-34h] BYREF
  __int16 v10; // [esp+1Ch] [ebp-24h]
  int v11; // [esp+28h] [ebp-18h]
  _BYTE v12[4]; // [esp+30h] [ebp-10h] BYREF
  _BYTE v13[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v14[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v15[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !a3 )
    return a1;
  if ( *(_BYTE *)(a2 + 28) )
  {
    LOBYTE(v4) = sub_4195CC((_DWORD *)a2, *(_DWORD *)(a2 + 77) + a3);
    a1 = v4;
  }
  else
  {
    v5 = a3 <= *(_DWORD *)(a2 + 77) ? a3 : *(_DWORD *)(a2 + 77);
    LOBYTE(v6) = sub_4195CC((_DWORD *)a2, *(_DWORD *)(a2 + 77) - v5);
    a1 = v6;
  }
  if ( !(_BYTE)a1 )
    return a1;
  if ( *(_DWORD *)(a2 + 77) <= 1u )
  {
    v7 = *(_DWORD *)(a2 + 8);
    if ( !*(_DWORD *)(v7 + 12) )
    {
      v10 = 24;
      xerror::MakeString((xerror *)v13, aPrecondition_40, aGethandle_7, aCBc5IncludeOwl_7, 0x769u);
      ++v11;
      xmsg::xmsg((xmsg *)v12, (const string *)v13);
      ++v11;
      v10 = 36;
      --v11;
      string::~string((string *)v13);
      v10 = 24;
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
LABEL_18:
    InvalidateRect(*(HWND *)(v7 + 12), 0, 0);
    goto LABEL_19;
  }
  if ( a4 )
  {
    if ( !sub_419A6C((_DWORD *)a2, a4) )
      return 0;
    v7 = *(_DWORD *)(a2 + 8);
    if ( !*(_DWORD *)(v7 + 12) )
    {
      xerror::MakeString((xerror *)v15, aPrecondition_39, aGethandle_6, aCBc5IncludeOwl_6, 0x769u);
      ++v11;
      xmsg::xmsg((xmsg *)v14, (const string *)v15);
      ++v11;
      v10 = 12;
      --v11;
      string::~string((string *)v15);
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    goto LABEL_18;
  }
LABEL_19:
  if ( *(_DWORD *)(a2 + 77)
    && *(_DWORD *)(a2 + 4)
    && !(*(unsigned __int8 (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a2 + 4) + 20) + 4))(*(_DWORD *)(a2 + 4)) )
  {
    (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a2 + 4) + 20) + 12))(*(_DWORD *)(a2 + 4));
  }
  return a1;
}
// 419C57: variable 'v4' is possibly undefined
// 419C76: variable 'v6' is possibly undefined
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00419E29) --------------------------------------------------------
int __cdecl sub_419E29(_BYTE *a1, int a2)
{
  a1[28] = 1;
  return (*(int (__cdecl **)(_BYTE *, int, int))(*(_DWORD *)a1 + 12))(a1, 1, a2);
}

//----- (00419E43) --------------------------------------------------------
int __cdecl sub_419E43(_BYTE *a1, int a2)
{
  a1[28] = 0;
  return (*(int (__cdecl **)(_BYTE *, int, int))(*(_DWORD *)a1 + 12))(a1, 1, a2);
}

//----- (00419E5D) --------------------------------------------------------
char __cdecl sub_419E5D(_DWORD *a1)
{
  int v3; // ebx
  _DWORD v4[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v5; // [esp+14h] [ebp-1Ch]
  int v6; // [esp+20h] [ebp-10h]
  _BYTE v7[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v8[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *(_DWORD *)((char *)a1 + 81) = 0;
  *(_DWORD *)((char *)a1 + 61) = 0;
  *(_DWORD *)((char *)a1 + 65) = 0;
  *(_DWORD *)((char *)a1 + 69) = 0;
  *(_DWORD *)((char *)a1 + 73) = 0;
  *(_DWORD *)((char *)a1 + 77) = 1;
  sub_41DEBB(a1[3], (char *)a1 + 45);
  if ( *(_DWORD *)(a1[3] + 21) - *(_DWORD *)(a1[3] + 13) > 0 && *(_DWORD *)(a1[3] + 25) - *(_DWORD *)(a1[3] + 17) > 0 )
  {
    v3 = a1[2];
    if ( !*(_DWORD *)(v3 + 12) )
    {
      xerror::MakeString((xerror *)v8, aPrecondition_41, aGethandle_8, aCBc5IncludeOwl_8, 0x769u);
      ++v6;
      xmsg::xmsg((xmsg *)v7, (const string *)v8);
      ++v6;
      v5 = 12;
      --v6;
      string::~string((string *)v8);
      v6 += 2;
      v6 += 3;
      _ThrowExceptionLDTC(stru_403B88, v7, 0, sub_403BE0, 1u, 0, 0, 0, v4);
    }
    InvalidateRect(*(HWND *)(v3 + 12), 0, 0);
    return 1;
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *))(*a1 + 20))(a1);
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00419F78) --------------------------------------------------------
int __cdecl sub_419F78(_DWORD *a1)
{
  int result; // eax
  int v2; // ebx
  _DWORD v3[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+14h] [ebp-1Ch]
  int v5; // [esp+20h] [ebp-10h]
  _BYTE v6[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+2Ch] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( *(_DWORD *)((char *)a1 + 77) )
  {
    (*(void (__cdecl **)(_DWORD *))(*a1 + 16))(a1);
    sub_41DEBB(a1[3], (char *)a1 + 29);
    sub_419361((int)a1);
    v2 = a1[2];
    if ( !*(_DWORD *)(v2 + 12) )
    {
      xerror::MakeString((xerror *)v7, aPrecondition_42, aGethandle_9, aCBc5IncludeOwl_9, 0x769u);
      ++v5;
      xmsg::xmsg((xmsg *)v6, (const string *)v7);
      ++v5;
      v4 = 12;
      --v5;
      string::~string((string *)v7);
      v5 += 2;
      v5 += 3;
      _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
    }
    return InvalidateRect(*(HWND *)(v2 + 12), 0, 0);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041A04F) --------------------------------------------------------
_DWORD *__cdecl sub_41A04F(_DWORD *a1, int a2, int a3)
{
  _DWORD v4[4]; // [esp+0h] [ebp-2Ch] BYREF
  __int16 v5; // [esp+10h] [ebp-1Ch]
  int v6; // [esp+1Ch] [ebp-10h]
  _BYTE v7[4]; // [esp+24h] [ebp-8h] BYREF
  _BYTE v8[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v5 = 8;
  sub_41912A(a1, a2, a3);
  ++v6;
  *a1 = &off_443638;
  if ( !(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1[3] + 5) + 4))(a1[3])
    || !(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(a1[3] + 5) + 8))(a1[3]) )
  {
    v5 = 20;
    xerror::MakeString((xerror *)v8, aCheck_9, aImageWidthImag, aTimernfxCpp_3, 0x1BFu);
    ++v6;
    xmsg::xmsg((xmsg *)v7, (const string *)v8);
    ++v6;
    v5 = 32;
    --v6;
    string::~string((string *)v8);
    v5 = 20;
    v6 += 2;
    v6 += 3;
    _ThrowExceptionLDTC(stru_4068BF, v7, 0, sub_40690F, 1u, 0, 0, 0, v4);
  }
  a1[7] = 0;
  a1[9] = 0;
  a1[8] = 0;
  return a1;
}
// 4068BF: using guessed type _tpidc stru_4068BF[1];
// 443638: using guessed type int (__cdecl *off_443638)(void *, char);

//----- (0041A156) --------------------------------------------------------
int __cdecl sub_41A156(_DWORD *a1, _DWORD *a2)
{
  int result; // eax

  result = (int)a1;
  if ( *a2 + *(_DWORD *)(a1[3] + 13) > 0 && *(_DWORD *)(a1[3] + 21) - *(_DWORD *)(a1[3] + 13) > a1[4] )
    *a2 = -*(_DWORD *)(a1[3] + 13);
  if ( a2[1] + *(_DWORD *)(a1[3] + 17) > 0 && *(_DWORD *)(a1[3] + 25) - *(_DWORD *)(a1[3] + 17) > a1[5] )
    a2[1] = -*(_DWORD *)(a1[3] + 17);
  if ( *a2 + *(_DWORD *)(a1[3] + 21) < a1[4] && *(_DWORD *)(a1[3] + 21) - *(_DWORD *)(a1[3] + 13) > a1[4] )
    *a2 = a1[4] - *(_DWORD *)(a1[3] + 21);
  if ( a2[1] + *(_DWORD *)(a1[3] + 25) < a1[5] && *(_DWORD *)(a1[3] + 25) - *(_DWORD *)(a1[3] + 17) > a1[5] )
  {
    result = a1[5] - *(_DWORD *)(a1[3] + 25);
    a2[1] = result;
  }
  return result;
}

//----- (0041A205) --------------------------------------------------------
int __cdecl sub_41A205(_DWORD *a1, int a2, int a3)
{
  a1[7] = a3;
  return (*(int (__cdecl **)(_DWORD *, int, int))(*a1 + 12))(a1, 1, a2);
}

//----- (0041A221) --------------------------------------------------------
int __cdecl sub_41A221(_DWORD *a1, int *a2)
{
  int v2; // ecx

  v2 = 0;
  if ( *a2 <= 20 && *(int *)(a1[3] + 13) < 0 )
    v2 = 4;
  if ( a1[4] - 20 <= *a2 && *(_DWORD *)(a1[3] + 21) > a1[4] )
    v2 |= 1u;
  if ( a2[1] <= 20 && *(int *)(a1[3] + 17) < 0 )
    v2 |= 8u;
  if ( a2[1] <= a1[5] && a1[5] - 20 < a2[1] && *(_DWORD *)(a1[3] + 25) > a1[5] )
    return v2 | 2;
  return v2;
}

//----- (0041A28E) --------------------------------------------------------
char __cdecl sub_41A28E(_DWORD *a1, int a2, int *a3)
{
  int v3; // eax
  int v4; // ecx
  int v5; // eax
  int v6; // edx
  int v7; // eax
  int v8; // ecx
  int v9; // eax
  int v10; // edx
  int v11; // edx
  int v12; // esi
  _DWORD *v13; // eax
  int v14; // edi
  const RECT *v15; // edi
  int v16; // esi
  _DWORD v18[4]; // [esp+Ch] [ebp-50h] BYREF
  int v19; // [esp+1Ch] [ebp-40h]
  int v20; // [esp+20h] [ebp-3Ch]
  int v21; // [esp+24h] [ebp-38h]
  _DWORD v22[4]; // [esp+28h] [ebp-34h] BYREF
  __int16 v23; // [esp+38h] [ebp-24h]
  int v24; // [esp+44h] [ebp-18h]
  _BYTE v25[4]; // [esp+4Ch] [ebp-10h] BYREF
  _BYTE v26[4]; // [esp+50h] [ebp-Ch] BYREF
  _BYTE v27[4]; // [esp+54h] [ebp-8h] BYREF
  _BYTE v28[4]; // [esp+58h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    v23 = 8;
    xerror::MakeString((xerror *)v28, aPrecondition_43, aTics, aTimernfxCpp_4, 0x1F2u);
    ++v24;
    xmsg::xmsg((xmsg *)v27, (const string *)v28);
    ++v24;
    v23 = 20;
    --v24;
    string::~string((string *)v28);
    v23 = 8;
    v24 += 2;
    v24 += 3;
    _ThrowExceptionLDTC(stru_403B88, v27, 0, sub_403BE0, 1u, 0, 0, 0, v22);
  }
  if ( a3 )
    a1[7] = sub_41A221(a1, a3);
  a1[9] = 0;
  a1[8] = 0;
  if ( (a1[7] & 1) != 0 )
  {
    v3 = a1[4];
    if ( !a1[1] && v3 )
      v4 = v3 / 2;
    else
      v4 = 5;
    a1[8] = -v4;
  }
  if ( (a1[7] & 4) != 0 )
  {
    v5 = a1[4];
    if ( !a1[1] && v5 )
      v6 = v5 / 2;
    else
      v6 = 5;
    a1[8] = v6;
  }
  if ( (a1[7] & 2) != 0 )
  {
    v7 = a1[5];
    if ( !a1[1] && v7 )
      v8 = v7 / 2;
    else
      v8 = 5;
    a1[9] = -v8;
  }
  if ( (a1[7] & 8) != 0 )
  {
    v9 = a1[5];
    if ( !a1[1] && v9 )
      v10 = v9 / 2;
    else
      v10 = 5;
    a1[9] = v10;
  }
  a1[8] *= a2;
  a1[9] *= a2;
  sub_41A156(a1, a1 + 8);
  if ( a1[8] || a1[9] )
  {
    v11 = a1[9];
    v12 = a1[8];
    v13 = (_DWORD *)(a1[3] + 13);
    v14 = v11 + *(_DWORD *)(a1[3] + 25);
    v21 = v12 + *(_DWORD *)(a1[3] + 21);
    v20 = v13[1] + v11;
    v19 = *v13 + v12;
    v18[0] = v19;
    v18[1] = v20;
    v18[2] = v21;
    v18[3] = v14;
    sub_41DEBB(a1[3], v18);
    v15 = (const RECT *)(a1[3] + 13);
    v16 = a1[2];
    if ( !*(_DWORD *)(v16 + 12) )
    {
      v23 = 32;
      xerror::MakeString((xerror *)v26, aPrecondition_44, aGethandle_10, aCBc5IncludeOwl_10, 0x773u);
      ++v24;
      xmsg::xmsg((xmsg *)v25, (const string *)v26);
      ++v24;
      v23 = 44;
      --v24;
      string::~string((string *)v26);
      v23 = 32;
      v24 += 2;
      v24 += 3;
      _ThrowExceptionLDTC(stru_403B88, v25, 0, sub_403BE0, 1u, 0, 0, 0, v22);
    }
    InvalidateRect(*(HWND *)(v16 + 12), v15, 1);
    if ( a1[1] )
    {
      if ( !(*(unsigned __int8 (__cdecl **)(_DWORD))(*(_DWORD *)(a1[1] + 20) + 4))(a1[1]) )
        (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(a1[1] + 20) + 12))(a1[1]);
    }
    return 1;
  }
  else
  {
    (*(void (__cdecl **)(_DWORD *))(*a1 + 16))(a1);
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041A553) --------------------------------------------------------
_DWORD *sub_41A553()
{
  __InitExceptBlockLDTC();
  return sub_418E04(&dword_44EC04, 5u);
}
// 44EC04: using guessed type _DWORD dword_44EC04;

//----- (0041A589) --------------------------------------------------------
void sub_41A589()
{
  __InitExceptBlockLDTC();
  sub_418F0F(&dword_44EC04, 2);
}
// 44EC04: using guessed type _DWORD dword_44EC04;

//----- (0041A872) --------------------------------------------------------
void __cdecl sub_41A872(_DWORD *a1, char a2)
{
  int v2; // [esp+24h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_443638;
    (*(void (__cdecl **)(_DWORD *))(*a1 + 20))(a1);
    *a1 = &off_443684;
    v2 = a1[1];
    if ( v2 )
      (**(void (__cdecl ***)(int, int))(v2 + 20))(v2, 3);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 443638: using guessed type int (__cdecl *off_443638)(void *, char);
// 443684: using guessed type int (__cdecl *off_443684)(void *, char);

//----- (0041A8F9) --------------------------------------------------------
int sub_41A8F9()
{
  return 10;
}

//----- (0041A903) --------------------------------------------------------
int __cdecl sub_41A903(int a1)
{
  int result; // eax

  result = a1;
  if ( *(_DWORD *)(a1 + 4) )
    return (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 20) + 16))(*(_DWORD *)(a1 + 4));
  return result;
}

//----- (0041A91C) --------------------------------------------------------
int __cdecl sub_41A91C(int a1)
{
  return (*(int (__cdecl **)(int))(*(_DWORD *)a1 + 16))(a1);
}

//----- (0041A92B) --------------------------------------------------------
void __cdecl sub_41A92B(_DWORD *a1, char a2)
{
  int v2; // [esp+24h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_443660;
    (*(void (__cdecl **)(_DWORD *))(*a1 + 20))(a1);
    *a1 = &off_443684;
    v2 = a1[1];
    if ( v2 )
      (**(void (__cdecl ***)(int, int))(v2 + 20))(v2, 3);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 443660: using guessed type int (__cdecl *off_443660)(void *, char);
// 443684: using guessed type int (__cdecl *off_443684)(void *, char);

//----- (0041A9B2) --------------------------------------------------------
int sub_41A9B2()
{
  return 40;
}

//----- (0041A9BC) --------------------------------------------------------
void __cdecl sub_41A9BC(_DWORD *a1, char a2)
{
  int v2; // [esp+28h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_443684;
    v2 = a1[1];
    if ( v2 )
      (**(void (__cdecl ***)(int, int))(v2 + 20))(v2, 3);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 443684: using guessed type int (__cdecl *off_443684)(void *, char);

//----- (0041AA1C) --------------------------------------------------------
void __cdecl sub_41AA1C(_DWORD *a1, char a2)
{
  if ( a1 )
  {
    a1[5] = &off_4436A8;
    (*(void (__cdecl **)(_DWORD *))(a1[5] + 16))(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4436A8: using guessed type int (__cdecl *off_4436A8)(void *, char);

//----- (0041AA46) --------------------------------------------------------
bool __cdecl sub_41AA46(int a1)
{
  return *(_DWORD *)(a1 + 24) != 0;
}

//----- (0041AADC) --------------------------------------------------------
int __cdecl sub_41AADC(HWND hWnd, int a2)
{
  int v2; // esi
  char v3; // dl
  char v4; // al
  int v5; // esi
  char v6; // dl
  int v7; // edi
  char v8; // dl
  int v9; // ecx
  int v10; // ebx
  int result; // eax
  int v12; // [esp+Ch] [ebp-4h]

  v2 = 17;
  if ( !a2
    || ((*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a2 + 4))(a2) && *(_BYTE *)(a2 + 20) ? (v3 = 1) : (v3 = 0), !v3) )
  {
    v2 = 8;
  }
  v12 = v2;
  if ( a2
    && ((*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a2 + 4))(a2) && *(_BYTE *)(a2 + 20) ? (v4 = 1) : (v4 = 0), v4) )
  {
    v5 = *(_DWORD *)(a2 + 8);
  }
  else
  {
    v5 = 0;
  }
  if ( a2
    && ((*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a2 + 4))(a2) && *(_BYTE *)(a2 + 20) ? (v6 = 1) : (v6 = 0), v6) )
  {
    v7 = *(_DWORD *)(a2 + 12);
  }
  else
  {
    v7 = 0;
  }
  if ( a2
    && ((*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a2 + 4))(a2) && *(_BYTE *)(a2 + 20) ? (v8 = 1) : (v8 = 0), v8) )
  {
    v9 = *(_DWORD *)(a2 + 16);
  }
  else
  {
    v9 = 0;
  }
  v10 = v9;
  if ( !lpDD )
    goto LABEL_39;
  result = dword_4437A8;
  if ( (HWND)dword_4437A8 != hWnd
    || v5 != dword_4437B0
    || v7 != dword_4437B4
    || dword_4437AC != v12
    || v9 != dword_4437B8 )
  {
    sub_41ACA9();
    SetWindowPos(hWnd, HWND_MESSAGE|0x2, 0, 0, v5, v7, 0);
LABEL_39:
    dword_4437A8 = (int)hWnd;
    if ( DirectDrawCreate(0, &lpDD, 0) )
    {
      sub_404E29(Text);
      return sub_41ACA9();
    }
    else if ( lpDD->lpVtbl->QueryInterface(lpDD, (const IID *const)&unk_44370C, (LPVOID *)&dword_4437A0) )
    {
      sub_404E29(aQueryinterface);
      return sub_41ACA9();
    }
    else
    {
      dword_4437AC = v12;
      if ( (*(int (__stdcall **)(int, HWND, int))(*(_DWORD *)dword_4437A0 + 80))(dword_4437A0, hWnd, v12) )
      {
        sub_404E29(aSetcooperative);
        return sub_41ACA9();
      }
      else
      {
        dword_4437B0 = v5;
        dword_4437B4 = v7;
        dword_4437B8 = v10;
        result = (*(int (__stdcall **)(int, int, int, int, _DWORD, _DWORD))(*(_DWORD *)dword_4437A0 + 84))(
                   dword_4437A0,
                   v5,
                   v7,
                   v10,
                   0,
                   0);
        if ( result )
        {
          sub_404E29(aCouldnTSetDisp);
          return sub_41ACA9();
        }
      }
    }
  }
  return result;
}
// 4437A0: using guessed type int dword_4437A0;
// 4437A8: using guessed type int dword_4437A8;
// 4437AC: using guessed type int dword_4437AC;
// 4437B0: using guessed type int dword_4437B0;
// 4437B4: using guessed type int dword_4437B4;
// 4437B8: using guessed type int dword_4437B8;

//----- (0041ACA9) --------------------------------------------------------
int sub_41ACA9()
{
  if ( dword_4437A4 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4437A4 + 8))(dword_4437A4);
    dword_4437A4 = 0;
  }
  if ( dword_4437A0 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4437A0 + 76))(dword_4437A0);
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_4437A0 + 8))(dword_4437A0);
    dword_4437A0 = 0;
  }
  if ( lpDD )
  {
    lpDD->lpVtbl->Release(lpDD);
    lpDD = 0;
  }
  dword_4437A8 = 0;
  dword_4437AC = 0;
  dword_4437B0 = 0;
  dword_4437B4 = 0;
  dword_4437B8 = 0;
  return 0;
}
// 4437A0: using guessed type int dword_4437A0;
// 4437A4: using guessed type int dword_4437A4;
// 4437A8: using guessed type int dword_4437A8;
// 4437AC: using guessed type int dword_4437AC;
// 4437B0: using guessed type int dword_4437B0;
// 4437B4: using guessed type int dword_4437B4;
// 4437B8: using guessed type int dword_4437B8;

//----- (0041AD38) --------------------------------------------------------
int __cdecl sub_41AD38(int a1, int a2, string *a3)
{
  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = &off_44410C;
  *(_DWORD *)(a1 + 4) = a2;
  string::string((string *)(a1 + 8), a3);
  *(_DWORD *)(a1 + 12) = 0;
  *(_BYTE *)(a1 + 16) = 0;
  *(_BYTE *)(a1 + 17) = 0;
  *(_DWORD *)(a1 + 18) = 0;
  string::string((string *)(a1 + 22), &byte_443D39);
  *(_DWORD *)(a1 + 26) = 0;
  *(_BYTE *)(a1 + 30) = 1;
  return a1;
}
// 44410C: using guessed type void (__cdecl *off_44410C)(std::strstreambuf *__hidden this);

//----- (0041AE43) --------------------------------------------------------
int __cdecl sub_41AE43(int a1, int a2)
{
  int result; // eax

  result = a1;
  if ( a2 )
  {
    *(_DWORD *)(a1 + 12) = a2;
    if ( *(_BYTE *)(a1 + 30) )
      return _GetExceptDLLinfoInternal_3(a1);
  }
  return result;
}
// 41AED6: using guessed type int __cdecl _GetExceptDLLinfoInternal_3(_DWORD);

//----- (0041AEDB) --------------------------------------------------------
bool __cdecl sub_41AEDB(int a1, UINT uMsg, DWORD dwParam1, DWORD dwParam2)
{
  MCIERROR v4; // esi

  v4 = mciSendCommandA(*(_DWORD *)(a1 + 18), uMsg, dwParam1, dwParam2);
  sub_41AE43(a1, v4);
  return v4 == 0;
}

//----- (0041AF0C) --------------------------------------------------------
int __cdecl sub_41AF0C(_DWORD *a1)
{
  _DWORD s[5]; // [esp+4h] [ebp-14h] BYREF

  memset(s, 0, sizeof(s));
  s[0] = *(_DWORD *)(a1[1] + 12);
  s[2] = *(_DWORD *)(a1[2] + 2);
  s[3] = *(_DWORD *)(*(_DWORD *)((char *)a1 + 22) + 2);
  if ( sub_41AEDB((int)a1, 0x803u, 0x2202u, (DWORD)s) )
    return s[1];
  else
    return 0;
}

//----- (0041AF68) --------------------------------------------------------
bool __cdecl sub_41AF68(int a1, char a2, int a3, int a4)
{
  DWORD v4; // eax
  _DWORD s[3]; // [esp+Ch] [ebp-Ch] BYREF

  memset(s, 0, sizeof(s));
  s[0] = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 12);
  v4 = 0;
  if ( a2 || a3 )
  {
    s[1] = a3;
    v4 = 4;
  }
  if ( a4 )
  {
    s[2] = a4;
    v4 |= 8u;
  }
  if ( (*(_BYTE *)(a1 + 26) & 1) != 0 )
    v4 |= 2u;
  if ( *(_DWORD *)(a1 + 18) && ((*(_BYTE *)(a1 + 26) & 1) == 0 || (*(_BYTE *)(a1 + 26) & 2) != 0) )
    v4 |= 1u;
  return sub_41AEDB(a1, 0x806u, v4, (DWORD)s);
}

//----- (0041AFF4) --------------------------------------------------------
int __cdecl sub_41AFF4(_BYTE *a1, string *a2, int a3)
{
  if ( a1[16] )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) && (a3 & 4) != 0 )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 8))(a1) && string::compare((string *)(a1 + 22), a2) )
    (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 48))(a1);
  *(_DWORD *)(a1 + 26) = a3;
  if ( !(*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 8))(a1) )
  {
    if ( *(_DWORD *)(*(_DWORD *)a2 + 6) )
    {
      string::assign((string *)(a1 + 22), a2, 0, 0xFFFFFFFF);
      *(_DWORD *)(a1 + 18) = (*(int (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 20))(a1);
    }
  }
  return (*(int (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 8))(a1);
}

//----- (0041B095) --------------------------------------------------------
int __cdecl sub_41B095(_BYTE *a1, char a2, int a3, int a4)
{
  char v5; // al
  int v6; // ecx
  int v7; // [esp-4h] [ebp-8h]

  if ( a1[16] )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 8))(a1) )
  {
    if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) && (a1[26] & 4) == 0 )
      (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 44))(a1);
    v5 = (*(int (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1);
    v6 = v7;
    if ( !v5 )
    {
      a1[17] = 1;
      LOBYTE(v6) = a2;
      if ( (*(unsigned __int8 (__cdecl **)(_BYTE *, int, int, int))(*(_DWORD *)a1 + 24))(a1, v6, a3, a4) )
      {
        if ( !*(_DWORD *)(a1 + 18) || (a1[26] & 1) != 0 && (a1[26] & 2) == 0 )
          (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 44))(a1);
      }
      else
      {
        a1[17] = 0;
      }
    }
  }
  return (*(int (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1);
}
// 41B0D0: variable 'v7' is possibly undefined

//----- (0041B119) --------------------------------------------------------
void __cdecl sub_41B119(int a1)
{
  DWORD v1; // esi
  int s; // [esp+8h] [ebp-4h] BYREF

  if ( !*(_BYTE *)(a1 + 16) && !(*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a1 + 12))(a1) )
  {
    memset(&s, 0, sizeof(s));
    s = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 12);
    v1 = 0;
    if ( *(_DWORD *)(a1 + 18) && ((*(_BYTE *)(a1 + 26) & 1) == 0 || (*(_BYTE *)(a1 + 26) & 2) != 0) )
      v1 = 1;
    if ( (*(_BYTE *)(a1 + 26) & 1) != 0 )
      v1 |= 2u;
    *(_BYTE *)(a1 + 17) = 1;
    if ( sub_41AEDB(a1, 0x855u, v1, (DWORD)&s) )
    {
      if ( !*(_DWORD *)(a1 + 18) || (*(_BYTE *)(a1 + 26) & 1) != 0 && (*(_BYTE *)(a1 + 26) & 2) == 0 )
        (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 44))(a1);
    }
    else
    {
      *(_BYTE *)(a1 + 17) = 0;
    }
  }
}

//----- (0041B1C0) --------------------------------------------------------
void __cdecl sub_41B1C0(_BYTE *a1)
{
  _BYTE s[4]; // [esp+4h] [ebp-4h] BYREF

  if ( !a1[16] )
  {
    if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) )
    {
      memset(s, 0, sizeof(s));
      a1[17] = 0;
      sub_41AEDB((int)a1, 0x809u, 2u, (DWORD)s);
    }
  }
}

//----- (0041B205) --------------------------------------------------------
void __cdecl sub_41B205(_BYTE *a1)
{
  _BYTE s[4]; // [esp+4h] [ebp-4h] BYREF

  if ( !a1[16] )
  {
    if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) )
    {
      memset(s, 0, sizeof(s));
      a1[17] = 0;
      sub_41AEDB((int)a1, 0x808u, 2u, (DWORD)s);
    }
  }
}

//----- (0041B24A) --------------------------------------------------------
int __cdecl sub_41B24A(_BYTE *a1)
{
  int v1; // edx
  int result; // eax
  _BYTE s[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+18h] [ebp-18h]
  int v5; // [esp+24h] [ebp-Ch]
  _BYTE v6[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a1[16] )
    return v1;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) )
    (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 44))(a1);
  result = (*(int (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 8))(a1);
  if ( (_BYTE)result )
  {
    memset(s, 0, sizeof(s));
    sub_41AEDB((int)a1, 0x804u, 2u, (DWORD)s);
    *(_DWORD *)(a1 + 18) = 0;
    v4 = 8;
    string::string((string *)v6, &byte_443D3A);
    ++v5;
    string::assign((string *)(a1 + 22), (const string *)v6, 0, 0xFFFFFFFF);
    --v5;
    string::~string((string *)v6);
    *(_DWORD *)(a1 + 26) = 0;
    return 0;
  }
  return result;
}
// 41B26E: variable 'v1' is possibly undefined

//----- (0041B30E) --------------------------------------------------------
int __cdecl sub_41B30E(_BYTE *a1, string *a2, int a3)
{
  if ( a1[16] )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) && !string::compare((string *)(a1 + 22), a2) )
    return 1;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *, string *, int))(*(_DWORD *)a1 + 28))(a1, a2, a3) )
    return (*(int (__cdecl **)(_BYTE *, int, _DWORD, _DWORD))(*(_DWORD *)a1 + 32))(a1, 1, 0, 0);
  return 0;
}

//----- (0041B376) --------------------------------------------------------
int __cdecl sub_41B376(_DWORD *a1)
{
  if ( (*((_BYTE *)a1 + 26) & 2) != 0 )
    *(_DWORD *)((char *)a1 + 26) &= ~1u;
  return sub_41AF0C(a1);
}

//----- (0041B38F) --------------------------------------------------------
int __cdecl sub_41B38F(int a1, int a2)
{
  _BYTE v3[4]; // [esp+24h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v3, aWaveaudio);
  sub_41AD38(a1, a2, (string *)v3);
  *(_DWORD *)a1 = &off_4440C8;
  string::~string((string *)v3);
  *(_DWORD *)a1 = &off_444084;
  *(_DWORD *)(a1 + 31) = 0;
  *(_BYTE *)(a1 + 16) = waveOutGetNumDevs() == 0;
  return a1;
}
// 444084: using guessed type int (__cdecl *off_444084)(std::strstreambuf *, char);
// 4440C8: using guessed type int (__cdecl *off_4440C8)(std::strstreambuf *, char);

//----- (0041B496) --------------------------------------------------------
bool __cdecl sub_41B496(int a1)
{
  if ( (*(_BYTE *)(a1 + 26) & 8) != 0 )
    return *(_DWORD *)(*(_DWORD *)(a1 + 22) + 6) != 0;
  return *(_DWORD *)(a1 + 18) && *(_DWORD *)(*(_DWORD *)(a1 + 22) + 6);
}

//----- (0041B4CD) --------------------------------------------------------
int __cdecl sub_41B4CD(_DWORD *a1)
{
  DWORD v1; // eax
  _DWORD s[6]; // [esp+4h] [ebp-18h] BYREF

  memset(s, 0, sizeof(s));
  s[2] = *(_DWORD *)(a1[2] + 2);
  v1 = 8706;
  s[3] = *(_DWORD *)(*(_DWORD *)((char *)a1 + 22) + 2);
  if ( *(_DWORD *)((char *)a1 + 31) )
  {
    s[5] = *(_DWORD *)((char *)a1 + 31);
    v1 = 74242;
  }
  if ( (*((_BYTE *)a1 + 26) & 2) != 0 )
    *(_DWORD *)((char *)a1 + 26) &= ~1u;
  if ( sub_41AEDB((int)a1, 0x803u, v1, (DWORD)s) )
    return s[1];
  else
    return 0;
}

//----- (0041B53C) --------------------------------------------------------
int __cdecl sub_41B53C(int a1, string *a2, int a3)
{
  if ( (a3 & 8) == 0 )
    return sub_41AFF4((_BYTE *)a1, a2, a3);
  if ( *(_BYTE *)(a1 + 16) )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a1 + 12))(a1) && (a3 & 4) != 0 )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1) && string::compare((string *)(a1 + 22), a2) )
    (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 48))(a1);
  *(_DWORD *)(a1 + 26) = a3;
  if ( (*(_BYTE *)(a1 + 26) & 2) != 0 )
    *(_DWORD *)(a1 + 26) &= ~1u;
  string::assign((string *)(a1 + 22), a2, 0, 0xFFFFFFFF);
  return (*(int (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1);
}

//----- (0041B5DF) --------------------------------------------------------
int __cdecl sub_41B5DF(int a1, char a2, int a3, int a4)
{
  DWORD v5; // esi

  if ( (*(_BYTE *)(a1 + 26) & 8) == 0 )
    return sub_41B095((_BYTE *)a1, a2, a3, a4);
  if ( *(_BYTE *)(a1 + 16) )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1) )
  {
    v5 = 131074;
    if ( (*(_BYTE *)(a1 + 26) & 2) != 0 )
      v5 = 131082;
    if ( (*(_BYTE *)(a1 + 26) & 1) == 0 )
      v5 |= 1u;
    if ( (*(_BYTE *)(a1 + 26) & 4) != 0 )
      v5 |= 0x10u;
    *(_BYTE *)(a1 + 17) = PlaySoundA(*(LPCSTR *)(*(_DWORD *)(a1 + 22) + 2), 0, v5);
    if ( (*(_BYTE *)(a1 + 26) & 1) != 0 )
      *(_BYTE *)(a1 + 17) = 0;
  }
  return (*(int (__cdecl **)(int))(*(_DWORD *)a1 + 12))(a1);
}

//----- (0041B66A) --------------------------------------------------------
void __cdecl sub_41B66A(_BYTE *a1)
{
  if ( (a1[26] & 8) != 0 )
    (*(void (__cdecl **)(_BYTE *, int, _DWORD, _DWORD))(*(_DWORD *)a1 + 32))(a1, 1, 0, 0);
  else
    sub_41B119((int)a1);
}

//----- (0041B690) --------------------------------------------------------
void __cdecl sub_41B690(_BYTE *a1)
{
  if ( (a1[26] & 8) != 0 )
    (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 44))(a1);
  else
    sub_41B1C0(a1);
}

//----- (0041B6AE) --------------------------------------------------------
void __cdecl sub_41B6AE(_BYTE *a1)
{
  if ( (a1[26] & 8) != 0 )
  {
    if ( !a1[16] )
    {
      if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) )
      {
        PlaySoundA(0, 0, 0x40u);
        a1[17] = 0;
      }
    }
  }
  else
  {
    sub_41B205(a1);
  }
}

//----- (0041B6E8) --------------------------------------------------------
int __cdecl sub_41B6E8(_BYTE *a1)
{
  int v1; // edx
  int v3; // [esp+4h] [ebp-28h]
  _BYTE v4[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( (a1[26] & 8) != 0 )
  {
    if ( a1[16] )
      return v1;
    if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) )
    {
      (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 44))(a1);
      string::string((string *)v4, &byte_443D45);
      string::assign((string *)(a1 + 22), (const string *)v4, 0, 0xFFFFFFFF);
      string::~string((string *)v4);
      *(_DWORD *)(a1 + 26) = 0;
    }
  }
  else
  {
    sub_41B24A(a1);
  }
  return v3;
}
// 41B712: variable 'v1' is possibly undefined
// 41B775: variable 'v3' is possibly undefined

//----- (0041B783) --------------------------------------------------------
int __cdecl sub_41B783(_BYTE *a1, string *a2, int a3)
{
  if ( (a1[26] & 8) == 0 )
    return sub_41B30E(a1, a2, a3);
  if ( a1[16] )
    return 0;
  if ( (*(unsigned __int8 (__cdecl **)(_BYTE *, string *, int))(*(_DWORD *)a1 + 28))(a1, a2, a3) )
    return (*(int (__cdecl **)(_BYTE *, int, _DWORD, _DWORD))(*(_DWORD *)a1 + 32))(a1, 1, 0, 0);
  return 0;
}

//----- (0041B7D5) --------------------------------------------------------
int __cdecl sub_41B7D5(int a1, int a2)
{
  _BYTE v3[4]; // [esp+24h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v3, aSequencer);
  sub_41AD38(a1, a2, (string *)v3);
  *(_DWORD *)a1 = &off_4440C8;
  string::~string((string *)v3);
  *(_DWORD *)a1 = &off_444040;
  *(_BYTE *)(a1 + 16) = midiOutGetNumDevs() == 0;
  return a1;
}
// 444040: using guessed type int (__cdecl *off_444040)(std::strstreambuf *, char);
// 4440C8: using guessed type int (__cdecl *off_4440C8)(std::strstreambuf *, char);

//----- (0041B873) --------------------------------------------------------
int __cdecl sub_41B873(_DWORD *a1)
{
  _DWORD s[5]; // [esp+4h] [ebp-14h] BYREF

  memset(s, 0, sizeof(s));
  s[0] = *(_DWORD *)(a1[1] + 12);
  s[2] = *(_DWORD *)(a1[2] + 2);
  if ( (*((_BYTE *)a1 + 26) & 2) != 0 )
    *(_DWORD *)((char *)a1 + 26) &= ~1u;
  if ( sub_41AEDB((int)a1, 0x803u, 0x2002u, (DWORD)s) )
    return s[1];
  else
    return 0;
}

//----- (0041B8D0) --------------------------------------------------------
int __cdecl sub_41B8D0(int a1)
{
  _DWORD s[4]; // [esp+4h] [ebp-10h] BYREF

  if ( !(*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1) )
    return -1;
  memset(s, 0, sizeof(s));
  s[2] = 8;
  sub_41AEDB(a1, 0x814u, 0x102u, (DWORD)s);
  return s[1];
}

//----- (0041B920) --------------------------------------------------------
bool __cdecl sub_41B920(int a1, char a2, int a3, int a4)
{
  int v4; // edi
  int v5; // esi
  int v6; // eax
  DWORD v7; // eax
  unsigned __int8 v8; // dl
  DWORD dwParam2[3]; // [esp+Ch] [ebp-18h] BYREF
  _DWORD s[3]; // [esp+18h] [ebp-Ch] BYREF

  v4 = a4;
  v5 = a3;
  memset(s, 0, sizeof(s));
  s[1] = 10;
  sub_41AEDB(a1, 0x80Du, 0x402u, (DWORD)s);
  if ( (*(_BYTE *)(a1 + 26) & 8) != 0 || (*(_BYTE *)(a1 + 26) & 0x10) != 0 )
  {
    v6 = sub_41B8D0(a1);
    if ( (*(_BYTE *)(a1 + 26) & 8) != 0 )
      v5 = v6 + a3;
    if ( (*(_BYTE *)(a1 + 26) & 0x10) != 0 )
      v4 = v6 + a4;
  }
  memset(dwParam2, 0, sizeof(dwParam2));
  dwParam2[0] = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 12);
  v7 = 4;
  if ( !a2 && v5 )
    v8 = v5;
  else
    v8 = 1;
  dwParam2[1] = v8;
  if ( v4 )
  {
    dwParam2[2] = (unsigned __int8)(v4 + 1);
    v7 = 12;
  }
  if ( (*(_BYTE *)(a1 + 26) & 1) != 0 )
    v7 |= 2u;
  if ( *(_DWORD *)(a1 + 18) && ((*(_BYTE *)(a1 + 26) & 1) == 0 || (*(_BYTE *)(a1 + 26) & 2) != 0) )
    v7 |= 1u;
  return sub_41AEDB(a1, 0x806u, v7, (DWORD)dwParam2);
}

//----- (0041BA0F) --------------------------------------------------------
bool __cdecl sub_41BA0F(int a1, int a2, int a3)
{
  *(_DWORD *)(a2 + 8) = a1;
  return (unsigned __int8)TEventHandler::SearchEntries(*(_DWORD *)(a1 + 31), &unk_4439B0, a2, a3)
      || (unsigned __int8)TWindow::Find(a1 + 31, a2, a3);
}
// 439480: using guessed type int __cdecl TEventHandler::SearchEntries(_DWORD, _DWORD, _DWORD, _DWORD);
// 439534: using guessed type int __cdecl TWindow::Find(_DWORD, _DWORD, _DWORD);

//----- (0041BA57) --------------------------------------------------------
_DWORD *__cdecl sub_41BA57(_DWORD *a1, int a2, const char *a3, string *a4)
{
  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    *(_DWORD *)((char *)a1 + 31) = (char *)a1 + 189;
    *(_DWORD *)((char *)a1 + 35) = (char *)a1 + 193;
    *(_DWORD *)((char *)a1 + 185) = 0;
    *(_DWORD *)((char *)a1 + 189) = &off_444030;
    *(_DWORD *)((char *)a1 + 193) = &off_444020;
  }
  sub_41AD38((int)a1, (int)a3, a4);
  *(_DWORD *)(*(_DWORD *)((char *)a1 + 31) - 4) -= 20;
  TWindow::TWindow((TWindow *)((char *)a1 + 31), (TWindow *)1, a3, 0);
  *(_DWORD *)(*(_DWORD *)((char *)a1 + 31) - 4) += 20;
  *a1 = &off_443F3C;
  *(_DWORD *)((char *)a1 + 39) = &off_443F80;
  **(_DWORD **)((char *)a1 + 31) = &off_444004;
  **(_DWORD **)((char *)a1 + 35) = &off_444010;
  *(_DWORD *)((char *)a1 + 55) &= ~0x10000000u;
  return a1;
}
// 439624: using guessed type TWindow *TWindow::TWindow(TWindow *__hidden this, TWindow *, const char *, TModule *);
// 443F3C: using guessed type int (__cdecl *off_443F3C)(std::strstreambuf *, int);
// 443F80: using guessed type int (__cdecl *off_443F80)(int);
// 444004: using guessed type _UNKNOWN *off_444004;
// 444010: using guessed type int (__cdecl *off_444010)(int);
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;

//----- (0041BB48) --------------------------------------------------------
int __cdecl sub_41BB48(_DWORD *a1)
{
  DWORD dwParam2[4]; // [esp+4h] [ebp-2Ch] BYREF
  _DWORD s[7]; // [esp+14h] [ebp-1Ch] BYREF

  memset(s, 0, sizeof(s));
  s[0] = *(_DWORD *)(a1[1] + 12);
  s[1] = 0;
  s[2] = *(_DWORD *)(a1[2] + 2);
  s[3] = *(_DWORD *)(*(_DWORD *)((char *)a1 + 22) + 2);
  s[5] = 0x40000000;
  s[6] = *(_DWORD *)(*(_DWORD *)((char *)a1 + 51) + 12);
  if ( sub_41AEDB((int)a1, 0x803u, 0x72202u, (DWORD)s) )
  {
    dwParam2[1] = *(_DWORD *)((char *)a1 + 43);
    dwParam2[2] = 1;
    mciSendCommandA(s[1], 0x841u, 0x10002u, (DWORD)dwParam2);
  }
  return s[1];
}

//----- (0041BBD9) --------------------------------------------------------
bool __cdecl sub_41BBD9(int a1, char a2, DWORD a3, DWORD a4)
{
  char v4; // cl
  int v5; // eax
  int v6; // edx
  int v7; // esi
  DWORD v8; // esi
  DWORD v11[3]; // [esp+Ch] [ebp-84h] BYREF
  DWORD v12[3]; // [esp+18h] [ebp-78h] BYREF
  _DWORD v13[4]; // [esp+24h] [ebp-6Ch] BYREF
  DWORD dwParam2[5]; // [esp+34h] [ebp-5Ch] BYREF
  _DWORD s[7]; // [esp+48h] [ebp-48h] BYREF
  _DWORD v16[4]; // [esp+64h] [ebp-2Ch] BYREF
  __int16 v17; // [esp+74h] [ebp-1Ch]
  int v18; // [esp+80h] [ebp-10h]
  _BYTE v19[4]; // [esp+88h] [ebp-8h] BYREF
  _BYTE v20[4]; // [esp+8Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( dword_44EC50 )
    v4 = *((_BYTE *)dword_44EC50 + 5);
  else
    v4 = 0;
  if ( v4 )
  {
    memset(s, 0, sizeof(s));
    s[2] = *(unsigned __int16 *)(a1 + 165);
    s[1] = 16391;
    sub_41AEDB(a1, 0x876u, 0x100002u, (DWORD)s);
  }
  memset(dwParam2, 0, sizeof(dwParam2));
  qmemcpy(&dwParam2[1], (const void *)(a1 + 169), 0x10u);
  sub_41AEDB(a1, 0x842u, 0x210002u, (DWORD)dwParam2);
  v5 = *(_DWORD *)(a1 + 181);
  v6 = *(_DWORD *)(a1 + 177);
  v13[0] = 0;
  v13[1] = 0;
  v13[2] = v6;
  v13[3] = v5;
  qmemcpy(&dwParam2[1], v13, 0x10u);
  sub_41AEDB(a1, 0x842u, 0x50002u, (DWORD)dwParam2);
  memset(v12, 0, sizeof(v12));
  v12[0] = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 12);
  v7 = 0;
  if ( a2 || a3 )
  {
    v12[1] = a3;
    v7 = 4;
  }
  if ( a4 )
  {
    v12[2] = a4;
    v7 |= 8u;
  }
  if ( (*(_BYTE *)(a1 + 26) & 2) != 0 )
    v7 |= 0x10000u;
  if ( (*(_BYTE *)(a1 + 26) & 1) != 0 )
    v7 |= 2u;
  if ( (*(_BYTE *)(a1 + 26) & 8) != 0 )
    v8 = v7 | 0x2000000;
  else
    v8 = v7 | 0x1000000;
  (*(void (__cdecl **)(int, int))(*(_DWORD *)(a1 + 39) + 96))(a1 + 31, 1);
  if ( !*(_DWORD *)(a1 + 43) )
  {
    xerror::MakeString((xerror *)v20, aPrecondition_45, aGethandle_11, aCBc5IncludeOwl_11, 0x56Bu);
    ++v18;
    xmsg::xmsg((xmsg *)v19, (const string *)v20);
    ++v18;
    v17 = 12;
    --v18;
    string::~string((string *)v20);
    v18 += 2;
    v18 += 3;
    _ThrowExceptionLDTC(stru_403B88, v19, 0, sub_403BE0, 1u, 0, 0, 0, v16);
  }
  SetFocus(*(HWND *)(a1 + 43));
  memset(v11, 0, sizeof(v11));
  v11[1] = 27;
  if ( *(_DWORD *)(a1 + 4)
    && *(_DWORD *)(*(_DWORD *)(a1 + 4) + 104)
    && *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 104) + 102) )
  {
    if ( *(char *)(*(_DWORD *)(a1 + 4) + 27) >= 0 )
      v11[2] = *(_DWORD *)(**(_DWORD **)(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 104) + 102) + 12);
    else
      v11[2] = *(_DWORD *)(*(_DWORD *)(a1 + 4) + 12);
  }
  sub_41AEDB(a1, 0x811u, 0x302u, (DWORD)v11);
  if ( *(_DWORD *)(a1 + 18) && ((*(_BYTE *)(a1 + 26) & 1) == 0 || (*(_BYTE *)(a1 + 26) & 2) != 0) )
    v8 |= 1u;
  return !sub_41AEDB(a1, 0x806u, v8, (DWORD)v12);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041BE80) --------------------------------------------------------
int __cdecl sub_41BE80(int a1, int a2)
{
  *(_DWORD *)(a1 + 165) = a2;
  return a1;
}

//----- (0041BE91) --------------------------------------------------------
int __cdecl sub_41BE91(int a1, _DWORD *a2)
{
  int v2; // ecx
  int v3; // ebx
  int v4; // esi

  v2 = a2[3] - a2[1];
  v3 = a2[2] - *a2;
  v4 = a2[1];
  *(_DWORD *)(a1 + 169) = *a2;
  *(_DWORD *)(a1 + 173) = v4;
  *(_DWORD *)(a1 + 177) = v3;
  *(_DWORD *)(a1 + 181) = v2;
  return a1 + 169;
}

//----- (0041BEC9) --------------------------------------------------------
void __cdecl sub_41BEC9(int a1, char a2)
{
  int v2; // eax
  _BYTE s[4]; // [esp+4h] [ebp-4h] BYREF

  if ( *(_DWORD *)(a1 + 165) )
  {
    memset(s, 0, sizeof(s));
    if ( a2 )
      v2 = 0x20000;
    else
      v2 = 0x10000;
    sub_41AEDB(a1, 0x840u, v2 | 2, (DWORD)s);
  }
}

//----- (0041BF75) --------------------------------------------------------
int __cdecl sub_41BF75(int a1)
{
  sub_41B24A((_BYTE *)a1);
  return (*(int (__cdecl **)(int, _DWORD))(*(_DWORD *)(a1 + 39) + 96))(a1 + 31, 0);
}

//----- (0041BF95) --------------------------------------------------------
char sub_41BF95()
{
  return 1;
}

//----- (0041BF9C) --------------------------------------------------------
int __cdecl sub_41BF9C(int a1, WPARAM wParam, LONG *a3)
{
  int result; // eax
  int v4; // esi
  LPARAM v5; // esi
  int v6; // ebx
  struct tagPOINT Point; // [esp+Ch] [ebp-44h] BYREF
  _DWORD v8[4]; // [esp+14h] [ebp-3Ch] BYREF
  __int16 v9; // [esp+24h] [ebp-2Ch]
  int v10; // [esp+30h] [ebp-20h]
  _BYTE v11[4]; // [esp+38h] [ebp-18h] BYREF
  _BYTE v12[4]; // [esp+3Ch] [ebp-14h] BYREF
  _BYTE v13[4]; // [esp+40h] [ebp-10h] BYREF
  _BYTE v14[4]; // [esp+44h] [ebp-Ch] BYREF
  _BYTE v15[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v16[4]; // [esp+4Ch] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 51) )
  {
    Point.x = *a3;
    Point.y = a3[1];
    if ( !*(_DWORD *)(a1 + 43) )
    {
      xerror::MakeString((xerror *)v16, aPrecondition_46, aGethandle_12, aCBc5IncludeOwl_12, 0x5C5u);
      ++v10;
      xmsg::xmsg((xmsg *)v15, (const string *)v16);
      ++v10;
      v9 = 12;
      --v10;
      string::~string((string *)v16);
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    ClientToScreen(*(HWND *)(a1 + 43), &Point);
    v4 = *(_DWORD *)(a1 + 51);
    if ( !*(_DWORD *)(v4 + 12) )
    {
      v9 = 24;
      xerror::MakeString((xerror *)v14, aPrecondition_47, aGethandle_13, aCBc5IncludeOwl_13, 0x593u);
      ++v10;
      xmsg::xmsg((xmsg *)v13, (const string *)v14);
      ++v10;
      v9 = 36;
      --v10;
      string::~string((string *)v14);
      v9 = 24;
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v13, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    ScreenToClient(*(HWND *)(v4 + 12), &Point);
    v5 = (LOWORD(Point.y) << 16) | LOWORD(Point.x);
    v6 = *(_DWORD *)(a1 + 51);
    if ( !*(_DWORD *)(v6 + 12) )
    {
      v9 = 48;
      xerror::MakeString((xerror *)v12, aPrecondition_48, aGethandle_14, aCBc5IncludeOwl_14, 0x53Cu);
      ++v10;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v10;
      v9 = 60;
      --v10;
      string::~string((string *)v12);
      v9 = 48;
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    return PostMessageA(*(HWND *)(v6 + 12), 0x201u, wParam, v5);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041C1C0) --------------------------------------------------------
int __cdecl sub_41C1C0(int a1, WPARAM wParam, LONG *a3)
{
  int result; // eax
  int v4; // esi
  LPARAM v5; // esi
  int v6; // ebx
  struct tagPOINT Point; // [esp+Ch] [ebp-44h] BYREF
  _DWORD v8[4]; // [esp+14h] [ebp-3Ch] BYREF
  __int16 v9; // [esp+24h] [ebp-2Ch]
  int v10; // [esp+30h] [ebp-20h]
  _BYTE v11[4]; // [esp+38h] [ebp-18h] BYREF
  _BYTE v12[4]; // [esp+3Ch] [ebp-14h] BYREF
  _BYTE v13[4]; // [esp+40h] [ebp-10h] BYREF
  _BYTE v14[4]; // [esp+44h] [ebp-Ch] BYREF
  _BYTE v15[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v16[4]; // [esp+4Ch] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 51) )
  {
    Point.x = *a3;
    Point.y = a3[1];
    if ( !*(_DWORD *)(a1 + 43) )
    {
      xerror::MakeString((xerror *)v16, aPrecondition_49, aGethandle_15, aCBc5IncludeOwl_15, 0x5C5u);
      ++v10;
      xmsg::xmsg((xmsg *)v15, (const string *)v16);
      ++v10;
      v9 = 12;
      --v10;
      string::~string((string *)v16);
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    ClientToScreen(*(HWND *)(a1 + 43), &Point);
    v4 = *(_DWORD *)(a1 + 51);
    if ( !*(_DWORD *)(v4 + 12) )
    {
      v9 = 24;
      xerror::MakeString((xerror *)v14, aPrecondition_50, aGethandle_16, aCBc5IncludeOwl_16, 0x593u);
      ++v10;
      xmsg::xmsg((xmsg *)v13, (const string *)v14);
      ++v10;
      v9 = 36;
      --v10;
      string::~string((string *)v14);
      v9 = 24;
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v13, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    ScreenToClient(*(HWND *)(v4 + 12), &Point);
    v5 = (LOWORD(Point.y) << 16) | LOWORD(Point.x);
    v6 = *(_DWORD *)(a1 + 51);
    if ( !*(_DWORD *)(v6 + 12) )
    {
      v9 = 48;
      xerror::MakeString((xerror *)v12, aPrecondition_51, aGethandle_17, aCBc5IncludeOwl_17, 0x53Cu);
      ++v10;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v10;
      v9 = 60;
      --v10;
      string::~string((string *)v12);
      v9 = 48;
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    return PostMessageA(*(HWND *)(v6 + 12), 0x204u, wParam, v5);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041C3E4) --------------------------------------------------------
int __cdecl sub_41C3E4(int a1, WPARAM wParam, unsigned __int16 a3, unsigned __int16 a4)
{
  int result; // eax
  int v5; // ebx
  _DWORD v6[4]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v7; // [esp+1Ch] [ebp-1Ch]
  int v8; // [esp+28h] [ebp-10h]
  _BYTE v9[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v10[4]; // [esp+34h] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 51) )
  {
    v5 = *(_DWORD *)(a1 + 51);
    if ( !*(_DWORD *)(v5 + 12) )
    {
      xerror::MakeString((xerror *)v10, aPrecondition_52, aGethandle_18, aCBc5IncludeOwl_18, 0x53Cu);
      ++v8;
      xmsg::xmsg((xmsg *)v9, (const string *)v10);
      ++v8;
      v7 = 12;
      --v8;
      string::~string((string *)v10);
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    return PostMessageA(*(HWND *)(v5 + 12), 0x100u, wParam, (a4 << 16) | a3);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041C4BE) --------------------------------------------------------
void __cdecl sub_41C4BE(int a1, int a2)
{
  if ( *(_DWORD *)(a1 + 165) )
  {
    if ( a2 != *(_DWORD *)(a1 + 43) )
      sub_41BEC9(a1, 1);
  }
}

//----- (0041C4E2) --------------------------------------------------------
char __cdecl sub_41C4E2(int a1)
{
  if ( !*(_DWORD *)(a1 + 165) )
    return 0;
  sub_41BEC9(a1, 1);
  return 1;
}

//----- (0041C6A3) --------------------------------------------------------
void __cdecl sub_41C6A3(std::strstreambuf *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    std::strstreambuf::~strstreambuf(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041C79A) --------------------------------------------------------
void __cdecl sub_41C79A(std::strstreambuf *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(*(_DWORD *)((char *)a1 + 31) - 4) -= 20;
    TWindow::~TWindow((std::strstreambuf *)((char *)a1 + 31));
    *(_DWORD *)(*(_DWORD *)((char *)a1 + 31) - 4) += 20;
    std::strstreambuf::~strstreambuf(a1);
    if ( (a2 & 2) != 0 )
      TStreamableBase::~TStreamableBase((std::strstreambuf *)((char *)a1 + 193));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041C824) --------------------------------------------------------
bool __cdecl sub_41C824(int a1)
{
  return *(char *)(a1 + 16) == 0;
}

//----- (0041C839) --------------------------------------------------------
bool __cdecl sub_41C839(int a1)
{
  return *(_DWORD *)(a1 + 18) && *(_DWORD *)(*(_DWORD *)(a1 + 22) + 6);
}

//----- (0041C85B) --------------------------------------------------------
bool __cdecl sub_41C85B(_BYTE *a1)
{
  return (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 8))(a1) && a1[17];
}

//----- (0041C87F) --------------------------------------------------------
bool __cdecl sub_41C87F(_BYTE *a1)
{
  return (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)a1 + 12))(a1) && (a1[26] & 1) != 0;
}

//----- (0041C8A3) --------------------------------------------------------
BOOL __cdecl sub_41C8A3(int a1, _BOOL1 a2)
{
  _DWORD v3[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+14h] [ebp-1Ch]
  int v5; // [esp+20h] [ebp-10h]
  _BYTE v6[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !*(_DWORD *)(a1 + 12) )
  {
    v4 = 8;
    xerror::MakeString((xerror *)v7, aPrecondition_53, aGethandle_19, aCBc5IncludeOwl_19, 0x57Fu);
    ++v5;
    xmsg::xmsg((xmsg *)v6, (const string *)v7);
    ++v5;
    v4 = 20;
    --v5;
    string::~string((string *)v7);
    v4 = 8;
    v5 += 2;
    v5 += 3;
    _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
  }
  return EnableWindow(*(HWND *)(a1 + 12), a2);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041C96A) --------------------------------------------------------
void __cdecl sub_41C96A(int a1, char a2)
{
  sub_41C79A((std::strstreambuf *)(a1 - 193), a2);
}

//----- (0041C98C) --------------------------------------------------------
bool __cdecl sub_41C98C(int a1, int a2, int a3)
{
  return sub_41BA0F(a1 - 31, a2, a3);
}

//----- (0041C996) --------------------------------------------------------
void __cdecl sub_41C996(int a1, char a2)
{
  sub_41C79A((std::strstreambuf *)(a1 - 31), a2);
}

//----- (0041CA24) --------------------------------------------------------
void __cdecl sub_41CA24(std::strstreambuf *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    std::strstreambuf::~strstreambuf(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041CAD0) --------------------------------------------------------
int __cdecl sub_41CAD0(int a1, unsigned __int16 a2, char a3)
{
  int i; // eax

  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = &off_444320;
  *(_WORD *)(a1 + 8) = a2;
  *(_DWORD *)(a1 + 4) = operator new[](4 * a2);
  for ( i = 0; a2 > (unsigned __int16)i; ++i )
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 4) + 4 * (unsigned __int16)i + 2) = 0;
    *(_BYTE *)(*(_DWORD *)(a1 + 4) + 4 * (unsigned __int16)i + 1) = 0;
    *(_BYTE *)(*(_DWORD *)(a1 + 4) + 4 * (unsigned __int16)i) = 0;
    *(_BYTE *)(*(_DWORD *)(a1 + 4) + 4 * (unsigned __int16)i + 3) = a3;
  }
  return a1;
}
// 444320: using guessed type int (__cdecl *off_444320)(void *, char);

//----- (0041CB6C) --------------------------------------------------------
int __cdecl sub_41CB6C(int a1, unsigned __int16 a2)
{
  _DWORD v3[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+18h] [ebp-1Ch]
  int v5; // [esp+24h] [ebp-10h]
  _BYTE v6[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a2 >= *(_WORD *)(a1 + 8) )
  {
    v4 = 8;
    xerror::MakeString((xerror *)v7, aPrecondition_54, aIndexNumentrie, aPaletteCpp, 0x19u);
    ++v5;
    xmsg::xmsg((xmsg *)v6, (const string *)v7);
    ++v5;
    v4 = 20;
    --v5;
    string::~string((string *)v7);
    v4 = 8;
    v5 += 2;
    v5 += 3;
    _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
  }
  return *(_DWORD *)(a1 + 4) + 4 * a2;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041CC29) --------------------------------------------------------
UINT __cdecl sub_41CC29(int a1, HPALETTE *a2)
{
  return SetPaletteEntries(*a2, 0, *(unsigned __int16 *)(a1 + 8), *(const PALETTEENTRY **)(a1 + 4));
}

//----- (0041CC49) --------------------------------------------------------
UINT __cdecl sub_41CC49(int a1, HGDIOBJ *a2)
{
  unsigned __int16 v2; // dx
  __int16 v3; // cx
  struct tagPALETTEENTRY *v4; // ebx
  unsigned __int16 v5; // ax
  unsigned __int16 v7; // [esp+Ah] [ebp-6h] BYREF
  __int16 v8; // [esp+Ch] [ebp-4h] BYREF
  unsigned __int16 v9; // [esp+Eh] [ebp-2h] BYREF

  if ( GetObjectA(*a2, 2, &v9) )
    v2 = v9;
  else
    v2 = 0;
  if ( v2 > *(_WORD *)(a1 + 8) )
  {
    operator delete[](*(void **)(a1 + 4));
    if ( GetObjectA(*a2, 2, &v8) )
      v3 = v8;
    else
      v3 = 0;
    *(_WORD *)(a1 + 8) = v3;
    *(_DWORD *)(a1 + 4) = operator new[](4 * *(unsigned __int16 *)(a1 + 8));
  }
  v4 = *(struct tagPALETTEENTRY **)(a1 + 4);
  if ( GetObjectA(*a2, 2, &v7) )
    v5 = v7;
  else
    v5 = 0;
  return GetPaletteEntries((HPALETTE)*a2, 0, v5, v4);
}

//----- (0041CCDD) --------------------------------------------------------
int __cdecl sub_41CCDD(int a1, int a2)
{
  int v3; // eax
  int v4; // [esp-4h] [ebp-C0h]
  _DWORD v5[17]; // [esp+2Ch] [ebp-90h] BYREF
  char v6[76]; // [esp+70h] [ebp-4Ch] BYREF

  __InitExceptBlockLDTC();
  if ( !**(_BYTE **)(*(_DWORD *)a2 + 2) )
    return 0;
  ifstream::ifstream((ifstream *)v5, 0, *(_DWORD *)(*(_DWORD *)a2 + 2), 1);
  if ( (*(_BYTE *)(v5[0] + 12) & 0x86) != 0 )
  {
    ifstream::~ifstream((ifstream *)v5);
    return 0;
  }
  else
  {
    v3 = sub_41CDC2((int)v6, a1);
    LOBYTE(v3) = 1;
    v4 = v3;
    ifstream::~ifstream((ifstream *)v5);
    return v4;
  }
}

//----- (0041CDC2) --------------------------------------------------------
int __cdecl sub_41CDC2(int a1, int a2)
{
  unsigned __int16 v2; // bx
  int v3; // eax
  int v4; // eax
  int v5; // eax
  _BYTE *v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  bool v11; // [esp-4h] [ebp-4Ch]
  _BYTE v12[4]; // [esp+Ch] [ebp-3Ch] BYREF
  _BYTE v13[4]; // [esp+10h] [ebp-38h] BYREF
  _BYTE v14[4]; // [esp+14h] [ebp-34h] BYREF
  _BYTE v15[4]; // [esp+18h] [ebp-30h] BYREF
  __int16 v16; // [esp+2Ch] [ebp-1Ch]
  int v17; // [esp+38h] [ebp-10h]
  _BYTE v18[4]; // [esp+40h] [ebp-8h] BYREF
  _BYTE v19[4]; // [esp+44h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v19);
  operator>>(a1, v19);
  v16 = 32;
  string::string((string *)v18, aVnpalette);
  v11 = string::compare((string *)v19, (const string *)v18) == 0;
  ++v17;
  string::~string((string *)v18);
  if ( v11 )
  {
    istream::operator>>(a1, a2 + 8);
    operator delete[](*(void **)(a2 + 4));
    *(_DWORD *)(a2 + 4) = operator new[](4 * *(unsigned __int16 *)(a2 + 8));
    v2 = 0;
    v16 = 20;
    while ( v2 < *(_WORD *)(a2 + 8) )
    {
      v3 = istream::operator>>(a1, v15);
      v4 = istream::operator>>(v3, v14);
      v5 = istream::operator>>(v4, v13);
      istream::operator>>(v5, v12);
      v6 = (_BYTE *)sub_41CB6C(a2, v2);
      *v6 = v15[0];
      v7 = sub_41CB6C(a2, v2);
      *(_BYTE *)(v7 + 1) = v14[0];
      v8 = sub_41CB6C(a2, v2);
      *(_BYTE *)(v8 + 2) = v13[0];
      v9 = sub_41CB6C(a2, v2);
      *(_BYTE *)(v9 + 3) = v12[0];
      ++v2;
    }
  }
  --v17;
  string::~string((string *)v19);
  return a1;
}
// 438DEA: using guessed type int __cdecl operator>>(_DWORD, _DWORD);
// 438E20: using guessed type int __cdecl istream::operator>>(_DWORD, _DWORD);
// 438EF2: using guessed type int __cdecl istream::operator>>(_DWORD, _DWORD);

//----- (0041CF1F) --------------------------------------------------------
TGdiBase *__cdecl sub_41CF1F(TGdiBase *a1)
{
  char v1; // bl
  _BOOL1 v2; // al
  HDC v4; // [esp+28h] [ebp-24h] BYREF
  int v5; // [esp+2Dh] [ebp-1Fh]

  __InitExceptBlockLDTC();
  TPalette::TPalette(a1, 0, 0);
  TScreenDC::TScreenDC((TScreenDC *)&v4);
  v1 = (*(int (__cdecl **)(HDC *, int))(v5 + 12))(&v4, 14);
  *(_DWORD *)((char *)a1 + 6) = 1 << ((*(int (__cdecl **)(HDC *, int))(v5 + 12))(&v4, 12) * v1);
  if ( ((*(int (__cdecl **)(HDC *, int))(v5 + 12))(&v4, 38) & 0x100) != 0 )
  {
    v2 = *(_DWORD *)((char *)a1 + 6) && *(_DWORD *)((char *)a1 + 6) <= 0x100u;
    *((_BYTE *)a1 + 5) = v2;
  }
  else
  {
    *((_BYTE *)a1 + 5) = 0;
  }
  if ( *((_BYTE *)a1 + 5) )
    *(_DWORD *)a1 = CreateHalftonePalette(v4);
  *((_BYTE *)a1 + 4) = *(_DWORD *)a1 != 0;
  if ( *(_DWORD *)a1 )
  {
    TGdiBase::CheckValid(a1, 0x7FE3u);
    TGdiObject::RefAdd(*(_DWORD *)a1, 4);
  }
  else
  {
    *(_DWORD *)a1 = GetStockObject(15);
  }
  TWindowDC::~TWindowDC((TWindowDC *)&v4);
  return a1;
}
// 4392B2: using guessed type int __cdecl TGdiObject::RefAdd(_DWORD, _DWORD);
// 4396D2: using guessed type int __cdecl TPalette::TPalette(_DWORD, _DWORD, _DWORD);

//----- (0041D15C) --------------------------------------------------------
void __cdecl sub_41D15C(TWindowDC *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TWindowDC::~TWindowDC(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041D38B) --------------------------------------------------------
void __cdecl sub_41D38B(void **a1, char a2)
{
  if ( a1 )
  {
    *a1 = &off_444320;
    operator delete[](a1[1]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 444320: using guessed type int (__cdecl *off_444320)(void *, char);

//----- (0041D3B5) --------------------------------------------------------
void __cdecl sub_41D3B5(TGdiObject *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TGdiObject::~TGdiObject(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041D457) --------------------------------------------------------
void __cdecl sub_41D457(TGdiObject *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TGdiObject::~TGdiObject(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041D4F4) --------------------------------------------------------
TBitmap *__cdecl sub_41D4F4(TBitmap *a1, int a2, int a3, const TPalette *a4)
{
  int v4; // eax
  int v5; // ecx
  int v7; // [esp+34h] [ebp-4h]

  __InitExceptBlockLDTC();
  TBitmap::TBitmap(a1);
  *(_DWORD *)((char *)a1 + 5) = &off_4449EC;
  *(_DWORD *)((char *)a1 + 9) = 0;
  v4 = operator new(0x1Cu);
  v7 = v4;
  if ( v4 )
  {
    TDib::TDib(v4, a2, a3);
    v5 = v7;
  }
  else
  {
    v5 = 0;
  }
  *(_DWORD *)((char *)a1 + 9) = v5;
  TBitmap::Create(a1, *(const TDib **)((char *)a1 + 9), a4);
  return a1;
}
// 4394E6: using guessed type int __cdecl TDib::TDib(_DWORD, _DWORD, _DWORD);
// 4396BA: using guessed type _DWORD TBitmap::Create(TBitmap *__hidden this, const TDib *, const TPalette *);
// 4449EC: using guessed type int (__cdecl *off_4449EC)(TBitmap *, char);

//----- (0041D5D3) --------------------------------------------------------
TBitmap *__cdecl sub_41D5D3(TBitmap *a1, int a2, const TPalette *a3)
{
  TDib *v3; // eax
  TDib *v4; // eax
  TDib *v6; // [esp+30h] [ebp-4h]

  __InitExceptBlockLDTC();
  TBitmap::TBitmap(a1);
  *(_DWORD *)((char *)a1 + 5) = &off_4449EC;
  *(_DWORD *)((char *)a1 + 9) = 0;
  v3 = (TDib *)operator new(0x1Cu);
  v6 = v3;
  if ( v3 )
  {
    TDib::TDib(v3, *(const char **)(*(_DWORD *)a2 + 2));
    v4 = v6;
  }
  else
  {
    v4 = 0;
  }
  *(_DWORD *)((char *)a1 + 9) = v4;
  TBitmap::Create(a1, *(const TDib **)((char *)a1 + 9), a3);
  return a1;
}
// 4396BA: using guessed type _DWORD TBitmap::Create(TBitmap *__hidden this, const TDib *, const TPalette *);
// 4449EC: using guessed type int (__cdecl *off_4449EC)(TBitmap *, char);

//----- (0041D6AE) --------------------------------------------------------
TBitmap *__cdecl sub_41D6AE(TBitmap *a1, int a2, int a3, HPALETTE *a4, unsigned __int16 a5, unsigned __int16 a6)
{
  int v6; // ecx
  int v8; // [esp+34h] [ebp-4h]

  __InitExceptBlockLDTC();
  TBitmap::TBitmap(a1);
  *(_DWORD *)((char *)a1 + 5) = &off_4449EC;
  *(_DWORD *)((char *)a1 + 9) = 0;
  v8 = operator new(0x1Cu);
  if ( v8 )
  {
    TDib::TDib(v8, a2, a3);
    v6 = v8;
  }
  else
  {
    v6 = 0;
  }
  *(_DWORD *)((char *)a1 + 9) = v6;
  sub_41D902((int)a1, a4, a5, a6);
  TBitmap::Create(a1, *(const TDib **)((char *)a1 + 9), (const TPalette *)a4);
  return a1;
}
// 4394E6: using guessed type int __cdecl TDib::TDib(_DWORD, _DWORD, _DWORD);
// 4396BA: using guessed type _DWORD TBitmap::Create(TBitmap *__hidden this, const TDib *, const TPalette *);
// 4449EC: using guessed type int (__cdecl *off_4449EC)(TBitmap *, char);

//----- (0041D7A5) --------------------------------------------------------
TBitmap *__cdecl sub_41D7A5(TBitmap *a1, int a2, HPALETTE *a3, unsigned __int16 a4, unsigned __int16 a5)
{
  TDib *v5; // eax
  TDib *v6; // eax
  TDib *v8; // [esp+30h] [ebp-4h]

  __InitExceptBlockLDTC();
  TBitmap::TBitmap(a1);
  *(_DWORD *)((char *)a1 + 5) = &off_4449EC;
  *(_DWORD *)((char *)a1 + 9) = 0;
  v5 = (TDib *)operator new(0x1Cu);
  v8 = v5;
  if ( v5 )
  {
    TDib::TDib(v5, *(const char **)(*(_DWORD *)a2 + 2));
    v6 = v8;
  }
  else
  {
    v6 = 0;
  }
  *(_DWORD *)((char *)a1 + 9) = v6;
  sub_41D902((int)a1, a3, a4, a5);
  TBitmap::Create(a1, *(const TDib **)((char *)a1 + 9), (const TPalette *)a3);
  return a1;
}
// 4396BA: using guessed type _DWORD TBitmap::Create(TBitmap *__hidden this, const TDib *, const TPalette *);
// 4449EC: using guessed type int (__cdecl *off_4449EC)(TBitmap *, char);

//----- (0041D898) --------------------------------------------------------
void __cdecl sub_41D898(TBitmap *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)((char *)a1 + 5) = &off_4449EC;
    TDib::~TDib(*(TDib **)((char *)a1 + 9));
    TBitmap::~TBitmap(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4449EC: using guessed type int (__cdecl *off_4449EC)(TBitmap *, char);

//----- (0041D902) --------------------------------------------------------
bool __cdecl sub_41D902(int a1, HPALETTE *a2, unsigned __int16 a3, unsigned __int16 a4)
{
  int v4; // ebx
  int v5; // esi
  unsigned __int16 v6; // ax
  unsigned __int16 *v7; // eax
  PALETTEENTRY *v8; // ebx
  int i; // eax
  unsigned __int16 v11; // [esp+Eh] [ebp-2Eh] BYREF
  _DWORD v12[4]; // [esp+10h] [ebp-2Ch] BYREF
  __int16 v13; // [esp+20h] [ebp-1Ch]
  int v14; // [esp+2Ch] [ebp-10h]
  _BYTE v15[4]; // [esp+34h] [ebp-8h] BYREF
  _BYTE v16[4]; // [esp+38h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !*(_DWORD *)(a1 + 9) || !a2 )
  {
    v13 = 8;
    xerror::MakeString((xerror *)v16, aPrecondition_55, aDibPalette, aGdiobjecCpp, 0x52u);
    ++v14;
    xmsg::xmsg((xmsg *)v15, (const string *)v16);
    ++v14;
    v13 = 20;
    --v14;
    string::~string((string *)v16);
    v13 = 8;
    v14 += 2;
    v14 += 3;
    _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v12);
  }
  v4 = *(_DWORD *)(*(_DWORD *)(a1 + 9) + 5);
  v5 = v4 + 40;
  if ( *(_DWORD *)(v4 + 32) )
    v6 = *(_WORD *)(v4 + 32);
  else
    v6 = NColors(*(_WORD *)(v4 + 14));
  v11 = v6;
  if ( v6 >= a4 )
    v7 = &a4;
  else
    v7 = &v11;
  a4 = *v7;
  if ( a4 )
  {
    v8 = (PALETTEENTRY *)operator new[](4 * a4);
    for ( i = 0; (unsigned __int16)i < a4; ++i )
    {
      v8[(unsigned __int16)i].peRed = *(_BYTE *)(v5 + 4 * (unsigned __int16)i + 2);
      v8[(unsigned __int16)i].peGreen = *(_BYTE *)(v5 + 4 * (unsigned __int16)i + 1);
      v8[(unsigned __int16)i].peBlue = *(_BYTE *)(v5 + 4 * (unsigned __int16)i);
      v8[(unsigned __int16)i].peFlags = 5;
    }
    SetPaletteEntries(*a2, a3, a4, v8);
    operator delete[](v8);
  }
  return a4 != 0;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041DA7B) --------------------------------------------------------
void __cdecl sub_41DA7B(_DWORD *a1, char a2)
{
  int v2; // [esp+28h] [ebp-8h]
  int v3; // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_4449DC;
    if ( (a1[3] & 1) != 0 )
    {
      v3 = a1[1];
      if ( v3 )
        (**(void (__cdecl ***)(int, int))(v3 + 5))(v3, 3);
    }
    if ( (a1[3] & 2) != 0 )
    {
      v2 = a1[2];
      if ( v2 )
        (**(void (__cdecl ***)(int, int))(v2 + 5))(v2, 3);
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4449DC: using guessed type int (__cdecl *off_4449DC)(void *, char);

//----- (0041DB0D) --------------------------------------------------------
char __cdecl sub_41DB0D(int a1, TDC *a2, int *a3)
{
  return sub_41DB36(a1, a2, *a3, a3[1], a3[2] - *a3, a3[3] - a3[1]);
}

//----- (0041DB36) --------------------------------------------------------
char __cdecl sub_41DB36(int a1, TDC *a2, int a3, int a4, int a5, int a6)
{
  TMemoryDC *v6; // eax
  TMemoryDC *v7; // esi
  int v9; // [esp+20h] [ebp-A8h]
  int v10; // [esp+24h] [ebp-A4h]
  int v11; // [esp+4Ch] [ebp-7Ch]
  int v12; // [esp+50h] [ebp-78h]
  int v13; // [esp+68h] [ebp-60h]
  int v14; // [esp+6Ch] [ebp-5Ch]
  _BOOL1 v15; // [esp+9Bh] [ebp-2Dh]
  char v16; // [esp+9Bh] [ebp-2Dh]
  _BOOL1 v17; // [esp+9Bh] [ebp-2Dh]
  TMemoryDC *v18; // [esp+C4h] [ebp-4h]

  __InitExceptBlockLDTC();
  v6 = (TMemoryDC *)operator new(0x21u);
  v18 = v6;
  if ( v6 )
  {
    TMemoryDC::TMemoryDC(v6, a2);
    v7 = v18;
  }
  else
  {
    v7 = 0;
  }
  if ( *(_DWORD *)(a1 + 8) )
  {
    if ( a5 == (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 4))(*(_DWORD *)(a1 + 4))
      && (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 8))(*(_DWORD *)(a1 + 4)) == a6 )
    {
      TMemoryDC::SelectObject(v7, *(const TBitmap **)(a1 + 8));
      v15 = BitBlt(*(HDC *)a2, a3, a4, a5, a6, *(HDC *)v7, 0, 0, 0x8800C6u);
      TMemoryDC::SelectObject(v7, *(const TBitmap **)(a1 + 4));
      v16 = BitBlt(*(HDC *)a2, a3, a4, a5, a6, *(HDC *)v7, 0, 0, 0xEE0086u) || v15;
    }
    else
    {
      TMemoryDC::SelectObject(v7, *(const TBitmap **)(a1 + 8));
      v14 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 8))(*(_DWORD *)(a1 + 4));
      v13 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 4))(*(_DWORD *)(a1 + 4));
      v17 = StretchBlt(*(HDC *)a2, a3, a4, a5, a6, *(HDC *)v7, 0, 0, v13, v14, 0x8800C6u);
      TMemoryDC::SelectObject(v7, *(const TBitmap **)(a1 + 4));
      v12 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 8))(*(_DWORD *)(a1 + 4));
      v11 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 4))(*(_DWORD *)(a1 + 4));
      v16 = StretchBlt(*(HDC *)a2, a3, a4, a5, a6, *(HDC *)v7, 0, 0, v11, v12, 0xEE0086u) || v17;
    }
  }
  else
  {
    TMemoryDC::SelectObject(v7, *(const TBitmap **)(a1 + 4));
    if ( a5 == (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 4))(*(_DWORD *)(a1 + 4))
      && (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 8))(*(_DWORD *)(a1 + 4)) == a6 )
    {
      v16 = BitBlt(*(HDC *)a2, a3, a4, a5, a6, *(HDC *)v7, 0, 0, 0xCC0020u);
    }
    else
    {
      v10 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 8))(*(_DWORD *)(a1 + 4));
      v9 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 4) + 5) + 4))(*(_DWORD *)(a1 + 4));
      v16 = StretchBlt(*(HDC *)a2, a3, a4, a5, a6, *(HDC *)v7, 0, 0, v9, v10, 0xCC0020u);
    }
  }
  if ( v7 )
    (**(void (__cdecl ***)(TMemoryDC *, int))((char *)v7 + 5))(v7, 3);
  return v16;
}

//----- (0041DEBB) --------------------------------------------------------
int __cdecl sub_41DEBB(int a1, const void *a2)
{
  double *v3; // edx
  int result; // eax
  double v5; // [esp+1Ch] [ebp-10h] BYREF
  double v6; // [esp+24h] [ebp-8h] BYREF

  qmemcpy((void *)(a1 + 13), a2, 0x10u);
  v6 = (long double)(*(_DWORD *)(a1 + 25) - *(_DWORD *)(a1 + 17))
     / (long double)(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 8))(a1);
  v5 = (long double)(*(_DWORD *)(a1 + 21) - *(_DWORD *)(a1 + 13))
     / (long double)(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 5) + 4))(a1);
  if ( v5 <= (long double)v6 )
    v3 = &v6;
  else
    v3 = &v5;
  *(_DWORD *)(a1 + 29) = *(_DWORD *)v3;
  result = *((_DWORD *)v3 + 1);
  *(_DWORD *)(a1 + 33) = result;
  return result;
}

//----- (0041DF3E) --------------------------------------------------------
_BYTE *__cdecl sub_41DF3E(_BYTE *a1, int a2, int a3, double a4)
{
  qmemcpy(a1 + 4, a1 + 24, 0x10u);
  if ( (a1[40] & 2) != 0 )
  {
    a2 = 0;
    a3 = 0;
  }
  if ( (a1[40] & 4) != 0 )
    a4 = 1.0;
  sub_405119((TRect *)(a1 + 4), a4, &a2);
  return a1 + 4;
}

//----- (0041DFA5) --------------------------------------------------------
TFont *__cdecl sub_41DFA5(int a1, const TFont *a2, int a3)
{
  TFont *result; // eax
  TFont *v4; // edx
  TFont *v5; // [esp+2Ch] [ebp-8h]
  TGdiObject *v6; // [esp+30h] [ebp-4h]

  __InitExceptBlockLDTC();
  *(_DWORD *)(a1 + 48) = a3;
  v6 = *(TGdiObject **)(a1 + 44);
  if ( v6 )
  {
    TGdiObject::~TGdiObject(v6);
    operator delete(v6);
  }
  result = 0;
  *(_DWORD *)(a1 + 44) = 0;
  if ( a2 )
  {
    result = (TFont *)operator new(5u);
    v5 = result;
    if ( result )
    {
      result = TFont::TFont(result, a2);
      v4 = v5;
    }
    else
    {
      v4 = 0;
    }
    *(_DWORD *)(a1 + 44) = v4;
  }
  return result;
}
// 43943E: using guessed type TFont *TFont::TFont(TFont *__hidden this, const TFont *);

//----- (0041E044) --------------------------------------------------------
bool __cdecl sub_41E044(int a1, int a2)
{
  HDC v3; // eax
  int v4; // edx
  int v5; // eax
  bool v6; // ebx
  _BYTE v7[4]; // [esp+Ch] [ebp-4h] BYREF

  if ( !**(_BYTE **)(*(_DWORD *)(a1 + 52) + 2) || !(*(unsigned __int8 (__cdecl **)(int))(*(_DWORD *)a1 + 4))(a1) )
    return 0;
  if ( (*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2) != *(_DWORD *)a2 )
    SetBkMode(*(HDC *)a2, 1);
  v3 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2);
  SetBkMode(v3, 1);
  if ( *(_DWORD *)(a1 + 44) )
    (*(void (__cdecl **)(int, _DWORD))(*(_DWORD *)(a2 + 5) + 20))(a2, *(_DWORD *)(a1 + 44));
  (*(void (__cdecl **)(_BYTE *, int, int))(*(_DWORD *)(a2 + 5) + 36))(v7, a2, a1 + 48);
  LOWORD(v4) = *(_WORD *)(a1 + 56) | 0x400;
  v5 = (*(int (__cdecl **)(int, _DWORD, _DWORD, int, int))(*(_DWORD *)(a2 + 5) + 80))(
         a2,
         *(_DWORD *)(*(_DWORD *)(a1 + 52) + 2),
         *(_DWORD *)(*(_DWORD *)(a1 + 52) + 6),
         a1 + 4,
         v4);
  LOWORD(v5) = *(_WORD *)(a1 + 56);
  v6 = (*(int (__cdecl **)(int, _DWORD, _DWORD, int, int))(*(_DWORD *)(a2 + 5) + 80))(
         a2,
         *(_DWORD *)(*(_DWORD *)(a1 + 52) + 2),
         *(_DWORD *)(*(_DWORD *)(a1 + 52) + 6),
         a1 + 4,
         v5) != 0;
  if ( *(_DWORD *)(a1 + 44) )
    (*(void (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 28))(a2);
  return v6;
}
// 41E0D6: variable 'v4' is possibly undefined

//----- (0041E119) --------------------------------------------------------
void __cdecl sub_41E119(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 29) = &off_4449CC;
    sub_435BC3((int)(a1 + 4), 1, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    sub_435BC3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 4449CC: using guessed type int (__cdecl *off_4449CC)(void *, char);

//----- (0041E206) --------------------------------------------------------
int __cdecl sub_41E206(int *a1, string *a2, int *a3)
{
  int v3; // esi
  unsigned int v5; // [esp+10h] [ebp-3Ch]
  int i; // [esp+14h] [ebp-38h]
  _DWORD v7[4]; // [esp+18h] [ebp-34h] BYREF
  __int16 v8; // [esp+28h] [ebp-24h]
  int v9; // [esp+34h] [ebp-18h]
  char v10[4]; // [esp+3Ch] [ebp-10h] BYREF
  char v11[4]; // [esp+40h] [ebp-Ch] BYREF
  char v12[4]; // [esp+44h] [ebp-8h] BYREF
  char v13[4]; // [esp+48h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  for ( i = 0; ; ++i )
  {
    if ( (*(int (__cdecl **)(int *))(*(int *)((char *)a1 + 5) + 4))(a1 + 1) <= i )
    {
      if ( a3 )
        *a3 = 0x7FFFFFFF;
      return 0;
    }
    if ( i < *a1 || i - *a1 >= *(unsigned int *)((char *)a1 + 13) )
    {
      xerror::MakeString((xerror *)v13, aPrecondition_56, aLocLowerboundZ_3, aCBc5IncludeCla_24, 0x15Eu);
      ++v9;
      xmsg::xmsg((xmsg *)v12, (const string *)v13);
      ++v9;
      v8 = 12;
      --v9;
      string::~string((string *)v13);
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    v5 = i - *a1;
    if ( !*(int *)((char *)a1 + 13) || !*(int *)((char *)a1 + 9) || v5 >= *(int *)((char *)a1 + 13) )
    {
      xerror::MakeString((xerror *)v11, aPrecondition_57, aLim0Data0Index_13, aCBc5IncludeCla_25, 0x33Au);
      ++v9;
      xmsg::xmsg((xmsg *)v10, (const string *)v11);
      ++v9;
      v8 = 24;
      --v9;
      string::~string((string *)v11);
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    v3 = *(_DWORD *)(*(int *)((char *)a1 + 9) + 4 * v5);
    if ( !string::compare((string *)(v3 + 20), a2) )
      break;
  }
  if ( a3 )
    *a3 = i;
  return v3;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041E3BD) --------------------------------------------------------
int __cdecl sub_41E3BD(int *a1, int a2)
{
  int v2; // edi
  int v3; // eax
  unsigned int v5; // [esp+10h] [ebp-54h]
  int v6; // [esp+18h] [ebp-4Ch]
  int v7; // [esp+20h] [ebp-44h]
  int v8; // [esp+24h] [ebp-40h]
  int v9; // [esp+28h] [ebp-3Ch] BYREF
  _DWORD v10[4]; // [esp+2Ch] [ebp-38h] BYREF
  __int16 v11; // [esp+3Ch] [ebp-28h]
  int v12; // [esp+48h] [ebp-1Ch]
  void (__cdecl ***v13)(_DWORD, int); // [esp+50h] [ebp-14h]
  _BYTE v14[4]; // [esp+54h] [ebp-10h] BYREF
  _BYTE v15[4]; // [esp+58h] [ebp-Ch] BYREF
  _BYTE v16[4]; // [esp+5Ch] [ebp-8h] BYREF
  _BYTE v17[4]; // [esp+60h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    v11 = 8;
    xerror::MakeString((xerror *)v17, aPrecondition_58, aANull, aGdiobjecCpp_0, 0xF0u);
    ++v12;
    xmsg::xmsg((xmsg *)v16, (const string *)v17);
    ++v12;
    v11 = 20;
    --v12;
    string::~string((string *)v17);
    v11 = 8;
    v12 += 2;
    v12 += 3;
    _ThrowExceptionLDTC(stru_403B88, v16, 0, sub_403BE0, 1u, 0, 0, 0, v10);
  }
  v8 = sub_41E206(a1, (string *)(a2 + 20), &v9);
  if ( !v8 )
    return sub_435A6A((int)(a1 + 1), a2);
  v7 = v9;
  v2 = v9 + 1;
  if ( v9 + 1 >= *a1 )
  {
    v6 = *(int *)((char *)a1 + 13);
    if ( v6 == -1 )
      v3 = 0x7FFFFFFF;
    else
      v3 = *a1 + v6;
    if ( v2 >= v3 )
      sub_406954((int)(a1 + 1), v2 - *a1, 0);
  }
  else
  {
    sub_406954((int)(a1 + 1), *(int *)((char *)a1 + 13) + v2 - *a1, 0);
  }
  v5 = v7 - *a1;
  if ( *(int *)((char *)a1 + 13) && (!*(int *)((char *)a1 + 9) || *(int *)((char *)a1 + 13) <= v5) )
  {
    v11 = 32;
    xerror::MakeString((xerror *)v15, aPrecondition_59, aLim0Data0Index_14, aCBc5IncludeCla_26, 0x334u);
    ++v12;
    xmsg::xmsg((xmsg *)v14, (const string *)v15);
    ++v12;
    v11 = 44;
    --v12;
    string::~string((string *)v15);
    v11 = 32;
    v12 += 2;
    v12 += 3;
    _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v10);
  }
  *(_DWORD *)(4 * v5 + *(int *)((char *)a1 + 9)) = a2;
  v13 = (void (__cdecl ***)(_DWORD, int))v8;
  v11 = 68;
  (**v13)(v13, 3);
  v11 = 56;
  return 1;
}
// 41E5B0: conditional instruction was optimized away because %var_40.4!=0
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041E882) --------------------------------------------------------
int __cdecl sub_41E882(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 9) + 5) + 4);
}

//----- (0041E893) --------------------------------------------------------
int __cdecl sub_41E893(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(a1 + 9) + 5) + 8);
}

//----- (0041E8F4) --------------------------------------------------------
void __cdecl sub_41E8F4(TGdiObject *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TGdiObject::~TGdiObject(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0041E9A2) --------------------------------------------------------
void __cdecl sub_41E9A2(_DWORD *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_444A04;
    string::~string((string *)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 444A04: using guessed type int (__cdecl *off_444A04)(void *, char);

//----- (0041E9FE) --------------------------------------------------------
bool __cdecl sub_41E9FE(int a1)
{
  return (*(_BYTE *)(a1 + 40) & 1) == 0;
}

//----- (0041EA10) --------------------------------------------------------
bool __cdecl sub_41EA10(int a1, int a2)
{
  return a2 == a1 || !string::compare((string *)(a1 + 20), (const string *)(a2 + 20));
}

//----- (0041EA49) --------------------------------------------------------
void __cdecl sub_41EA49(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_435BC3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041EB64) --------------------------------------------------------
void __cdecl sub_41EB64(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_435BC3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041EC9F) --------------------------------------------------------
void __cdecl sub_41EC9F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_435BC3((int)(a1 + 4), *(_DWORD *)(a1 + 25) == 2, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 17) = 0;
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041EE33) --------------------------------------------------------
void __cdecl sub_41EE33(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_43B500;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041EF0A) --------------------------------------------------------
void __cdecl sub_41EF0A(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041EFD9) --------------------------------------------------------
void __cdecl sub_41EFD9(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_43B500;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);

//----- (0041F028) --------------------------------------------------------
LPSTR __cdecl sub_41F028(CHAR *s)
{
  _DWORD v2[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v3; // [esp+14h] [ebp-1Ch]
  int v4; // [esp+20h] [ebp-10h]
  _BYTE v5[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !s )
  {
    v3 = 8;
    xerror::MakeString((xerror *)v6, aPrecondition_60, aFont, aHtmldataCpp, 0x31u);
    ++v4;
    xmsg::xmsg((xmsg *)v5, (const string *)v6);
    ++v4;
    v3 = 20;
    --v4;
    string::~string((string *)v6);
    v3 = 8;
    v4 += 2;
    v4 += 3;
    _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
  }
  memset(s, 0, 0x3Cu);
  *(_DWORD *)s = -MulDiv(nNumber, nNumerator, 72);
  *((_DWORD *)s + 4) = 400;
  s[23] = 1;
  s[24] = 0;
  s[25] = 0;
  s[26] = 0;
  s[27] = 0;
  return lstrcpyA(s + 28, String2);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0041F121) --------------------------------------------------------
int __cdecl sub_41F121(int a1)
{
  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 68) = TColor::Black;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  *(_BYTE *)(a1 + 80) = 0;
  *(_BYTE *)(a1 + 81) = 0;
  sub_41F231(a1, 0);
  return a1;
}

//----- (0041F1CF) --------------------------------------------------------
int __cdecl sub_41F1CF(int a1, int a2)
{
  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = *(_DWORD *)a2;
  *(_DWORD *)(a1 + 64) = *(_DWORD *)(a2 + 64);
  *(_DWORD *)(a1 + 68) = *(_DWORD *)(a2 + 68);
  *(_DWORD *)(a1 + 72) = *(_DWORD *)(a2 + 72);
  *(_DWORD *)(a1 + 76) = *(_DWORD *)(a2 + 76);
  *(_BYTE *)(a1 + 80) = *(_BYTE *)(a2 + 80);
  *(_BYTE *)(a1 + 81) = *(_BYTE *)(a2 + 81);
  sub_41F231(a1, a2 + 4);
  return a1;
}

//----- (0041F231) --------------------------------------------------------
LPSTR __cdecl sub_41F231(int a1, int a2)
{
  if ( !a2 )
    return sub_41F028((CHAR *)(a1 + 4));
  memset((void *)(a1 + 4), 0, 0x3Cu);
  *(_DWORD *)(a1 + 4) = *(_DWORD *)a2;
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(a1 + 16) = *(_DWORD *)(a2 + 12);
  *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 16);
  *(_BYTE *)(a1 + 24) = *(_BYTE *)(a2 + 20);
  *(_BYTE *)(a1 + 25) = *(_BYTE *)(a2 + 21);
  *(_BYTE *)(a1 + 26) = *(_BYTE *)(a2 + 22);
  *(_BYTE *)(a1 + 27) = *(_BYTE *)(a2 + 23);
  *(_BYTE *)(a1 + 28) = *(_BYTE *)(a2 + 24);
  *(_BYTE *)(a1 + 29) = *(_BYTE *)(a2 + 25);
  *(_BYTE *)(a1 + 30) = *(_BYTE *)(a2 + 26);
  *(_BYTE *)(a1 + 31) = *(_BYTE *)(a2 + 27);
  return lstrcpyA((LPSTR)(a1 + 32), (LPCSTR)(a2 + 28));
}

//----- (0041F2BA) --------------------------------------------------------
int __cdecl sub_41F2BA(int a1, int a2)
{
  *(_DWORD *)a1 = *(_DWORD *)a2;
  *(_DWORD *)(a1 + 64) = *(_DWORD *)(a2 + 64);
  *(_DWORD *)(a1 + 68) = *(_DWORD *)(a2 + 68);
  *(_DWORD *)(a1 + 72) = *(_DWORD *)(a2 + 72);
  *(_DWORD *)(a1 + 76) = *(_DWORD *)(a2 + 76);
  *(_BYTE *)(a1 + 80) = *(_BYTE *)(a2 + 80);
  *(_BYTE *)(a1 + 81) = *(_BYTE *)(a2 + 81);
  sub_41F231(a1, a2 + 4);
  return a1;
}

//----- (0041F302) --------------------------------------------------------
_DWORD *__cdecl sub_41F302(_DWORD *a1, int a2)
{
  void *v2; // eax
  void *v3; // eax

  __InitExceptBlockLDTC();
  *a1 = &off_446A88;
  a1[1] = 0;
  *(_DWORD *)((char *)a1 + 9) = off_446A30;
  v2 = (void *)operator new[](0x52u);
  *(_DWORD *)((char *)a1 + 13) = _vector_new_ldtc_(v2, 0x52u, 1u, 1u, sub_41F121, 0, 0);
  *(_DWORD *)((char *)a1 + 17) = 1;
  *(_DWORD *)((char *)a1 + 9) = off_446A4C;
  *(_DWORD *)((char *)a1 + 9) = off_446A68;
  *(_DWORD *)((char *)a1 + 21) = 0;
  *(_DWORD *)((char *)a1 + 25) = 5;
  *(_DWORD *)((char *)a1 + 29) = 0;
  *(_DWORD *)((char *)a1 + 34) = off_4469D8;
  v3 = (void *)operator new[](0x14u);
  *(_DWORD *)((char *)a1 + 38) = _vector_new_ldtc_(v3, 0x14u, 1u, 1u, sub_4231B0, 0, 0);
  *(_DWORD *)((char *)a1 + 42) = 1;
  *(_DWORD *)((char *)a1 + 34) = off_4469F4;
  *(_DWORD *)((char *)a1 + 34) = off_446A10;
  *(_DWORD *)((char *)a1 + 46) = 0;
  *(_DWORD *)((char *)a1 + 50) = 5;
  string::string((string *)((char *)a1 + 54), &byte_44642C);
  *(_DWORD *)((char *)a1 + 58) = a2;
  *(_DWORD *)((char *)a1 + 62) = 0;
  return a1;
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);
// 4469F4: using guessed type int (__cdecl *off_4469F4[2])(int);
// 446A10: using guessed type int (__cdecl *off_446A10[3])(int);
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);
// 446A4C: using guessed type int (__cdecl *off_446A4C[2])(int);
// 446A68: using guessed type int (__cdecl *off_446A68[3])(int);
// 446A88: using guessed type int (__cdecl *off_446A88)(int);

//----- (0041F598) --------------------------------------------------------
void __cdecl sub_41F598(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)a1 = &off_446A88;
    sub_421AAF((int)a1);
    string::~string((string *)(a1 + 54));
    *(_DWORD *)(a1 + 34) = off_4469D8;
    operator delete[](*(void **)(a1 + 38));
    *(_DWORD *)(a1 + 9) = off_446A30;
    operator delete[](*(void **)(a1 + 13));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);
// 446A88: using guessed type int (__cdecl *off_446A88)(int);

//----- (0041F6AE) --------------------------------------------------------
int __cdecl sub_41F6AE(int a1, int a2, int a3)
{
  int v4; // eax
  int v5; // [esp-4h] [ebp-BCh]
  _DWORD v6[17]; // [esp+28h] [ebp-90h] BYREF
  _BYTE v7[76]; // [esp+6Ch] [ebp-4Ch] BYREF

  __InitExceptBlockLDTC();
  sub_421AAF(a1);
  *(_DWORD *)(a1 + 58) = a3;
  ifstream::ifstream((ifstream *)v6, 0, *(_DWORD *)(*(_DWORD *)a2 + 2), 1);
  if ( (*(_BYTE *)(v6[0] + 12) & 0x86) != 0 )
  {
    ifstream::~ifstream((ifstream *)v6);
    return 0;
  }
  else
  {
    string::read_file((string *)(a1 + 54), (istream *)v7);
    v4 = fstreambase::close((fstreambase *)v6);
    LOBYTE(v4) = 1;
    v5 = v4;
    ifstream::~ifstream((ifstream *)v6);
    return v5;
  }
}

//----- (0041F790) --------------------------------------------------------
int __cdecl sub_41F790(int a1, string *a2, unsigned int a3)
{
  int first_of; // edi
  _DWORD v5[4]; // [esp+Ch] [ebp-38h] BYREF
  __int16 v6; // [esp+1Ch] [ebp-28h]
  int v7; // [esp+28h] [ebp-1Ch]
  _BYTE v8[4]; // [esp+30h] [ebp-14h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-10h] BYREF
  _BYTE v10[4]; // [esp+38h] [ebp-Ch] BYREF
  _BYTE v11[4]; // [esp+3Ch] [ebp-8h] BYREF
  _BYTE v12[4]; // [esp+40h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *(_BYTE *)string::operator()(a1 + 54, a3) != 60 )
  {
    v6 = 8;
    xerror::MakeString((xerror *)v12, aPrecondition_61, aTextStart, aHtmldataCpp_0, 0xAEu);
    ++v7;
    xmsg::xmsg((xmsg *)v11, (const string *)v12);
    ++v7;
    v6 = 20;
    --v7;
    string::~string((string *)v12);
    v6 = 8;
    v7 += 2;
    v7 += 3;
    _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v5);
  }
  v6 = 44;
  string::string((string *)v10, asc_44645A);
  ++v7;
  first_of = string::find_first_of((string *)(a1 + 54), (const string *)v10, a3);
  --v7;
  string::~string((string *)v10);
  v6 = 32;
  if ( first_of == -1 )
  {
    v6 = 56;
    string::string((string *)v9, &byte_44645C);
    ++v7;
    string::assign(a2, (const string *)v9, 0, 0xFFFFFFFF);
    --v7;
    string::~string((string *)v9);
    return *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6);
  }
  else
  {
    v6 = 68;
    string::substr((string *)v8, a1 + 54, a3 + 1);
    ++v7;
    string::assign(a2, (const string *)v8, 0, 0xFFFFFFFF);
    --v7;
    string::~string((string *)v8);
    return first_of + 1;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 438EE0: using guessed type int __cdecl string::operator()(_DWORD, _DWORD);

//----- (0041F93B) --------------------------------------------------------
unsigned int __cdecl sub_41F93B(int a1, string *a2, string *a3, string *a4, unsigned int a5)
{
  unsigned int result; // eax
  unsigned int i; // ebx

  result = string::find(a2, a3, a5);
  for ( i = result; result != -1; i = result )
  {
    string::replace(a2, i, *(_DWORD *)(*(_DWORD *)a3 + 6), a4, 0, 0xFFFFFFFF);
    result = string::find(a2, a3, *(_DWORD *)(*(_DWORD *)a4 + 6) + i);
  }
  return result;
}

//----- (0041F99A) --------------------------------------------------------
void __cdecl sub_41F99A(int a1, string *a2)
{
  unsigned int v2; // esi
  int i; // ebx
  _BYTE v4[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v5[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v5, asc_44645D);
  v2 = string::find(a2, (const string *)v5, 0);
  string::~string((string *)v5);
  while ( v2 != -1 )
  {
    for ( i = 0; *(_DWORD *)(dword_444A38[i] + 6); i += 2 )
    {
      if ( !string::compare((string *)&dword_444A38[i], a2, v2, *(_DWORD *)(dword_444A38[i] + 6)) )
      {
        sub_41F93B(a1, a2, (string *)&dword_444A38[i], (string *)&dword_444A38[i + 1], v2);
        break;
      }
    }
    string::string((string *)v4, asc_44645F);
    v2 = string::find(a2, (const string *)v4, v2 + 1);
    string::~string((string *)v4);
  }
}
// 444A38: using guessed type _DWORD dword_444A38[1];

//----- (0041FAA4) --------------------------------------------------------
void __cdecl sub_41FAA4(int a1, string *a2, int *a3)
{
  unsigned int v3; // ebx
  int first_of; // ebx
  unsigned int v5; // ebx
  int v6; // [esp+10h] [ebp-3Ch]
  int v7; // [esp+38h] [ebp-14h] BYREF
  int v8; // [esp+3Ch] [ebp-10h] BYREF
  _BYTE v9[4]; // [esp+40h] [ebp-Ch] BYREF
  _BYTE v10[4]; // [esp+44h] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+48h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  *a3 = -1;
  string::string((string *)v11, aHref);
  v3 = string::find(a2, (const string *)v11, 0);
  string::~string((string *)v11);
  if ( v3 != -1 )
  {
    string::string((string *)v10, asc_446466);
    first_of = string::find_first_of(a2, (const string *)v10, v3);
    string::~string((string *)v10);
    if ( first_of != -1 )
    {
      v5 = first_of + 1;
      string::string((string *)v9, asc_446469);
      v6 = string::find_first_of(a2, (const string *)v9, v5);
      string::~string((string *)v9);
      if ( v6 != -1 && v6 != v5 )
      {
        string::substr((string *)&v7, (unsigned int)a2, v5);
        string::string((string *)&v8, *(const char **)(v7 + 2));
        string::~string((string *)&v7);
        if ( *(char *)string::operator()(&v8, 0) >= 48 && *(char *)string::operator()(&v8, 0) <= 57 )
          *a3 = atol(*(const char **)(v8 + 2));
        string::~string((string *)&v8);
      }
    }
  }
}
// 438EE0: using guessed type int __cdecl string::operator()(_DWORD, _DWORD);

//----- (0041FC53) --------------------------------------------------------
void __cdecl sub_41FC53(int a1, int a2, string *a3)
{
  int v3; // ebx
  unsigned int v4; // ebx
  int first_of; // ebx
  unsigned int v6; // ebx
  int v7; // ebx
  int v8; // [esp+14h] [ebp-64h] BYREF
  int *v9; // [esp+18h] [ebp-60h]
  int v10; // [esp+1Ch] [ebp-5Ch]
  int *v11; // [esp+20h] [ebp-58h]
  int *v12; // [esp+24h] [ebp-54h]
  int v13; // [esp+28h] [ebp-50h]
  int v14; // [esp+2Ch] [ebp-4Ch] BYREF
  __int16 v15; // [esp+40h] [ebp-38h]
  int v16; // [esp+4Ch] [ebp-2Ch]
  int v17; // [esp+54h] [ebp-24h] BYREF
  _BYTE v18[4]; // [esp+58h] [ebp-20h] BYREF
  int v19; // [esp+5Ch] [ebp-1Ch] BYREF
  _BYTE v20[4]; // [esp+60h] [ebp-18h] BYREF
  _BYTE v21[4]; // [esp+64h] [ebp-14h] BYREF
  _BYTE v22[4]; // [esp+68h] [ebp-10h] BYREF
  int v23; // [esp+6Ch] [ebp-Ch] BYREF
  int v24; // [esp+70h] [ebp-8h] BYREF
  _BYTE v25[4]; // [esp+74h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v25, aSize);
  v3 = string::find(a3, (const string *)v25, 0);
  string::~string((string *)v25);
  v15 = 8;
  if ( v3 != -1 )
  {
    v14 = 0;
    v15 = 44;
    string::substr((string *)&v24, (unsigned int)a3);
    ++v16;
    v12 = &v24;
    v13 = sscanf(*(const char **)(v24 + 2), "SIZE=\"%i\"", &v14);
    --v16;
    string::~string((string *)&v24);
    v15 = 32;
    if ( !v13 )
    {
      v15 = 56;
      string::substr((string *)&v23, (unsigned int)a3);
      ++v16;
      v11 = &v23;
      sscanf(*(const char **)(v23 + 2), "SIZE=%i", &v14);
      --v16;
      string::~string((string *)&v23);
    }
    v14 += v14 < 0 ? 3 : 0;
    if ( v14 > 0 && v14 <= 7 )
      *(_DWORD *)(a2 + 4) = -MulDiv(*(&off_444A14 + v14), nNumerator, 72);
  }
  v15 = 68;
  string::string((string *)v22, aFace);
  ++v16;
  v4 = string::find(a3, (const string *)v22, 0);
  --v16;
  string::~string((string *)v22);
  if ( v4 != -1 )
  {
    v15 = 80;
    string::string((string *)v21, asc_446489);
    ++v16;
    first_of = string::find_first_of(a3, (const string *)v21, v4);
    --v16;
    string::~string((string *)v21);
    if ( first_of != -1 )
    {
      v6 = first_of + 1;
      v15 = 92;
      string::string((string *)v20, asc_44648B);
      ++v16;
      v10 = string::find_first_of(a3, (const string *)v20, v6);
      --v16;
      string::~string((string *)v20);
      if ( v10 != -1 )
      {
        v15 = 104;
        string::substr((string *)&v19, (unsigned int)a3, v6);
        ++v16;
        v9 = &v19;
        lstrcpyA((LPSTR)(a2 + 32), *(LPCSTR *)(v19 + 2));
        --v16;
        string::~string((string *)&v19);
      }
    }
  }
  v15 = 116;
  string::string((string *)v18, aColor);
  ++v16;
  v7 = string::find(a3, (const string *)v18, 0);
  --v16;
  string::~string((string *)v18);
  if ( v7 != -1 )
  {
    v15 = 128;
    string::substr((string *)&v17, (unsigned int)a3);
    ++v16;
    sscanf(*(const char **)(v17 + 2), "COLOR=\"#%lX\"", &v8);
    --v16;
    string::~string((string *)&v17);
    v8 &= 0xFFFFFFu;
    *(_DWORD *)(a2 + 68) = ((unsigned __int8)v8 << 16) | (BYTE1(v8) << 8) | BYTE2(v8);
  }
}

//----- (0041FF8F) --------------------------------------------------------
int __cdecl sub_41FF8F(int a1, int a2, _DWORD *a3, int a4, char a5, unsigned __int8 a6)
{
  size_t v6; // esi
  char buffer[256]; // [esp+Ch] [ebp-128h] BYREF
  _BYTE v9[4]; // [esp+10Ch] [ebp-28h] BYREF
  int v10; // [esp+110h] [ebp-24h]
  int v11; // [esp+114h] [ebp-20h]
  int v12; // [esp+118h] [ebp-1Ch]
  int v13; // [esp+11Ch] [ebp-18h]
  int v14; // [esp+120h] [ebp-14h]
  int v15; // [esp+124h] [ebp-10h]
  int v16; // [esp+128h] [ebp-Ch]
  int v17; // [esp+12Ch] [ebp-8h]
  _BYTE v18[4]; // [esp+130h] [ebp-4h] BYREF

  if ( a6 )
    sprintf(buffer, "%u.", a6);
  else
    strcpy(buffer, &src);
  v6 = strlen(buffer);
  if ( a5 )
  {
    if ( (*(_BYTE *)(a1 + 58) & 3) != 0 )
    {
      (*(void (__cdecl **)(_BYTE *, int, TColor *))(*(_DWORD *)(a2 + 5) + 36))(v18, a2, TColor::White);
      v17 = a3[1] + 1;
      v16 = *a3 + 1;
      v14 = v16;
      v15 = v17;
      (*(void (__cdecl **)(int, int, int, int, int, char *, size_t, _DWORD))(*(_DWORD *)(a2 + 5) + 72))(
        a2,
        v16,
        v17,
        4,
        a4,
        buffer,
        v6,
        0);
      if ( (*(_BYTE *)(a1 + 58) & 2) != 0 )
      {
        v13 = a3[1] - 1;
        v12 = *a3 - 1;
        v10 = v12;
        v11 = v13;
        (*(void (__cdecl **)(int, int, int, int, int, char *, size_t, _DWORD))(*(_DWORD *)(a2 + 5) + 72))(
          a2,
          v12,
          v13,
          4,
          a4,
          buffer,
          v6,
          0);
      }
    }
  }
  (*(void (__cdecl **)(_BYTE *, int, TColor *))(*(_DWORD *)(a2 + 5) + 36))(v9, a2, TColor::Black);
  return (*(int (__cdecl **)(int, _DWORD, _DWORD, int, int, char *, size_t, _DWORD))(*(_DWORD *)(a2 + 5) + 72))(
           a2,
           *a3,
           a3[1],
           4,
           a4,
           buffer,
           v6,
           0);
}

//----- (004200CF) --------------------------------------------------------
void __cdecl sub_4200CF(int a1, int a2, _DWORD *a3, char a4)
{
  _DWORD *v4; // esi
  int v5; // ecx
  unsigned int v6; // esi
  HDC v7; // eax
  HDC v8; // eax
  TFont *v9; // eax
  _BOOL1 v10; // al
  _BOOL1 v11; // al
  _BOOL1 v12; // cl
  _BOOL1 v13; // cl
  _BOOL1 v14; // cl
  _BOOL1 v15; // al
  TFont *v16; // eax
  HDC v17; // eax
  _BOOL1 v18; // al
  int *v19; // eax
  HDC v20; // eax
  int v21; // eax
  int v22; // edx
  int v23; // eax
  const CHAR *v24; // [esp-Ch] [ebp-2A4h]
  const CHAR *v25; // [esp-Ch] [ebp-2A4h]
  int v26; // [esp-8h] [ebp-2A0h]
  int v27; // [esp-8h] [ebp-2A0h]
  bool v28; // [esp-4h] [ebp-29Ch]
  bool v29; // [esp-4h] [ebp-29Ch]
  bool v30; // [esp-4h] [ebp-29Ch]
  bool v31; // [esp-4h] [ebp-29Ch]
  bool v32; // [esp-4h] [ebp-29Ch]
  bool v33; // [esp-4h] [ebp-29Ch]
  bool v34; // [esp-4h] [ebp-29Ch]
  bool v35; // [esp-4h] [ebp-29Ch]
  bool v36; // [esp-4h] [ebp-29Ch]
  bool v37; // [esp-4h] [ebp-29Ch]
  bool v38; // [esp-4h] [ebp-29Ch]
  bool v39; // [esp-4h] [ebp-29Ch]
  bool v40; // [esp-4h] [ebp-29Ch]
  bool v41; // [esp-4h] [ebp-29Ch]
  bool v42; // [esp-4h] [ebp-29Ch]
  bool v43; // [esp-4h] [ebp-29Ch]
  bool v44; // [esp-4h] [ebp-29Ch]
  bool v45; // [esp-4h] [ebp-29Ch]
  _BOOL1 v46; // [esp-4h] [ebp-29Ch]
  bool v47; // [esp-4h] [ebp-29Ch]
  _BOOL1 v48; // [esp-4h] [ebp-29Ch]
  _BOOL1 v49; // [esp-4h] [ebp-29Ch]
  _BOOL1 v50; // [esp-4h] [ebp-29Ch]
  _BOOL1 v51; // [esp-4h] [ebp-29Ch]
  _BOOL1 v52; // [esp-4h] [ebp-29Ch]
  _BOOL1 v53; // [esp-4h] [ebp-29Ch]
  _BOOL1 v54; // [esp-4h] [ebp-29Ch]
  int v55; // [esp+Ch] [ebp-28Ch] BYREF
  int v56; // [esp+10h] [ebp-288h]
  int v57; // [esp+14h] [ebp-284h]
  int v58; // [esp+18h] [ebp-280h]
  int v59; // [esp+1Ch] [ebp-27Ch]
  unsigned int v60; // [esp+20h] [ebp-278h] BYREF
  tagLOGFONTA v61; // [esp+24h] [ebp-274h] BYREF
  TColor *v62; // [esp+64h] [ebp-234h] BYREF
  int v63; // [esp+68h] [ebp-230h]
  int v64; // [esp+6Ch] [ebp-22Ch]
  char v65; // [esp+70h] [ebp-228h]
  unsigned __int8 v66; // [esp+71h] [ebp-227h]
  char v67[84]; // [esp+74h] [ebp-224h] BYREF
  _DWORD *v68; // [esp+C8h] [ebp-1D0h]
  unsigned int v69; // [esp+CCh] [ebp-1CCh]
  unsigned int v70; // [esp+D0h] [ebp-1C8h]
  int v71; // [esp+D4h] [ebp-1C4h]
  unsigned int v72; // [esp+D8h] [ebp-1C0h]
  int v73; // [esp+DCh] [ebp-1BCh]
  _DWORD *v74; // [esp+E0h] [ebp-1B8h]
  int v75; // [esp+E4h] [ebp-1B4h]
  _DWORD *v76; // [esp+E8h] [ebp-1B0h]
  char v77[4]; // [esp+ECh] [ebp-1ACh] BYREF
  char v78[4]; // [esp+F0h] [ebp-1A8h] BYREF
  int v79; // [esp+F4h] [ebp-1A4h]
  int v80; // [esp+F8h] [ebp-1A0h]
  int v81; // [esp+FCh] [ebp-19Ch]
  int v82; // [esp+100h] [ebp-198h]
  _DWORD *v83; // [esp+104h] [ebp-194h]
  int v84; // [esp+108h] [ebp-190h]
  int v85; // [esp+10Ch] [ebp-18Ch]
  int v86; // [esp+110h] [ebp-188h]
  int v87; // [esp+114h] [ebp-184h]
  int v88; // [esp+118h] [ebp-180h]
  int v89; // [esp+11Ch] [ebp-17Ch]
  _DWORD *v90; // [esp+120h] [ebp-178h]
  int v91; // [esp+124h] [ebp-174h]
  int v92; // [esp+128h] [ebp-170h]
  char v93[4]; // [esp+12Ch] [ebp-16Ch] BYREF
  LPCSTR v94; // [esp+130h] [ebp-168h]
  int v95; // [esp+134h] [ebp-164h]
  _DWORD v96[3]; // [esp+138h] [ebp-160h] BYREF
  _BOOL1 v97; // [esp+147h] [ebp-151h]
  LPCSTR v98; // [esp+148h] [ebp-150h]
  int v99; // [esp+14Ch] [ebp-14Ch]
  unsigned int v100; // [esp+150h] [ebp-148h]
  unsigned int v101; // [esp+154h] [ebp-144h]
  unsigned int v102; // [esp+158h] [ebp-140h]
  unsigned int v103; // [esp+15Ch] [ebp-13Ch]
  unsigned int v104; // [esp+160h] [ebp-138h]
  unsigned int v105; // [esp+164h] [ebp-134h]
  unsigned int v106; // [esp+168h] [ebp-130h]
  unsigned int v107; // [esp+16Ch] [ebp-12Ch]
  _BOOL1 v108; // [esp+173h] [ebp-125h]
  TColor *v109; // [esp+174h] [ebp-124h]
  int v110; // [esp+178h] [ebp-120h]
  char v111; // [esp+17Fh] [ebp-119h]
  unsigned int v112; // [esp+180h] [ebp-118h]
  int v113; // [esp+184h] [ebp-114h]
  struct tagSIZE v114; // [esp+188h] [ebp-110h]
  _DWORD *v115; // [esp+190h] [ebp-108h]
  int v116; // [esp+194h] [ebp-104h] BYREF
  int v117; // [esp+198h] [ebp-100h]
  unsigned int first_of; // [esp+19Ch] [ebp-FCh]
  struct tagSIZE v119; // [esp+1A0h] [ebp-F8h] BYREF
  int v120; // [esp+1A8h] [ebp-F0h]
  int v121; // [esp+1ACh] [ebp-ECh]
  unsigned int v122; // [esp+1B0h] [ebp-E8h]
  unsigned int v123; // [esp+1B4h] [ebp-E4h]
  int v124; // [esp+1B8h] [ebp-E0h]
  unsigned int v125; // [esp+1BCh] [ebp-DCh]
  int v126; // [esp+1C0h] [ebp-D8h]
  int v127; // [esp+1C4h] [ebp-D4h]
  int v128; // [esp+1C8h] [ebp-D0h]
  _BYTE v129[16]; // [esp+1CCh] [ebp-CCh] BYREF
  __int16 v130; // [esp+1DCh] [ebp-BCh]
  int v131; // [esp+1E8h] [ebp-B0h]
  char v132[4]; // [esp+1F0h] [ebp-A8h] BYREF
  char v133[4]; // [esp+1F4h] [ebp-A4h] BYREF
  char v134[4]; // [esp+1F8h] [ebp-A0h] BYREF
  char v135[4]; // [esp+1FCh] [ebp-9Ch] BYREF
  char v136[4]; // [esp+200h] [ebp-98h] BYREF
  _BYTE v137[8]; // [esp+204h] [ebp-94h] BYREF
  char v138[4]; // [esp+20Ch] [ebp-8Ch] BYREF
  char v139[4]; // [esp+210h] [ebp-88h] BYREF
  char v140[4]; // [esp+214h] [ebp-84h] BYREF
  char v141[4]; // [esp+218h] [ebp-80h] BYREF
  char v142[4]; // [esp+21Ch] [ebp-7Ch] BYREF
  char v143[4]; // [esp+220h] [ebp-78h] BYREF
  char v144[4]; // [esp+224h] [ebp-74h] BYREF
  char v145[4]; // [esp+228h] [ebp-70h] BYREF
  char v146[4]; // [esp+22Ch] [ebp-6Ch] BYREF
  char v147[4]; // [esp+230h] [ebp-68h] BYREF
  char v148[4]; // [esp+234h] [ebp-64h] BYREF
  char v149[4]; // [esp+238h] [ebp-60h] BYREF
  char v150[4]; // [esp+23Ch] [ebp-5Ch] BYREF
  char v151[4]; // [esp+240h] [ebp-58h] BYREF
  char v152[4]; // [esp+244h] [ebp-54h] BYREF
  char v153[4]; // [esp+248h] [ebp-50h] BYREF
  char v154[4]; // [esp+24Ch] [ebp-4Ch] BYREF
  char v155[4]; // [esp+250h] [ebp-48h] BYREF
  char v156[4]; // [esp+254h] [ebp-44h] BYREF
  char v157[4]; // [esp+258h] [ebp-40h] BYREF
  char v158[4]; // [esp+25Ch] [ebp-3Ch] BYREF
  char v159[4]; // [esp+260h] [ebp-38h] BYREF
  char v160[4]; // [esp+264h] [ebp-34h] BYREF
  char v161[4]; // [esp+268h] [ebp-30h] BYREF
  char v162[4]; // [esp+26Ch] [ebp-2Ch] BYREF
  char v163[4]; // [esp+270h] [ebp-28h] BYREF
  char v164[4]; // [esp+274h] [ebp-24h] BYREF
  _BYTE v165[8]; // [esp+278h] [ebp-20h] BYREF
  char v166[4]; // [esp+280h] [ebp-18h] BYREF
  char v167[4]; // [esp+284h] [ebp-14h] BYREF
  char v168[4]; // [esp+288h] [ebp-10h] BYREF
  char v169[4]; // [esp+28Ch] [ebp-Ch] BYREF
  int v170; // [esp+290h] [ebp-8h] BYREF
  int v171; // [esp+294h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !*(_DWORD *)(*(_DWORD *)(a1 + 54) + 6) )
  {
    v130 = 8;
    xerror::MakeString((xerror *)v169, aPrecondition_62, aTextLength, aHtmldataCpp_1, 0x129u);
    ++v131;
    xmsg::xmsg((xmsg *)v168, (const string *)v169);
    ++v131;
    v130 = 20;
    --v131;
    string::~string((string *)v169);
    v130 = 8;
    v131 += 2;
    v131 += 3;
    _ThrowExceptionLDTC(stru_403B88, v168, 0, sub_403BE0, 1u, 0, 0, 0, v129);
  }
  nNumerator = (*(int (__cdecl **)(int, int))(*(_DWORD *)(a2 + 5) + 12))(a2, 90);
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 9) + 4))(a1 + 8) )
  {
    v128 = sub_41F121((int)v67);
    sub_42320A(a1 + 8, v128);
  }
  v127 = *(_DWORD *)(a1 + 62);
  v4 = (_DWORD *)(a1 + 4);
  v126 = v127 + 1;
  if ( *(_DWORD *)(a1 + 4) <= v127 + 1 )
  {
    v124 = *(_DWORD *)(a1 + 17);
    if ( v124 == -1 )
      v5 = 0x7FFFFFFF;
    else
      v5 = v124 + *v4;
    if ( v5 <= v126 )
    {
      v123 = v126 - *v4;
      sub_4232BC(a1 + 8, v123, 0);
    }
  }
  else
  {
    v125 = *(_DWORD *)(a1 + 17) + v126 - *v4;
    sub_4232BC(a1 + 8, v125, 0);
  }
  v122 = v127 - *v4;
  v121 = a1 + 8;
  if ( *(_DWORD *)(a1 + 17) && (!*(_DWORD *)(v121 + 5) || *(_DWORD *)(v121 + 9) <= v122) )
  {
    v130 = 32;
    xerror::MakeString((xerror *)v167, aPrecondition_63, aLim0Data0Index_15, aCBc5IncludeCla_27, 0xC1u);
    ++v131;
    xmsg::xmsg((xmsg *)v166, (const string *)v167);
    ++v131;
    v130 = 44;
    --v131;
    string::~string((string *)v167);
    v130 = 32;
    v131 += 2;
    v131 += 3;
    _ThrowExceptionLDTC(stru_403B88, v166, 0, sub_403BE0, 1u, 0, 0, 0, v129);
  }
  sub_41F1CF((int)&v60, 82 * v122 + *(_DWORD *)(v121 + 5));
  v55 = -1;
  v56 = 0;
  v57 = 0;
  v58 = 0;
  v59 = 0;
  v120 = a1 + 33;
  *(_DWORD *)(a1 + 46) = 0;
  v130 = 56;
  string::string((string *)&v171);
  ++v131;
  v130 = 80;
  string::string((string *)&v170);
  ++v131;
  v130 = 68;
  v119.cx = 0;
  v119.cy = 0;
  v6 = v60;
  first_of = v60;
  v115 = a3;
  v116 = *a3;
  v117 = a3[1];
  v116 += v63;
  v114.cx = 0;
  v114.cy = 0;
  v113 = 0;
  if ( (*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2) != *(_DWORD *)a2 )
    SetTextAlign(*(HDC *)a2, 0x18u);
  v7 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2);
  SetTextAlign(v7, 0x18u);
  v8 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2);
  SetTextJustification(v8, 0, 0);
  v130 = 92;
  v9 = TFont::TFont((TFont *)v165, &v61);
  v131 += 2;
  (*(void (__cdecl **)(int, TFont *))(*(_DWORD *)(a2 + 5) + 20))(a2, v9);
  v131 -= 2;
  v131 += 2;
  --v131;
  TGdiObject::~TGdiObject((TGdiObject *)v165);
  while ( *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6) > first_of && v114.cy + v117 < a3[3] )
  {
    v112 = v6;
    if ( *(_BYTE *)string::operator()(a1 + 54, v6) == 60 )
    {
      v6 = sub_41F790(a1, (string *)&v170, v6);
      v111 = 1;
      v130 = 68;
      if ( *(_DWORD *)(v170 + 6) )
      {
        string::to_upper((string *)&v170);
        v130 = 104;
        string::string((string *)v164, aBr);
        ++v131;
        v28 = string::compare((string *)&v170, (const string *)v164) == 0;
        --v131;
        string::~string((string *)v164);
        if ( v28 )
        {
          v113 = 1;
          v111 = 0;
        }
        else
        {
          v130 = 116;
          string::string((string *)v163, aOl);
          ++v131;
          v29 = string::compare((string *)&v170, (const string *)v163) == 0;
          --v131;
          string::~string((string *)v163);
          if ( v29
            || (string::string((string *)v162, aOl_0),
                ++v131,
                v30 = string::compare((string *)&v170, (const string *)v162, 0, 0xFFFFFFFF) == 0,
                --v131,
                string::~string((string *)v162),
                v30) )
          {
            v63 += 40;
            v66 = 1;
            if ( !v64 )
              v113 = 2;
            ++v64;
            v111 = 0;
          }
          else
          {
            v130 = 128;
            string::string((string *)v161, aOl_1);
            ++v131;
            v31 = string::compare((string *)&v170, (const string *)v161) == 0;
            --v131;
            string::~string((string *)v161);
            if ( !v31 || a3[1] == v117 )
            {
              v130 = 140;
              string::string((string *)v160, aUl);
              ++v131;
              v32 = string::compare((string *)&v170, (const string *)v160) == 0;
              --v131;
              string::~string((string *)v160);
              if ( v32
                || (string::string((string *)v159, aUl_0),
                    ++v131,
                    v33 = string::compare((string *)&v170, (const string *)v159, 0, 0xFFFFFFFF) == 0,
                    --v131,
                    string::~string((string *)v159),
                    v33) )
              {
                v63 += 40;
                v66 = 0;
                if ( !v64 )
                  v113 = 2;
                ++v64;
                v111 = 0;
              }
              else
              {
                v130 = 152;
                string::string((string *)v158, aUl_1);
                ++v131;
                v34 = string::compare((string *)&v170, (const string *)v158) == 0;
                --v131;
                string::~string((string *)v158);
                if ( !v34 || a3[1] == v117 )
                {
                  v130 = 164;
                  string::string((string *)v157, aLi_0);
                  ++v131;
                  v35 = string::compare((string *)&v170, (const string *)v157) == 0;
                  --v131;
                  string::~string((string *)v157);
                  if ( v35 )
                  {
                    v65 = 1;
                    v111 = 0;
                  }
                  else
                  {
                    v130 = 176;
                    string::string((string *)v156, aTr);
                    ++v131;
                    v36 = string::compare((string *)&v170, (const string *)v156) == 0;
                    --v131;
                    string::~string((string *)v156);
                    if ( !v36 || a3[1] == v117 )
                    {
                      v130 = 188;
                      string::string((string *)v155, aP);
                      ++v131;
                      v37 = string::compare((string *)&v170, (const string *)v155) == 0;
                      --v131;
                      string::~string((string *)v155);
                      if ( v37
                        || (string::string((string *)v154, aP_0),
                            ++v131,
                            v38 = string::compare((string *)&v170, (const string *)v154, 0, 0xFFFFFFFF) == 0,
                            --v131,
                            string::~string((string *)v154),
                            v38) )
                      {
                        v113 = 2;
                        v111 = 0;
                      }
                      else
                      {
                        v130 = 200;
                        string::string((string *)v153, aB);
                        ++v131;
                        v39 = string::compare((string *)&v170, (const string *)v153) == 0;
                        --v131;
                        string::~string((string *)v153);
                        if ( v39 )
                        {
                          v61.lfWeight = 700;
                        }
                        else
                        {
                          v130 = 212;
                          string::string((string *)v152, aB_0);
                          ++v131;
                          v40 = string::compare((string *)&v170, (const string *)v152) == 0;
                          --v131;
                          string::~string((string *)v152);
                          if ( !v40 || a3[1] == v117 )
                          {
                            v130 = 224;
                            string::string((string *)v151, aI_2);
                            ++v131;
                            v41 = string::compare((string *)&v170, (const string *)v151) == 0;
                            --v131;
                            string::~string((string *)v151);
                            if ( v41 )
                            {
                              v61.lfItalic = 1;
                            }
                            else
                            {
                              v130 = 236;
                              string::string((string *)v150, aI_3);
                              ++v131;
                              v42 = string::compare((string *)&v170, (const string *)v150) == 0;
                              --v131;
                              string::~string((string *)v150);
                              if ( !v42 || a3[1] == v117 )
                              {
                                v130 = 248;
                                string::string((string *)v149, aU_2);
                                ++v131;
                                v43 = string::compare((string *)&v170, (const string *)v149) == 0;
                                --v131;
                                string::~string((string *)v149);
                                if ( v43 )
                                {
                                  v61.lfUnderline = 1;
                                }
                                else
                                {
                                  v130 = 260;
                                  string::string((string *)v148, aU_3);
                                  ++v131;
                                  v44 = string::compare((string *)&v170, (const string *)v148) == 0;
                                  --v131;
                                  string::~string((string *)v148);
                                  if ( !v44 || a3[1] == v117 )
                                  {
                                    v130 = 272;
                                    string::string((string *)v147, aH1);
                                    ++v131;
                                    v10 = 0;
                                    if ( (int)string::compare((string *)&v170, (const string *)v147, 0, 0xFFFFFFFF) >= 0 )
                                    {
                                      string::string((string *)v146, aH6);
                                      ++v131;
                                      v45 = string::compare((string *)&v170, (const string *)v146, 0, 0xFFFFFFFF) <= 0;
                                      --v131;
                                      string::~string((string *)v146);
                                      if ( v45 )
                                        v10 = 1;
                                    }
                                    v46 = v10;
                                    --v131;
                                    string::~string((string *)v147);
                                    if ( v46 )
                                    {
                                      v61.lfWeight = 700;
                                      v110 = *(char *)string::operator()(&v170, 1) - 48;
                                      v130 = 68;
                                      if ( v110 > 0 && v110 <= 6 )
                                        v61.lfHeight = -MulDiv(*(&dword_444A18 + 6 - v110), nNumerator, 72);
                                      v63 = 0;
                                      v113 = 2;
                                    }
                                    else
                                    {
                                      v130 = 284;
                                      string::string((string *)v145, aH1_0);
                                      ++v131;
                                      v11 = 0;
                                      if ( (int)string::compare((string *)&v170, (const string *)v145, 0, 0xFFFFFFFF) >= 0 )
                                      {
                                        string::string((string *)v144, aH6_0);
                                        ++v131;
                                        v47 = string::compare((string *)&v170, (const string *)v144, 0, 0xFFFFFFFF) <= 0;
                                        --v131;
                                        string::~string((string *)v144);
                                        if ( v47 && a3[1] != v117 )
                                          v11 = 1;
                                      }
                                      v48 = v11;
                                      --v131;
                                      string::~string((string *)v145);
                                      if ( v48 )
                                      {
                                        v61.lfWeight = 400;
                                        v61.lfHeight = -MulDiv(nNumber, nNumerator, 72);
                                        v63 = 0;
                                        v113 = 2;
                                      }
                                      else
                                      {
                                        v130 = 296;
                                        string::string((string *)v143, aPre);
                                        ++v131;
                                        v49 = string::compare((string *)&v170, (const string *)v143, 0, 0xFFFFFFFF) == 0;
                                        --v131;
                                        string::~string((string *)v143);
                                        if ( v49 )
                                        {
                                          lstrcpyA(v61.lfFaceName, aCourierNew);
                                          v63 = 0;
                                          v113 = 2;
                                        }
                                        else
                                        {
                                          v130 = 308;
                                          string::string((string *)v142, aPre_0);
                                          ++v131;
                                          v12 = !string::compare((string *)&v170, (const string *)v142, 0, 0xFFFFFFFF)
                                             && a3[1] != v117;
                                          v50 = v12;
                                          --v131;
                                          string::~string((string *)v142);
                                          if ( v50 )
                                          {
                                            lstrcpyA(v61.lfFaceName, aTimesNewRoman_0);
                                            v63 = 0;
                                            v113 = 2;
                                          }
                                          else
                                          {
                                            v130 = 320;
                                            string::string((string *)v141, aFont_0);
                                            ++v131;
                                            v51 = string::compare((string *)&v170, (const string *)v141, 0, 0xFFFFFFFF) == 0;
                                            --v131;
                                            string::~string((string *)v141);
                                            if ( v51 )
                                            {
                                              sub_41FC53(a1, (int)&v60, (string *)&v170);
                                            }
                                            else
                                            {
                                              v130 = 332;
                                              string::string((string *)v140, aFont_1);
                                              ++v131;
                                              v13 = !string::compare(
                                                       (string *)&v170,
                                                       (const string *)v140,
                                                       0,
                                                       0xFFFFFFFF)
                                                 && a3[1] != v117;
                                              v52 = v13;
                                              --v131;
                                              string::~string((string *)v140);
                                              if ( v52 )
                                              {
                                                sub_41F231((int)&v60, 0);
                                                v109 = TColor::Black;
                                                v62 = TColor::Black;
                                              }
                                              else
                                              {
                                                v130 = 344;
                                                string::string((string *)v139, aA);
                                                ++v131;
                                                v53 = string::compare(
                                                        (string *)&v170,
                                                        (const string *)v139,
                                                        0,
                                                        0xFFFFFFFF) == 0;
                                                --v131;
                                                string::~string((string *)v139);
                                                if ( v53 )
                                                {
                                                  sub_41FAA4(a1, (string *)&v170, &v55);
                                                  if ( v55 >= 0 )
                                                    v56 = v116;
                                                }
                                                else
                                                {
                                                  v130 = 356;
                                                  string::string((string *)v138, aA_0);
                                                  ++v131;
                                                  v14 = !string::compare(
                                                           (string *)&v170,
                                                           (const string *)v138,
                                                           0,
                                                           0xFFFFFFFF)
                                                     && a3[1] != v117;
                                                  v54 = v14;
                                                  --v131;
                                                  string::~string((string *)v138);
                                                  if ( v54 )
                                                  {
                                                    if ( v55 >= 0 )
                                                    {
                                                      v58 = v116;
                                                      v59 = v117;
                                                      v57 = v117 - v114.cy;
                                                      v15 = v56 >= v116 || v57 >= v59;
                                                      v108 = v15;
                                                      if ( !v15 )
                                                        sub_4233B7(a1 + 33, &v55);
                                                      v55 = -1;
                                                    }
                                                  }
                                                  else
                                                  {
                                                    v111 = 0;
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                  else
                                  {
                                    v61.lfUnderline = 0;
                                  }
                                }
                              }
                              else
                              {
                                v61.lfItalic = 0;
                              }
                            }
                          }
                          else
                          {
                            v61.lfWeight = 400;
                          }
                        }
                      }
                    }
                    else
                    {
                      v113 = 2;
                      v111 = 0;
                    }
                  }
                }
                else
                {
                  if ( v63 <= 40 )
                    v63 = 0;
                  else
                    v63 -= 40;
                  if ( !--v64 )
                    v113 = 2;
                  v111 = 0;
                }
              }
            }
            else
            {
              if ( v63 <= 40 )
                v63 = 0;
              else
                v63 -= 40;
              v66 = 0;
              if ( !--v64 )
                v113 = 2;
              v111 = 0;
            }
          }
        }
        if ( v111 )
        {
          (*(void (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 28))(a2);
          v130 = 368;
          v16 = TFont::TFont((TFont *)v137, &v61);
          v131 += 2;
          (*(void (__cdecl **)(int, TFont *))(*(_DWORD *)(a2 + 5) + 20))(a2, v16);
          v131 -= 2;
          v131 += 2;
          --v131;
          TGdiObject::~TGdiObject((TGdiObject *)v137);
        }
      }
    }
    while ( v6 < *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6) )
    {
      v107 = v6;
      if ( *(_BYTE *)string::operator()(a1 + 54, v6) != 9 )
      {
        v106 = v6;
        if ( *(_BYTE *)string::operator()(a1 + 54, v6) != 32 )
        {
          v105 = v6;
          if ( *(_BYTE *)string::operator()(a1 + 54, v6) != 10 )
            break;
        }
      }
      ++v6;
    }
    first_of = v6;
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6) > v6 )
    {
      v104 = v6;
      if ( *(_BYTE *)string::operator()(a1 + 54, v6) != 60 )
      {
        v130 = 380;
        string::string((string *)v136, asc_44659A);
        ++v131;
        first_of = string::find_first_of((string *)(a1 + 54), (const string *)v136, v6);
        --v131;
        string::~string((string *)v136);
        if ( first_of == -1 )
        {
          first_of = *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6);
        }
        else
        {
          v103 = first_of;
          if ( *(_BYTE *)string::operator()(a1 + 54, first_of) == 10 )
          {
            v102 = first_of;
            *(_BYTE *)string::operator()(a1 + 54, first_of) = 32;
          }
          else
          {
            v101 = first_of;
            if ( *(_BYTE *)string::operator()(a1 + 54, first_of) == 9 )
            {
              v100 = first_of;
              *(_BYTE *)string::operator()(a1 + 54, first_of) = 32;
            }
          }
        }
        v130 = 392;
        string::substr((string *)v135, a1 + 54, v6);
        ++v131;
        string::assign((string *)&v171, (const string *)v135, 0, 0xFFFFFFFF);
        --v131;
        string::~string((string *)v135);
        sub_41F99A(a1, (string *)&v171);
        v99 = *(_DWORD *)(v171 + 6);
        v98 = *(LPCSTR *)(v171 + 2);
        v26 = v99;
        v24 = v98;
        v17 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2);
        GetTextExtentPointA(v17, v24, v26, &v119);
        if ( a3[1] == v117 )
        {
          v117 += v119.cy;
        }
        else if ( v113 || v65 || v119.cx + v116 > a3[2] )
        {
          if ( v55 >= 0 )
          {
            v58 = v116;
            v59 = v117;
            v57 = v117 - v114.cy;
            v18 = v56 >= v116 || v57 >= v59;
            v97 = v18;
            if ( !v18 )
              sub_4233B7(a1 + 33, &v55);
          }
          v116 = v63 + *a3;
          v117 += v119.cy;
          if ( v113 == 2 )
          {
            v96[2] = nNumber;
            v117 += abs32(nNumber);
          }
          if ( v65 && v113 != 2 )
          {
            v96[1] = nNumber;
            v117 += (int)abs32(nNumber) / 4;
          }
          if ( v55 >= 0 )
            v56 = v116;
        }
        v113 = 0;
        if ( v65 && v119.cy + v117 < a3[3] )
        {
          v96[0] = v116 - 20;
          v19 = *a3 >= v116 - 20 ? a3 : v96;
          v116 = *v19;
          sub_41FF8F(a1, a2, &v116, (int)a3, a4, v66);
          v116 += 20;
          v65 = 0;
          if ( v66 )
            ++v66;
        }
        v130 = 404;
        string::string((string *)v134, 32);
        ++v131;
        string::append((string *)&v171, (const string *)v134, 0, 0xFFFFFFFF);
        --v131;
        string::~string((string *)v134);
        v95 = *(_DWORD *)(v171 + 6);
        v94 = *(LPCSTR *)(v171 + 2);
        v27 = v95;
        v25 = v94;
        v20 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 88))(a2);
        GetTextExtentPointA(v20, v25, v27, &v119);
        if ( v119.cy + v117 < a3[3] )
        {
          v6 = first_of;
          if ( a4 )
          {
            if ( (*(_BYTE *)(a1 + 58) & 3) != 0 )
            {
              (*(void (__cdecl **)(char *, int, TColor *))(*(_DWORD *)(a2 + 5) + 36))(v93, a2, TColor::White);
              v92 = *(_DWORD *)(v171 + 6);
              v91 = *(_DWORD *)(v171 + 2);
              v90 = a3;
              v89 = v117 + 1;
              v88 = v116 + 1;
              v86 = v116 + 1;
              v87 = v117 + 1;
              (*(void (__cdecl **)(int, int, int, int, _DWORD *, int, int, _DWORD))(*(_DWORD *)(a2 + 5) + 72))(
                a2,
                v116 + 1,
                v117 + 1,
                4,
                a3,
                v91,
                v92,
                0);
              if ( (*(_BYTE *)(a1 + 58) & 2) != 0 )
              {
                v85 = *(_DWORD *)(v171 + 6);
                v84 = *(_DWORD *)(v171 + 2);
                v83 = a3;
                v82 = v117 - 1;
                v81 = v116 - 1;
                v79 = v116 - 1;
                v80 = v117 - 1;
                (*(void (__cdecl **)(int, int, int, int, _DWORD *, int, int, _DWORD))(*(_DWORD *)(a2 + 5) + 72))(
                  a2,
                  v116 - 1,
                  v117 - 1,
                  4,
                  a3,
                  v84,
                  v85,
                  0);
              }
            }
          }
          if ( v55 < 0 )
            (*(void (__cdecl **)(char *, int, TColor **))(*(_DWORD *)(a2 + 5) + 36))(v77, a2, &v62);
          else
            (*(void (__cdecl **)(char *, int, _DWORD))(*(_DWORD *)(a2 + 5) + 36))(v78, a2, TColor::LtBlue);
          v21 = *(_DWORD *)(v171 + 6);
          v22 = *(_DWORD *)(v171 + 2);
          v76 = a3;
          (*(void (__cdecl **)(int, int, int, int, _DWORD *, int, int, _DWORD))(*(_DWORD *)(a2 + 5) + 72))(
            a2,
            v116,
            v117,
            4,
            a3,
            v22,
            v21,
            0);
        }
        v116 += v119.cx;
        v114 = v119;
      }
    }
  }
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6) > first_of )
  {
    v60 = v6;
    if ( (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 9) + 4))(a1 + 8) <= (unsigned int)(*(_DWORD *)(a1 + 62) + 1) )
    {
      sub_42320A(a1 + 8, (int)&v60);
    }
    else
    {
      v75 = *(_DWORD *)(a1 + 62) + 1;
      v74 = (_DWORD *)(a1 + 4);
      v73 = v75 + 1;
      if ( *(_DWORD *)(a1 + 4) <= v75 + 1 )
      {
        v71 = *(_DWORD *)((char *)v74 + 13);
        if ( v71 == -1 )
          v23 = 0x7FFFFFFF;
        else
          v23 = v71 + *v74;
        if ( v23 <= v73 )
        {
          v70 = v73 - *v74;
          sub_4232BC((int)(v74 + 1), v70, 0);
        }
      }
      else
      {
        v72 = *(_DWORD *)((char *)v74 + 13) + v73 - *v74;
        sub_4232BC((int)(v74 + 1), v72, 0);
      }
      v69 = v75 - *v74;
      v68 = v74 + 1;
      if ( *(_DWORD *)((char *)v74 + 13) && (!*(_DWORD *)((char *)v68 + 5) || *(_DWORD *)((char *)v68 + 9) <= v69) )
      {
        v130 = 416;
        xerror::MakeString((xerror *)v133, aPrecondition_64, aLim0Data0Index_16, aCBc5IncludeCla_28, 0xC1u);
        ++v131;
        xmsg::xmsg((xmsg *)v132, (const string *)v133);
        ++v131;
        v130 = 428;
        --v131;
        string::~string((string *)v133);
        v130 = 416;
        v131 += 2;
        v131 += 3;
        _ThrowExceptionLDTC(stru_403B88, v132, 0, sub_403BE0, 1u, 0, 0, 0, v129);
      }
      sub_41F2BA(82 * v69 + *(_DWORD *)((char *)v68 + 5), (int)&v60);
    }
  }
  (*(void (__cdecl **)(int))(*(_DWORD *)(a2 + 5) + 28))(a2);
  --v131;
  string::~string((string *)&v170);
  --v131;
  string::~string((string *)&v171);
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 438EE0: using guessed type int __cdecl string::operator()(_DWORD, _DWORD);

//----- (00421AAF) --------------------------------------------------------
int __cdecl sub_421AAF(int a1)
{
  _BYTE v2[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v2, &byte_4465F2);
  string::assign((string *)(a1 + 54), (const string *)v2, 0, 0xFFFFFFFF);
  string::~string((string *)v2);
  *(_DWORD *)(a1 + 62) = 0;
  *(_DWORD *)(a1 + 21) = 0;
  *(_DWORD *)(a1 + 46) = 0;
  return a1 + 33;
}

//----- (00421B26) --------------------------------------------------------
char __cdecl sub_421B26(int a1, _DWORD *a2)
{
  unsigned int v4; // [esp+10h] [ebp-64h]
  unsigned int v5; // [esp+18h] [ebp-5Ch]
  _BYTE v6[16]; // [esp+30h] [ebp-44h] BYREF
  __int16 v7; // [esp+40h] [ebp-34h]
  int v8; // [esp+4Ch] [ebp-28h]
  _BYTE v9[4]; // [esp+54h] [ebp-20h] BYREF
  _BYTE v10[4]; // [esp+58h] [ebp-1Ch] BYREF
  _BYTE v11[4]; // [esp+5Ch] [ebp-18h] BYREF
  _BYTE v12[4]; // [esp+60h] [ebp-14h] BYREF
  _BYTE v13[4]; // [esp+64h] [ebp-10h] BYREF
  _BYTE v14[4]; // [esp+68h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  v4 = 0;
  v5 = (**(int (__cdecl ***)(int))(a1 + 34))(a1 + 33);
  while ( v4 < v5 )
  {
    if ( !*(_DWORD *)(a1 + 42) || !*(_DWORD *)(a1 + 38) || *(_DWORD *)(a1 + 42) <= v4 )
    {
      xerror::MakeString(
        (xerror *)v14,
        "Precondition",
        "Lim > 0 && Data != 0 && index < Lim",
        "C:\\BC5\\INCLUDE\\classlib/vectimp.h",
        0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v13, (const string *)v14);
      ++v8;
      v7 = 24;
      --v8;
      string::~string((string *)v14);
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v13, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    if ( *a2 >= *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 4)
      && *a2 < *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 12)
      && a2[1] >= *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 8)
      && a2[1] < *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 16) )
    {
      return 1;
    }
    if ( v4 >= v5 )
    {
      v7 = 36;
      xerror::MakeString((xerror *)v12, "Precondition", "Cur < Upper", "C:\\BC5\\INCLUDE\\classlib/vectimp.h", 0x13Fu);
      ++v8;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v8;
      v7 = 48;
      --v8;
      string::~string((string *)v12);
      v7 = 36;
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    if ( !*(_DWORD *)(a1 + 42) || !*(_DWORD *)(a1 + 38) || *(_DWORD *)(a1 + 42) <= v4 )
    {
      xerror::MakeString(
        (xerror *)v10,
        "Precondition",
        "Lim > 0 && Data != 0 && index < Lim",
        "C:\\BC5\\INCLUDE\\classlib/vectimp.h",
        0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v9, (const string *)v10);
      ++v8;
      v7 = 60;
      --v8;
      string::~string((string *)v10);
      v7 = 36;
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    ++v4;
  }
  return 0;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00421E48) --------------------------------------------------------
int __cdecl sub_421E48(int a1, _DWORD *a2)
{
  unsigned int v4; // [esp+10h] [ebp-78h]
  unsigned int v5; // [esp+18h] [ebp-70h]
  _BYTE v6[16]; // [esp+34h] [ebp-54h] BYREF
  __int16 v7; // [esp+44h] [ebp-44h]
  int v8; // [esp+50h] [ebp-38h]
  _BYTE v9[4]; // [esp+58h] [ebp-30h] BYREF
  _BYTE v10[4]; // [esp+5Ch] [ebp-2Ch] BYREF
  _BYTE v11[4]; // [esp+60h] [ebp-28h] BYREF
  _BYTE v12[4]; // [esp+64h] [ebp-24h] BYREF
  _BYTE v13[4]; // [esp+68h] [ebp-20h] BYREF
  _BYTE v14[4]; // [esp+6Ch] [ebp-1Ch] BYREF
  _BYTE v15[4]; // [esp+70h] [ebp-18h] BYREF
  _BYTE v16[4]; // [esp+74h] [ebp-14h] BYREF
  _BYTE v17[4]; // [esp+78h] [ebp-10h] BYREF
  _BYTE v18[4]; // [esp+7Ch] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  v4 = 0;
  v5 = (**(int (__cdecl ***)(int))(a1 + 34))(a1 + 33);
  while ( 1 )
  {
    if ( v4 >= v5 )
      return -1;
    if ( !*(_DWORD *)(a1 + 42) || !*(_DWORD *)(a1 + 38) || *(_DWORD *)(a1 + 42) <= v4 )
    {
      xerror::MakeString(
        (xerror *)v18,
        "Precondition",
        "Lim > 0 && Data != 0 && index < Lim",
        "C:\\BC5\\INCLUDE\\classlib/vectimp.h",
        0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v17, (const string *)v18);
      ++v8;
      v7 = 24;
      --v8;
      string::~string((string *)v18);
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v17, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    if ( *a2 >= *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 4)
      && *a2 < *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 12)
      && a2[1] >= *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 8)
      && a2[1] < *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38) + 16) )
    {
      break;
    }
    if ( v4 >= v5 )
    {
      v7 = 72;
      xerror::MakeString((xerror *)v12, "Precondition", "Cur < Upper", "C:\\BC5\\INCLUDE\\classlib/vectimp.h", 0x13Fu);
      ++v8;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v8;
      v7 = 84;
      --v8;
      string::~string((string *)v12);
      v7 = 72;
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    if ( !*(_DWORD *)(a1 + 42) || !*(_DWORD *)(a1 + 38) || *(_DWORD *)(a1 + 42) <= v4 )
    {
      xerror::MakeString(
        (xerror *)v10,
        "Precondition",
        "Lim > 0 && Data != 0 && index < Lim",
        "C:\\BC5\\INCLUDE\\classlib/vectimp.h",
        0xC7u);
      ++v8;
      xmsg::xmsg((xmsg *)v9, (const string *)v10);
      ++v8;
      v7 = 96;
      --v8;
      string::~string((string *)v10);
      v7 = 72;
      v8 += 2;
      v8 += 3;
      _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
    }
    ++v4;
  }
  if ( v4 >= v5 )
  {
    v7 = 36;
    xerror::MakeString((xerror *)v16, "Precondition", "Cur < Upper", "C:\\BC5\\INCLUDE\\classlib/vectimp.h", 0x13Fu);
    ++v8;
    xmsg::xmsg((xmsg *)v15, (const string *)v16);
    ++v8;
    v7 = 48;
    --v8;
    string::~string((string *)v16);
    v7 = 36;
    v8 += 2;
    v8 += 3;
    _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v6);
  }
  if ( !*(_DWORD *)(a1 + 42) || !*(_DWORD *)(a1 + 38) || *(_DWORD *)(a1 + 42) <= v4 )
  {
    xerror::MakeString(
      (xerror *)v14,
      "Precondition",
      "Lim > 0 && Data != 0 && index < Lim",
      "C:\\BC5\\INCLUDE\\classlib/vectimp.h",
      0xC7u);
    ++v8;
    xmsg::xmsg((xmsg *)v13, (const string *)v14);
    ++v8;
    v7 = 60;
    --v8;
    string::~string((string *)v14);
    v7 = 36;
    v8 += 2;
    v8 += 3;
    _ThrowExceptionLDTC(stru_403B88, v13, 0, sub_403BE0, 1u, 0, 0, 0, v6);
  }
  return *(_DWORD *)(20 * v4 + *(_DWORD *)(a1 + 38));
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004222B4) --------------------------------------------------------
string *sub_4222B4()
{
  __InitExceptBlockLDTC();
  string::string((string *)dword_444A38, "&egrave;");
  string::string((string *)&unk_444A3C, byte_4460FE);
  string::string((string *)&unk_444A40, "&eacute;");
  string::string((string *)&unk_444A44, byte_446109);
  string::string((string *)&unk_444A48, "&agrave;");
  string::string((string *)&unk_444A4C, byte_446114);
  string::string((string *)&unk_444A50, "&ugrave;");
  string::string((string *)&unk_444A54, byte_44611F);
  string::string((string *)&unk_444A58, "&acirc;");
  string::string((string *)&unk_444A5C, byte_446129);
  string::string((string *)&unk_444A60, "&ecirc;");
  string::string((string *)&unk_444A64, byte_446133);
  string::string((string *)&unk_444A68, "&icirc;");
  string::string((string *)&unk_444A6C, byte_44613D);
  string::string((string *)&unk_444A70, "&ocirc;");
  string::string((string *)&unk_444A74, byte_446147);
  string::string((string *)&unk_444A78, "&ucirc;");
  string::string((string *)&unk_444A7C, byte_446151);
  string::string((string *)&unk_444A80, "&auml;");
  string::string((string *)&unk_444A84, byte_44615A);
  string::string((string *)&unk_444A88, "&euml;");
  string::string((string *)&unk_444A8C, byte_446163);
  string::string((string *)&unk_444A90, "&iuml;");
  string::string((string *)&unk_444A94, byte_44616C);
  string::string((string *)&unk_444A98, "&ouml;");
  string::string((string *)&unk_444A9C, byte_446175);
  string::string((string *)&unk_444AA0, "&uuml;");
  string::string((string *)&unk_444AA4, byte_44617E);
  string::string((string *)&unk_444AA8, "&yuml;");
  string::string((string *)&unk_444AAC, byte_446187);
  string::string((string *)&unk_444AB0, "&ccedil;");
  string::string((string *)&unk_444AB4, byte_446192);
  string::string((string *)&unk_444AB8, "&oelig;");
  string::string((string *)&unk_444ABC, byte_44619C);
  string::string((string *)&unk_444AC0, "&Oelig;");
  string::string((string *)&unk_444AC4, byte_4461A6);
  string::string((string *)&unk_444AC8, "&laquo;");
  string::string((string *)&unk_444ACC, byte_4461B0);
  string::string((string *)&unk_444AD0, "&raquo;");
  string::string((string *)&unk_444AD4, byte_4461BA);
  string::string((string *)&unk_444AD8, "&amp;");
  string::string((string *)&unk_444ADC, "&");
  string::string((string *)&unk_444AE0, "&quot;");
  string::string((string *)&unk_444AE4, "\"");
  string::string((string *)&unk_444AE8, "&lt;");
  string::string((string *)&unk_444AEC, "<");
  string::string((string *)&unk_444AF0, "&gt;");
  string::string((string *)&unk_444AF4, ">");
  string::string((string *)&unk_444AF8, "&nbsp;");
  string::string((string *)&unk_444AFC, byte_4461E2);
  string::string((string *)&unk_444B00, "&trade;");
  string::string((string *)&unk_444B04, byte_4461EC);
  string::string((string *)&unk_444B08, "&copy;");
  string::string((string *)&unk_444B0C, byte_4461F5);
  string::string((string *)&unk_444B10, "&reg;");
  string::string((string *)&unk_444B14, byte_4461FD);
  string::string((string *)&unk_444B18, "&aacute;");
  string::string((string *)&unk_444B1C, byte_446208);
  string::string((string *)&unk_444B20, "&iacute;");
  string::string((string *)&unk_444B24, byte_446213);
  string::string((string *)&unk_444B28, "&oacute;");
  string::string((string *)&unk_444B2C, byte_44621E);
  string::string((string *)&unk_444B30, "&uacute;");
  string::string((string *)&unk_444B34, byte_446229);
  string::string((string *)&unk_444B38, "&yacute;");
  string::string((string *)&unk_444B3C, byte_446234);
  string::string((string *)&unk_444B40, "&igrave;");
  string::string((string *)&unk_444B44, byte_44623F);
  string::string((string *)&unk_444B48, "&ograve;");
  string::string((string *)&unk_444B4C, byte_44624A);
  string::string((string *)&unk_444B50, "&aring;");
  string::string((string *)&unk_444B54, byte_446254);
  string::string((string *)&unk_444B58, "&aelig;");
  string::string((string *)&unk_444B5C, byte_44625E);
  string::string((string *)&unk_444B60, "&atilde;");
  string::string((string *)&unk_444B64, byte_446269);
  string::string((string *)&unk_444B68, "&otilde;");
  string::string((string *)&unk_444B6C, byte_446274);
  string::string((string *)&unk_444B70, "&ntilde;");
  string::string((string *)&unk_444B74, byte_44627F);
  string::string((string *)&unk_444B78, "&Agrave;");
  string::string((string *)&unk_444B7C, byte_44628A);
  string::string((string *)&unk_444B80, "&Aacute;");
  string::string((string *)&unk_444B84, byte_446295);
  string::string((string *)&unk_444B88, "&Acirc;");
  string::string((string *)&unk_444B8C, byte_44629F);
  string::string((string *)&unk_444B90, "&Atilde;");
  string::string((string *)&unk_444B94, byte_4462AA);
  string::string((string *)&unk_444B98, "&Auml;");
  string::string((string *)&unk_444B9C, byte_4462B3);
  string::string((string *)&unk_444BA0, "&Aring;");
  string::string((string *)&unk_444BA4, byte_4462BD);
  string::string((string *)&unk_444BA8, "&AElig;");
  string::string((string *)&unk_444BAC, byte_4462C7);
  string::string((string *)&unk_444BB0, "&Ccedil;");
  string::string((string *)&unk_444BB4, byte_4462D2);
  string::string((string *)&unk_444BB8, "&Egrave;");
  string::string((string *)&unk_444BBC, byte_4462DD);
  string::string((string *)&unk_444BC0, "&Eacute;");
  string::string((string *)&unk_444BC4, byte_4462E8);
  string::string((string *)&unk_444BC8, "&Ecirc;");
  string::string((string *)&unk_444BCC, byte_4462F2);
  string::string((string *)&unk_444BD0, "&Euml;");
  string::string((string *)&unk_444BD4, byte_4462FB);
  string::string((string *)&unk_444BD8, "&Igrave;");
  string::string((string *)&unk_444BDC, byte_446306);
  string::string((string *)&unk_444BE0, "&Iacute;");
  string::string((string *)&unk_444BE4, byte_446311);
  string::string((string *)&unk_444BE8, "&Icirc;");
  string::string((string *)&unk_444BEC, byte_44631B);
  string::string((string *)&unk_444BF0, "&Iuml;");
  string::string((string *)&unk_444BF4, byte_446324);
  string::string((string *)&unk_444BF8, "&ETH;");
  string::string((string *)&unk_444BFC, byte_44632C);
  string::string((string *)&unk_444C00, "&Ntilde;");
  string::string((string *)&unk_444C04, byte_446337);
  string::string((string *)&unk_444C08, "&Ograve;");
  string::string((string *)&unk_444C0C, byte_446342);
  string::string((string *)&unk_444C10, "&Oacute;");
  string::string((string *)&unk_444C14, byte_44634D);
  string::string((string *)&unk_444C18, "&Ocirc;");
  string::string((string *)&unk_444C1C, byte_446357);
  string::string((string *)&unk_444C20, "&Otilde;");
  string::string((string *)&unk_444C24, byte_446362);
  string::string((string *)&unk_444C28, "&Ouml;");
  string::string((string *)&unk_444C2C, byte_44636B);
  string::string((string *)&unk_444C30, "&Oslash;");
  string::string((string *)&unk_444C34, byte_446376);
  string::string((string *)&unk_444C38, "&Ugrave;");
  string::string((string *)&unk_444C3C, byte_446381);
  string::string((string *)&unk_444C40, "&Uacute;");
  string::string((string *)&unk_444C44, byte_44638C);
  string::string((string *)&unk_444C48, "&Ucirc;");
  string::string((string *)&unk_444C4C, byte_446396);
  string::string((string *)&unk_444C50, "&Uuml;");
  string::string((string *)&unk_444C54, byte_44639F);
  string::string((string *)&unk_444C58, "&Yacute;");
  string::string((string *)&unk_444C5C, byte_4463AA);
  string::string((string *)&unk_444C60, "&THORN;");
  string::string((string *)&unk_444C64, byte_4463B4);
  string::string((string *)&unk_444C68, "&eth;");
  string::string((string *)&unk_444C6C, byte_4463BC);
  string::string((string *)&unk_444C70, "&oslash;");
  string::string((string *)&unk_444C74, byte_4463C7);
  string::string((string *)&unk_444C78, "&thorn;");
  string::string((string *)&unk_444C7C, byte_4463D1);
  string::string((string *)&unk_444C80, "&szlig;");
  string::string((string *)&unk_444C84, byte_4463DB);
  string::string((string *)&unk_444C88, "&sup2;");
  string::string((string *)&unk_444C8C, byte_4463E4);
  string::string((string *)&unk_444C90, "&middot;");
  string::string((string *)&unk_444C94, byte_4463EF);
  string::string((string *)&unk_444C98, "&deg;");
  string::string((string *)&unk_444C9C, byte_4463F7);
  string::string((string *)&unk_444CA0, &byte_4463F7[2]);
  return string::string((string *)&unk_444CA4, &byte_4463F7[4]);
}
// 444A38: using guessed type _DWORD dword_444A38[1];

//----- (00423177) --------------------------------------------------------
int sub_423177()
{
  __InitExceptBlockLDTC();
  return _vector_delete_ldtc_(dword_444A38, 4u, 0x9Cu, 1u, string::~string);
}
// 444A38: using guessed type _DWORD dword_444A38[1];

//----- (004231B0) --------------------------------------------------------
_DWORD *__cdecl sub_4231B0(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = -1;
  a1[1] = 0;
  a1[2] = 0;
  a1[3] = 0;
  a1[4] = 0;
  return a1;
}

//----- (0042320A) --------------------------------------------------------
int __cdecl sub_42320A(int a1, int a2)
{
  int v3; // edx

  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_4232BC(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v3 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v3 + 1;
  sub_41F2BA(*(_DWORD *)(a1 + 5) + 82 * v3, a2);
  return 1;
}

//----- (00423252) --------------------------------------------------------
unsigned int __cdecl sub_423252(int a1, int a2)
{
  unsigned int result; // eax

  for ( result = 0; result < *(_DWORD *)(a1 + 13); ++result )
  {
    if ( a2 == *(_DWORD *)(a1 + 5) + 82 * result )
      return result;
  }
  return -1;
}

//----- (004232BC) --------------------------------------------------------
int __cdecl sub_4232BC(int a1, unsigned int a2, int a3)
{
  unsigned int v4; // ebx
  unsigned int v5; // eax
  void *v6; // eax
  unsigned int *v7; // edx
  unsigned int i; // ebx
  int v9; // [esp+Ch] [ebp-14h] BYREF
  unsigned int v10; // [esp+10h] [ebp-10h]
  int v11; // [esp+14h] [ebp-Ch]
  unsigned int v12; // [esp+18h] [ebp-8h]
  unsigned int v13; // [esp+1Ch] [ebp-4h]

  if ( a2 <= *(_DWORD *)(a1 + 9) || !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1) )
    return 0;
  v4 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1);
  v12 = a2 - *(_DWORD *)(a1 + 9);
  if ( v12 % v4 )
    v5 = v4 * ((v4 + v12) / v4);
  else
    v5 = v12;
  v13 = *(_DWORD *)(a1 + 9) + v5;
  v6 = (void *)operator new[](82 * v13);
  v11 = _vector_new_ldtc_(v6, 0x52u, v13, 1u, sub_41F121, 0, 0);
  v9 = v13 - a3;
  if ( *(_DWORD *)(a1 + 9) <= v13 - a3 )
    v7 = (unsigned int *)(a1 + 9);
  else
    v7 = (unsigned int *)&v9;
  v10 = *v7;
  for ( i = 0; i < v10; ++i )
    sub_41F2BA(v11 + 82 * (a3 + i), *(_DWORD *)(a1 + 5) + 82 * i);
  operator delete[](*(void **)(a1 + 5));
  *(_DWORD *)(a1 + 5) = v11;
  *(_DWORD *)(a1 + 9) = v13;
  (*(void (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v10 + a3, v13);
  return 1;
}

//----- (004233B7) --------------------------------------------------------
int __cdecl sub_4233B7(int a1, const void *a2)
{
  int v3; // edx

  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_42347D(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v3 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v3 + 1;
  qmemcpy((void *)(*(_DWORD *)(a1 + 5) + 20 * v3), a2, 0x14u);
  return 1;
}

//----- (00423405) --------------------------------------------------------
unsigned int __cdecl sub_423405(int a1, _DWORD *a2)
{
  unsigned int result; // eax

  for ( result = 0; result < *(_DWORD *)(a1 + 13); ++result )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 5) + 20 * result) >= 0 == *a2 >= 0 )
      return result;
  }
  return -1;
}

//----- (0042347D) --------------------------------------------------------
int __cdecl sub_42347D(int a1, unsigned int a2, int a3)
{
  unsigned int v4; // edi
  unsigned int v5; // eax
  void *v6; // eax
  unsigned int *v7; // edx
  unsigned int i; // eax
  int v9; // [esp+Ch] [ebp-14h] BYREF
  unsigned int v10; // [esp+10h] [ebp-10h]
  int v11; // [esp+14h] [ebp-Ch]
  unsigned int v12; // [esp+18h] [ebp-8h]
  unsigned int v13; // [esp+1Ch] [ebp-4h]

  if ( a2 <= *(_DWORD *)(a1 + 9) || !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1) )
    return 0;
  v4 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 1) + 8))(a1);
  v12 = a2 - *(_DWORD *)(a1 + 9);
  if ( v12 % v4 )
    v5 = v4 * ((v4 + v12) / v4);
  else
    v5 = v12;
  v13 = *(_DWORD *)(a1 + 9) + v5;
  v6 = (void *)operator new[](20 * v13);
  v11 = _vector_new_ldtc_(v6, 0x14u, v13, 1u, sub_4231B0, 0, 0);
  v9 = v13 - a3;
  if ( *(_DWORD *)(a1 + 9) <= v13 - a3 )
    v7 = (unsigned int *)(a1 + 9);
  else
    v7 = (unsigned int *)&v9;
  v10 = *v7;
  for ( i = 0; i < v10; ++i )
    qmemcpy((void *)(v11 + 20 * (a3 + i)), (const void *)(*(_DWORD *)(a1 + 5) + 20 * i), 0x14u);
  operator delete[](*(void **)(a1 + 5));
  *(_DWORD *)(a1 + 5) = v11;
  *(_DWORD *)(a1 + 9) = v13;
  (*(void (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v10 + a3, v13);
  return 1;
}

//----- (004236F2) --------------------------------------------------------
int __cdecl sub_4236F2(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (004236FD) --------------------------------------------------------
int __cdecl sub_4236FD(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00423800) --------------------------------------------------------
int __cdecl sub_423800(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (0042380B) --------------------------------------------------------
int __cdecl sub_42380B(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00423816) --------------------------------------------------------
int __cdecl sub_423816(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (00423821) --------------------------------------------------------
int __cdecl sub_423821(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (0042382C) --------------------------------------------------------
int __cdecl sub_42382C(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (00423933) --------------------------------------------------------
int __cdecl sub_423933(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (0042393E) --------------------------------------------------------
int __cdecl sub_42393E(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00423949) --------------------------------------------------------
int __cdecl sub_423949(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (00423954) --------------------------------------------------------
bool __cdecl sub_423954(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 54) + 6) != 0;
}

//----- (0042396B) --------------------------------------------------------
void __cdecl sub_42396B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_446A30;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (004239C2) --------------------------------------------------------
void __cdecl sub_4239C2(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_446A30;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00423A11) --------------------------------------------------------
void __cdecl sub_423A11(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4469D8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00423A68) --------------------------------------------------------
void __cdecl sub_423A68(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4469D8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00423B73) --------------------------------------------------------
void __cdecl sub_423B73(char *a1, char a2)
{
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_446A30;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00423BA0) --------------------------------------------------------
void __cdecl sub_423BA0(char *a1, char a2)
{
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_4469D8;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00423BCD) --------------------------------------------------------
void __cdecl sub_423BCD(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4469D8;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00423CB4) --------------------------------------------------------
void __cdecl sub_423CB4(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_446A30;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00423D9F) --------------------------------------------------------
void __cdecl sub_423D9F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_446A30;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00423E96) --------------------------------------------------------
void __cdecl sub_423E96(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4469D8;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00423F89) --------------------------------------------------------
void __cdecl sub_423F89(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4469D8;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00424090) --------------------------------------------------------
void __cdecl sub_424090(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_446A30;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00424197) --------------------------------------------------------
void __cdecl sub_424197(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_446A30;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00424292) --------------------------------------------------------
void __cdecl sub_424292(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4469D8;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (00424389) --------------------------------------------------------
void __cdecl sub_424389(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_4469D8;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 4469D8: using guessed type int (__cdecl *off_4469D8[2])(int);

//----- (004243E8) --------------------------------------------------------
void __cdecl sub_4243E8(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_446A30;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446A30: using guessed type int (__cdecl *off_446A30[2])(int);

//----- (00424448) --------------------------------------------------------
string *sub_424448()
{
  __InitExceptBlockLDTC();
  sub_424937((int)byte_44EC10);
  string::string((string *)&unk_446AAC, &byte_446BCD);
  return string::string((string *)&unk_446AB0, byte_446BCE);
}

//----- (004244A5) --------------------------------------------------------
void sub_4244A5()
{
  __InitExceptBlockLDTC();
  string::~string((string *)&unk_446AB0);
  string::~string((string *)&unk_446AAC);
  sub_424C7E(byte_44EC10, 2);
}

//----- (004245FA) --------------------------------------------------------
void __cdecl sub_4245FA(_DWORD *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_446BDC;
    string::~string((string *)(a1 + 10));
    string::~string((string *)(a1 + 9));
    string::~string((string *)(a1 + 8));
    string::~string((string *)(a1 + 7));
    string::~string((string *)(a1 + 6));
    string::~string((string *)(a1 + 5));
    string::~string((string *)(a1 + 4));
    string::~string((string *)(a1 + 3));
    string::~string((string *)(a1 + 2));
    string::~string((string *)(a1 + 1));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446BDC: using guessed type int (__cdecl *off_446BDC)(void *, char);

//----- (0042472B) --------------------------------------------------------
bool __cdecl sub_42472B(int a1)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 36) + 6) && *(_DWORD *)(*(_DWORD *)(a1 + 40) + 6);
}

//----- (00424750) --------------------------------------------------------
int __cdecl sub_424750(int a1)
{
  return (*(char (__cdecl **)(int))(*(_DWORD *)a1 + 4))(a1);
}

//----- (00424764) --------------------------------------------------------
bool __cdecl sub_424764(int a1)
{
  return (*(char (__cdecl **)(int))(*(_DWORD *)a1 + 4))(a1) == 0;
}

//----- (00424780) --------------------------------------------------------
void __cdecl sub_424780(int a1)
{
  const string *v1; // eax
  const string *v2; // eax
  const string *v3; // eax
  const string *v4; // eax
  const string *v5; // eax
  _BYTE v6[4]; // [esp+2Ch] [ebp-14h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-10h] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v9[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v10[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)v10, &byte_44778A);
  string::assign((string *)(a1 + 4), (const string *)v10, 0, 0xFFFFFFFF);
  string::~string((string *)v10);
  string::string((string *)v9, &byte_44778B);
  v1 = (const string *)string::assign((string *)(a1 + 20), (const string *)v9, 0, 0xFFFFFFFF);
  v2 = (const string *)string::assign((string *)(a1 + 24), v1, 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 16), v2, 0, 0xFFFFFFFF);
  string::~string((string *)v9);
  string::string((string *)v8, &byte_44778C);
  v3 = (const string *)string::assign((string *)(a1 + 28), (const string *)v8, 0, 0xFFFFFFFF);
  v4 = (const string *)string::assign((string *)(a1 + 12), v3, 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 8), v4, 0, 0xFFFFFFFF);
  string::~string((string *)v8);
  string::string((string *)v7, &byte_44778D);
  string::assign((string *)(a1 + 32), (const string *)v7, 0, 0xFFFFFFFF);
  string::~string((string *)v7);
  string::string((string *)v6, &byte_44778E);
  v5 = (const string *)string::assign((string *)(a1 + 40), (const string *)v6, 0, 0xFFFFFFFF);
  string::assign((string *)(a1 + 36), v5, 0, 0xFFFFFFFF);
  string::~string((string *)v6);
}

//----- (00424937) --------------------------------------------------------
int __cdecl sub_424937(int a1)
{
  void *v1; // eax
  void *v2; // eax

  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = &off_446BDC;
  string::string((string *)(a1 + 4));
  string::string((string *)(a1 + 8));
  string::string((string *)(a1 + 12));
  string::string((string *)(a1 + 16));
  string::string((string *)(a1 + 20));
  string::string((string *)(a1 + 24));
  string::string((string *)(a1 + 28));
  string::string((string *)(a1 + 32));
  string::string((string *)(a1 + 36));
  string::string((string *)(a1 + 40));
  *(_DWORD *)(a1 + 44) = off_447A6C;
  *(_DWORD *)(a1 + 48) = 0;
  sub_424780(a1);
  *(_DWORD *)a1 = &off_447A50;
  *(_DWORD *)(a1 + 52) = 0xFFFF;
  *(_DWORD *)(a1 + 56) = 0xFFFF;
  *(_DWORD *)(a1 + 60) = 0xFFFF;
  *(_DWORD *)(a1 + 88) = 0;
  *(_DWORD *)(a1 + 96) = 1;
  *(_DWORD *)(a1 + 101) = off_43B500;
  v1 = (void *)operator new[](4u);
  *(_DWORD *)(a1 + 105) = _vector_new_ldtc_(v1, 4u, 1u, 1u, sub_4262D4, 0, 0);
  *(_DWORD *)(a1 + 109) = 1;
  *(_DWORD *)(a1 + 101) = off_447A18;
  *(_DWORD *)(a1 + 101) = off_447A34;
  *(_DWORD *)(a1 + 113) = 0;
  *(_DWORD *)(a1 + 117) = 1;
  *(_DWORD *)(a1 + 121) = 2;
  *(_DWORD *)(a1 + 125) = &off_442D54;
  string::string((string *)(a1 + 129));
  string::string((string *)(a1 + 133));
  string::string((string *)(a1 + 137));
  sub_416654(a1 + 125);
  *(_DWORD *)(a1 + 141) = &off_442D34;
  *(_DWORD *)(a1 + 125) = &off_442D44;
  string::string((string *)(a1 + 145));
  string::string((string *)(a1 + 149));
  string::string((string *)(a1 + 153));
  *(_DWORD *)(a1 + 169) = &off_4402D4;
  *(_DWORD *)(a1 + 173) = &off_4402C0;
  *(_DWORD *)(a1 + 169) = &off_4479F0;
  *(_DWORD *)(a1 + 173) = off_447A04;
  sub_4056A0(a1 + 169);
  *(_DWORD *)(a1 + 190) = 0;
  *(_DWORD *)(a1 + 195) = off_43B500;
  v2 = (void *)operator new[](4u);
  *(_DWORD *)(a1 + 199) = _vector_new_ldtc_(v2, 4u, 1u, 1u, sub_4262D4, 0, 0);
  *(_DWORD *)(a1 + 203) = 1;
  *(_DWORD *)(a1 + 195) = off_43B51C;
  *(_DWORD *)(a1 + 195) = off_43B538;
  *(_DWORD *)(a1 + 207) = 0;
  *(_DWORD *)(a1 + 211) = 1;
  *(_DWORD *)(a1 + 215) = 2;
  *(_DWORD *)(a1 + 219) = &off_43B4EC;
  sub_4169C5(a1 + 96);
  *(_DWORD *)(a1 + 68) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  *(_DWORD *)(a1 + 88) = TColor::Black;
  *(_DWORD *)(a1 + 225) = 0;
  *(_BYTE *)(a1 + 229) = 0;
  *(_DWORD *)(a1 + 92) = 0;
  sub_424EE4(a1);
  sub_425165(a1);
  return a1;
}
// 43B4EC: using guessed type int (__cdecl *off_43B4EC)(int, int);
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 43B51C: using guessed type int (__cdecl *off_43B51C[2])(int);
// 43B538: using guessed type int (__cdecl *off_43B538[3])(int);
// 4402C0: using guessed type int (__cdecl *off_4402C0)(void *, char);
// 4402D4: using guessed type int (__cdecl *off_4402D4)(void *, char);
// 442D34: using guessed type int (__cdecl *off_442D34)(void *, char);
// 442D44: using guessed type int (__cdecl *off_442D44)(int, int, int);
// 442D54: using guessed type int (__cdecl *off_442D54)(int, int, int);
// 446BDC: using guessed type int (__cdecl *off_446BDC)(void *, char);
// 4479F0: using guessed type int (__cdecl *off_4479F0)(void *, char);
// 447A04: using guessed type int (__cdecl *off_447A04[2])(int);
// 447A18: using guessed type int (__cdecl *off_447A18[2])(int);
// 447A34: using guessed type int (__cdecl *off_447A34[3])(int);
// 447A50: using guessed type int (__cdecl *off_447A50)(void *, char);
// 447A6C: using guessed type int (__cdecl *off_447A6C[2])(int, int);

//----- (00424C7E) --------------------------------------------------------
void __cdecl sub_424C7E(char *a1, char a2)
{
  void (__cdecl ***v2)(_DWORD, int); // [esp+28h] [ebp-14h]
  TGdiObject *v3; // [esp+2Ch] [ebp-10h]
  void (__cdecl ***v4)(_DWORD, int); // [esp+30h] [ebp-Ch]
  TGdiObject *v5; // [esp+34h] [ebp-8h]
  TGdiObject *v6; // [esp+38h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)a1 = &off_447A50;
    if ( *((_DWORD *)a1 + 17) != *((_DWORD *)a1 + 16) )
    {
      v6 = (TGdiObject *)*((_DWORD *)a1 + 17);
      if ( v6 )
      {
        TGdiObject::~TGdiObject(v6);
        operator delete(v6);
      }
    }
    v5 = (TGdiObject *)*((_DWORD *)a1 + 16);
    if ( v5 )
    {
      TGdiObject::~TGdiObject(v5);
      operator delete(v5);
    }
    operator delete[](*((void **)a1 + 18));
    operator delete[](*((void **)a1 + 19));
    v4 = (void (__cdecl ***)(_DWORD, int))*((_DWORD *)a1 + 20);
    if ( v4 )
      (**v4)(v4, 3);
    v3 = (TGdiObject *)*((_DWORD *)a1 + 21);
    if ( v3 )
    {
      TGdiObject::~TGdiObject(v3);
      operator delete(v3);
    }
    if ( a1[229] )
    {
      v2 = *(void (__cdecl ****)(_DWORD, int))(a1 + 225);
      if ( v2 )
        (**v2)(v2, 3);
    }
    sub_41684E(a1 + 96, 2);
    string::~string((string *)(a1 + 40));
    string::~string((string *)(a1 + 36));
    string::~string((string *)(a1 + 32));
    string::~string((string *)(a1 + 28));
    string::~string((string *)(a1 + 24));
    string::~string((string *)(a1 + 20));
    string::~string((string *)(a1 + 16));
    string::~string((string *)(a1 + 12));
    string::~string((string *)(a1 + 8));
    string::~string((string *)(a1 + 4));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 447A50: using guessed type int (__cdecl *off_447A50)(void *, char);

//----- (00424EE4) --------------------------------------------------------
int __cdecl sub_424EE4(int a1)
{
  TGdiBase *v1; // eax
  TGdiBase *v2; // edx
  char v3; // dl
  unsigned int *v4; // eax
  unsigned int v5; // ecx
  int result; // eax
  char v7; // dl
  int v8; // eax
  int v9; // edx
  int v10; // [esp+30h] [ebp-18h]
  TGdiObject *v11; // [esp+34h] [ebp-14h]
  void (__cdecl ***v12)(_DWORD, int); // [esp+38h] [ebp-10h]
  TGdiBase *v13; // [esp+3Ch] [ebp-Ch]
  TGdiObject *v14; // [esp+40h] [ebp-8h]
  TGdiObject *v15; // [esp+44h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 68) != *(_DWORD *)(a1 + 64) )
  {
    v15 = *(TGdiObject **)(a1 + 68);
    if ( v15 )
    {
      TGdiObject::~TGdiObject(v15);
      operator delete(v15);
    }
    *(_DWORD *)(a1 + 68) = 0;
  }
  v14 = *(TGdiObject **)(a1 + 64);
  if ( v14 )
  {
    TGdiObject::~TGdiObject(v14);
    operator delete(v14);
  }
  v1 = (TGdiBase *)operator new(0xAu);
  v13 = v1;
  if ( v1 )
  {
    sub_41CF1F(v1);
    v2 = v13;
  }
  else
  {
    v2 = 0;
  }
  *(_DWORD *)(a1 + 64) = v2;
  *(_DWORD *)(a1 + 52) |= 8u;
  if ( *(_DWORD *)(a1 + 64) )
    v3 = *(_BYTE *)(*(_DWORD *)(a1 + 64) + 5);
  else
    v3 = 0;
  v4 = (unsigned int *)(a1 + 52);
  if ( v3 )
    v5 = *v4 & 0xFFFFFFEF;
  else
    v5 = *v4 | 0x10;
  *v4 = v5;
  operator delete(*(void **)(a1 + 72));
  *(_DWORD *)(a1 + 72) = 0;
  operator delete(*(void **)(a1 + 76));
  *(_DWORD *)(a1 + 76) = 0;
  v12 = *(void (__cdecl ****)(_DWORD, int))(a1 + 80);
  if ( v12 )
    (**v12)(v12, 3);
  *(_DWORD *)(a1 + 80) = 0;
  v11 = *(TGdiObject **)(a1 + 84);
  if ( v11 )
  {
    TGdiObject::~TGdiObject(v11);
    operator delete(v11);
  }
  *(_DWORD *)(a1 + 84) = 0;
  result = a1 + 88;
  *(_DWORD *)(a1 + 88) = TColor::Black;
  if ( *(_DWORD *)(a1 + 64) )
  {
    result = *(_DWORD *)(a1 + 64);
    v7 = *(_BYTE *)(result + 5);
  }
  else
  {
    v7 = 0;
  }
  if ( v7 )
  {
    v8 = operator new(0xAu);
    v10 = v8;
    if ( v8 )
    {
      sub_41CAD0(v8, 0x100u, 5);
      v9 = v10;
    }
    else
    {
      v9 = 0;
    }
    *(_DWORD *)(a1 + 80) = v9;
    sub_41CC49(*(_DWORD *)(a1 + 80), *(HGDIOBJ **)(a1 + 64));
    *(_DWORD *)(a1 + 76) = operator new[](4 * *(unsigned __int16 *)(*(_DWORD *)(a1 + 80) + 8));
    *(_DWORD *)(a1 + 72) = operator new[](4 * *(unsigned __int16 *)(*(_DWORD *)(a1 + 80) + 8));
    for ( result = 0; (unsigned __int16)result < *(_WORD *)(*(_DWORD *)(a1 + 80) + 8); ++result )
    {
      *(_BYTE *)(*(_DWORD *)(a1 + 72) + 4 * (unsigned __int16)result + 2) = -1;
      *(_BYTE *)(*(_DWORD *)(a1 + 72) + 4 * (unsigned __int16)result + 1) = -1;
      *(_BYTE *)(*(_DWORD *)(a1 + 72) + 4 * (unsigned __int16)result) = -1;
      *(_BYTE *)(*(_DWORD *)(a1 + 76) + 4 * (unsigned __int16)result + 2) = 0;
      *(_BYTE *)(*(_DWORD *)(a1 + 76) + 4 * (unsigned __int16)result + 1) = 0;
      *(_BYTE *)(*(_DWORD *)(a1 + 76) + 4 * (unsigned __int16)result) = 0;
      *(_BYTE *)(*(_DWORD *)(a1 + 76) + 4 * (unsigned __int16)result + 3) = 5;
      *(_BYTE *)(*(_DWORD *)(a1 + 72) + 4 * (unsigned __int16)result + 3) = 5;
    }
  }
  return result;
}

//----- (00425165) --------------------------------------------------------
int __cdecl sub_425165(int a1)
{
  sub_425190(a1);
  sub_424780(a1);
  *(_BYTE *)(a1 + 223) = 0;
  *(_DWORD *)(a1 + 92) = 0;
  *(_BYTE *)(a1 + 224) = 0;
  return 0;
}

//----- (00425190) --------------------------------------------------------
int __cdecl sub_425190(int a1)
{
  *(_DWORD *)(a1 + 56) = 0xFFFF;
  *(_DWORD *)(a1 + 60) = *(_DWORD *)(a1 + 56);
  return a1 + 60;
}

//----- (004251A8) --------------------------------------------------------
int __cdecl sub_4251A8(int a1)
{
  sub_425165(a1);
  sub_416FCD(a1 + 96);
  return sub_425227(a1, 0);
}

//----- (004251CE) --------------------------------------------------------
int __cdecl sub_4251CE(int *a1)
{
  int v1; // eax

  if ( !(*(unsigned __int8 (__cdecl **)(int *))(*(int *)((char *)a1 + 141) + 4))(a1 + 24) || !a1[23] )
    return 0x7FFFFFFF;
  v1 = sub_42634D((int)(a1 + 25), a1[23]);
  if ( v1 == -1 )
    return 0x7FFFFFFF;
  else
    return v1 + a1[24];
}

//----- (00425227) --------------------------------------------------------
int __cdecl sub_425227(int a1, int a2)
{
  int v2; // esi
  int result; // eax
  int v4; // [esp+8h] [ebp-28h]
  void (__cdecl ***v5)(_DWORD, int); // [esp+2Ch] [ebp-4h]

  v2 = a2;
  result = __InitExceptBlockLDTC();
  if ( !a2 )
    v2 = dword_446AB8;
  if ( v2 != *(_DWORD *)(a1 + 225) )
  {
    if ( *(_BYTE *)(a1 + 229) )
    {
      v5 = *(void (__cdecl ****)(_DWORD, int))(a1 + 225);
      if ( v5 )
        (**v5)(v5, 3);
    }
    *(_DWORD *)(a1 + 225) = v2;
    *(_BYTE *)(a1 + 229) = *(_DWORD *)(a1 + 225) != dword_446AB8;
    return v4;
  }
  return result;
}
// 4252AB: variable 'v4' is possibly undefined
// 446AB8: using guessed type int dword_446AB8;

//----- (004252BA) --------------------------------------------------------
int __cdecl sub_4252BA(int a1, int a2)
{
  TModule *v2; // eax
  TModule *v3; // ecx
  int v5; // [esp+10h] [ebp-34h]
  TModule *v6; // [esp+3Ch] [ebp-8h]
  int v7; // [esp+40h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v5 = 0;
  if ( *(_DWORD *)(*(_DWORD *)a2 + 6) )
  {
    sub_40411C((string *)&v7, a2, *(LPCSTR *)(*(_DWORD *)(a1 + 4) + 2));
    if ( sub_40453C((int)&v7) )
    {
      v2 = (TModule *)operator new(0x15u);
      v6 = v2;
      if ( v2 )
      {
        TModule::TModule(v2, *(const char **)(v7 + 2), 1, 1);
        v3 = v6;
      }
      else
      {
        v3 = 0;
      }
      v5 = (int)v3;
    }
    string::~string((string *)&v7);
  }
  return sub_425227(a1, v5);
}

//----- (004253C1) --------------------------------------------------------
char __cdecl sub_4253C1(int a1, char *a2, TGauge *a3)
{
  bool v4; // [esp-4h] [ebp-38h]
  _BYTE v5[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !a2 )
    goto LABEL_6;
  if ( !*a2 )
    goto LABEL_6;
  string::string((string *)v6, a2);
  v4 = sub_40453C((int)v6);
  string::~string((string *)v6);
  if ( !v4 )
    goto LABEL_6;
  sub_4251A8(a1);
  string::string((string *)v5, a2);
  string::assign((string *)(a1 + 36), (const string *)v5, 0, 0xFFFFFFFF);
  string::~string((string *)v5);
  string::to_lower((string *)(a1 + 36));
  sub_4254E7((_DWORD *)a1, *(char **)(*(_DWORD *)(a1 + 36) + 2));
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 40) + 6) )
  {
    sub_4177EF((_DWORD *)(a1 + 96), a1 + 40, a1 + 44, a3);
    sub_4252BA(a1, a1 + 153);
    *(_BYTE *)(a1 + 223) = 0;
    return 1;
  }
  else
  {
LABEL_6:
    sub_404ED9(0x71u);
    return 0;
  }
}

//----- (004254E7) --------------------------------------------------------
void __cdecl sub_4254E7(_DWORD *a1, char *a2)
{
  const CHAR *v2; // [esp-4h] [ebp-198h]
  char v3[260]; // [esp+Ch] [ebp-188h] BYREF
  int v4; // [esp+110h] [ebp-84h]
  LPCSTR v5; // [esp+114h] [ebp-80h]
  LPCSTR lpFileName; // [esp+118h] [ebp-7Ch]
  __int16 v7; // [esp+12Ch] [ebp-68h]
  int v8; // [esp+138h] [ebp-5Ch]
  _BYTE v9[4]; // [esp+140h] [ebp-54h] BYREF
  int v10; // [esp+144h] [ebp-50h] BYREF
  _BYTE v11[4]; // [esp+148h] [ebp-4Ch] BYREF
  int v12; // [esp+14Ch] [ebp-48h] BYREF
  _BYTE v13[4]; // [esp+150h] [ebp-44h] BYREF
  int v14; // [esp+154h] [ebp-40h] BYREF
  _BYTE v15[4]; // [esp+158h] [ebp-3Ch] BYREF
  int v16; // [esp+15Ch] [ebp-38h] BYREF
  _BYTE v17[4]; // [esp+160h] [ebp-34h] BYREF
  int v18; // [esp+164h] [ebp-30h] BYREF
  _BYTE v19[4]; // [esp+168h] [ebp-2Ch] BYREF
  int v20; // [esp+16Ch] [ebp-28h] BYREF
  _BYTE v21[4]; // [esp+170h] [ebp-24h] BYREF
  int v22; // [esp+174h] [ebp-20h] BYREF
  _BYTE v23[4]; // [esp+178h] [ebp-1Ch] BYREF
  _BYTE v24[4]; // [esp+17Ch] [ebp-18h] BYREF
  int v25; // [esp+180h] [ebp-14h] BYREF
  _BYTE v26[4]; // [esp+184h] [ebp-10h] BYREF
  int v27; // [esp+188h] [ebp-Ch] BYREF
  _BYTE v28[8]; // [esp+18Ch] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  string::string((string *)&v27, a2);
  ++v8;
  sub_4048F9((string *)v26, (int)&v27);
  ++v8;
  string::assign((string *)(a1 + 1), (const string *)v26, 0, 0xFFFFFFFF);
  --v8;
  string::~string((string *)v26);
  --v8;
  string::~string((string *)&v27);
  TProfile::TProfile((TProfile *)v28, "MAIN", a2);
  ++v8;
  v7 = 32;
  TProfile::GetString((TProfile *)v28, "DATFILE", v3, 0x104u, (const char *)&unk_44779C);
  v7 = 44;
  v2 = *(const CHAR **)(a1[1] + 2);
  string::string((string *)&v25, v3);
  ++v8;
  sub_40411C((string *)v24, (int)&v25, v2);
  ++v8;
  string::assign((string *)(a1 + 10), (const string *)v24, 0, 0xFFFFFFFF);
  --v8;
  string::~string((string *)v24);
  --v8;
  string::~string((string *)&v25);
  if ( **(_BYTE **)(a1[10] + 2) )
  {
    v7 = 56;
    sub_4048F9((string *)v23, (int)(a1 + 10));
    ++v8;
    string::assign((string *)(a1 + 1), (const string *)v23, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v23);
    lpFileName = a2;
    a1[14] = GetPrivateProfileIntA("MAIN", "LIMITS", 0xFFFF, a2);
    v5 = a2;
    a1[15] = GetPrivateProfileIntA("MAIN", "PREFS", 0xFFFF, a2);
    v4 = a1[13] & a1[14];
    a1[15] &= v4;
    TProfile::GetString((TProfile *)v28, "WAV", v3, 0x104u, (const char *)&unk_4477B8);
    v7 = 68;
    string::string((string *)&v22, v3);
    ++v8;
    sub_40402F((string *)v21, (string *)(a1 + 1), (int)&v22);
    ++v8;
    string::assign((string *)(a1 + 2), (const string *)v21, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v21);
    --v8;
    string::~string((string *)&v22);
    TProfile::GetString((TProfile *)v28, "MID", v3, 0x104u, (const char *)&unk_4477BD);
    v7 = 80;
    string::string((string *)&v20, v3);
    ++v8;
    sub_40402F((string *)v19, (string *)(a1 + 1), (int)&v20);
    ++v8;
    string::assign((string *)(a1 + 3), (const string *)v19, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v19);
    --v8;
    string::~string((string *)&v20);
    TProfile::GetString((TProfile *)v28, "PAL", v3, 0x104u, (const char *)&unk_4477C2);
    v7 = 92;
    string::string((string *)&v18, v3);
    ++v8;
    sub_40402F((string *)v17, (string *)(a1 + 1), (int)&v18);
    ++v8;
    string::assign((string *)(a1 + 4), (const string *)v17, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v17);
    --v8;
    string::~string((string *)&v18);
    TProfile::GetString((TProfile *)v28, "IMG8", v3, 0x104u, (const char *)&unk_4477C8);
    v7 = 104;
    string::string((string *)&v16, v3);
    ++v8;
    sub_40402F((string *)v15, (string *)(a1 + 1), (int)&v16);
    ++v8;
    string::assign((string *)(a1 + 5), (const string *)v15, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v15);
    --v8;
    string::~string((string *)&v16);
    TProfile::GetString((TProfile *)v28, "IMG24", v3, 0x104u, (const char *)&unk_4477CF);
    v7 = 116;
    string::string((string *)&v14, v3);
    ++v8;
    sub_40402F((string *)v13, (string *)(a1 + 1), (int)&v14);
    ++v8;
    string::assign((string *)(a1 + 6), (const string *)v13, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v13);
    --v8;
    string::~string((string *)&v14);
    TProfile::GetString((TProfile *)v28, "AVI", v3, 0x104u, (const char *)&unk_4477D4);
    v7 = 128;
    string::string((string *)&v12, v3);
    ++v8;
    sub_40402F((string *)v11, (string *)(a1 + 1), (int)&v12);
    ++v8;
    string::assign((string *)(a1 + 7), (const string *)v11, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v11);
    --v8;
    string::~string((string *)&v12);
    TProfile::GetString((TProfile *)v28, "TXT", v3, 0x104u, (const char *)&unk_4477D9);
    v7 = 140;
    string::string((string *)&v10, v3);
    ++v8;
    sub_40402F((string *)v9, (string *)(a1 + 1), (int)&v10);
    ++v8;
    string::assign((string *)(a1 + 8), (const string *)v9, 0, 0xFFFFFFFF);
    --v8;
    string::~string((string *)v9);
    --v8;
    string::~string((string *)&v10);
  }
  --v8;
  TProfile::~TProfile((TProfile *)v28);
}

//----- (00425AB4) --------------------------------------------------------
void __cdecl sub_425AB4(int *a1, char *a2)
{
  _BOOL1 v2; // bl
  const char *v3; // edx
  const char *v4; // ecx
  const char *v5; // eax
  const char *v6; // edx
  const char *v7; // ecx
  const char *v8; // eax
  const char *v9; // ecx
  const char *v10; // ecx
  unsigned int v11; // [esp-4h] [ebp-A8h]
  char v12; // [esp+13h] [ebp-91h]
  char v13; // [esp+1Bh] [ebp-89h]
  char v14; // [esp+23h] [ebp-81h]
  char v15; // [esp+2Bh] [ebp-79h]
  char v16; // [esp+33h] [ebp-71h]
  char v17; // [esp+3Bh] [ebp-69h]
  char v18; // [esp+43h] [ebp-61h]
  char v19; // [esp+4Bh] [ebp-59h]
  _DWORD v20[4]; // [esp+4Ch] [ebp-58h] BYREF
  __int16 v21; // [esp+5Ch] [ebp-48h]
  int v22; // [esp+68h] [ebp-3Ch]
  int v23; // [esp+70h] [ebp-34h] BYREF
  int v24; // [esp+74h] [ebp-30h] BYREF
  int v25; // [esp+78h] [ebp-2Ch] BYREF
  int v26; // [esp+7Ch] [ebp-28h] BYREF
  int v27; // [esp+80h] [ebp-24h] BYREF
  int v28; // [esp+84h] [ebp-20h] BYREF
  int v29; // [esp+88h] [ebp-1Ch] BYREF
  int v30; // [esp+8Ch] [ebp-18h] BYREF
  _BYTE v31[4]; // [esp+90h] [ebp-14h] BYREF
  _BYTE v32[4]; // [esp+94h] [ebp-10h] BYREF
  _BYTE v33[4]; // [esp+98h] [ebp-Ch] BYREF
  _BYTE v34[8]; // [esp+9Ch] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    v21 = 8;
    xerror::MakeString((xerror *)v33, "Precondition", "fn", "sysinfo.cpp", 0x105u);
    ++v22;
    xmsg::xmsg((xmsg *)v32, (const string *)v33);
    ++v22;
    v21 = 20;
    --v22;
    string::~string((string *)v33);
    v21 = 8;
    v22 += 2;
    v22 += 3;
    _ThrowExceptionLDTC(stru_403B88, v32, 0, sub_403BE0, 1u, 0, 0, 0, v20);
  }
  sub_403FCB(aMain_0, aLimits, a1[14], a2);
  sub_403FCB(aMain_1, aPrefs_0, a1[15], a2);
  v11 = *(_DWORD *)(a1[1] + 6);
  v21 = 44;
  string::string((string *)v31, a2);
  ++v22;
  v2 = string::compare((string *)(a1 + 1), (const string *)v31, 0, v11) == 0;
  --v22;
  string::~string((string *)v31);
  v21 = 56;
  TProfile::TProfile((TProfile *)v34, "MAIN", a2);
  ++v22;
  v21 = 32;
  if ( *(_DWORD *)(a1[10] + 6) )
  {
    v19 = 0;
    if ( v2 )
    {
      v19 = 1;
      v21 = 68;
      sub_404212((string *)&v30, (string *)(a1 + 1), (string *)(a1 + 10));
      ++v22;
      v3 = *(const char **)(v30 + 2);
    }
    else
    {
      v3 = *(const char **)(a1[10] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "DATFILE", v3);
    if ( v19 )
    {
      --v22;
      string::~string((string *)&v30);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "DATFILE", 0);
  }
  if ( *(_DWORD *)(a1[2] + 6) && (a1[14] & 1) != 0 )
  {
    v18 = 0;
    if ( v2 )
    {
      v18 = 1;
      v21 = 80;
      sub_404212((string *)&v29, (string *)(a1 + 1), (string *)(a1 + 2));
      ++v22;
      v4 = *(const char **)(v29 + 2);
    }
    else
    {
      v4 = *(const char **)(a1[1] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "WAV", v4);
    if ( v18 )
    {
      --v22;
      string::~string((string *)&v29);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "WAV", 0);
  }
  if ( *(_DWORD *)(a1[3] + 6) && (a1[14] & 2) != 0 )
  {
    v17 = 0;
    if ( v2 )
    {
      v17 = 1;
      v21 = 92;
      sub_404212((string *)&v28, (string *)(a1 + 1), (string *)(a1 + 3));
      ++v22;
      v5 = *(const char **)(v28 + 2);
    }
    else
    {
      v5 = *(const char **)(a1[3] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "MID", v5);
    if ( v17 )
    {
      --v22;
      string::~string((string *)&v28);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "MID", 0);
  }
  if ( *(_DWORD *)(a1[4] + 6) )
  {
    v16 = 0;
    if ( v2 )
    {
      v16 = 1;
      v21 = 104;
      sub_404212((string *)&v27, (string *)(a1 + 1), (string *)(a1 + 4));
      ++v22;
      v6 = *(const char **)(v27 + 2);
    }
    else
    {
      v6 = *(const char **)(a1[4] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "PAL", v6);
    if ( v16 )
    {
      --v22;
      string::~string((string *)&v27);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "PAL", 0);
  }
  if ( *(_DWORD *)(a1[5] + 6) && (a1[14] & 8) != 0 )
  {
    v15 = 0;
    if ( v2 )
    {
      v15 = 1;
      v21 = 116;
      sub_404212((string *)&v26, (string *)(a1 + 1), (string *)(a1 + 5));
      ++v22;
      v7 = *(const char **)(v26 + 2);
    }
    else
    {
      v7 = *(const char **)(a1[5] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "IMG8", v7);
    if ( v15 )
    {
      --v22;
      string::~string((string *)&v26);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "IMG8", 0);
  }
  if ( *(_DWORD *)(a1[6] + 6) && (a1[14] & 0x10) != 0 )
  {
    v14 = 0;
    if ( v2 )
    {
      v14 = 1;
      v21 = 128;
      sub_404212((string *)&v25, (string *)(a1 + 1), (string *)(a1 + 6));
      ++v22;
      v8 = *(const char **)(v25 + 2);
    }
    else
    {
      v8 = *(const char **)(a1[6] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "IMG24", v8);
    if ( v14 )
    {
      --v22;
      string::~string((string *)&v25);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "IMG24", 0);
  }
  if ( *(_DWORD *)(a1[7] + 6) && (a1[14] & 4) != 0 )
  {
    v13 = 0;
    if ( v2 )
    {
      v13 = 1;
      v21 = 140;
      sub_404212((string *)&v24, (string *)(a1 + 1), (string *)(a1 + 7));
      ++v22;
      v9 = *(const char **)(v24 + 2);
    }
    else
    {
      v9 = *(const char **)(a1[7] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "AVI", v9);
    if ( v13 )
    {
      --v22;
      string::~string((string *)&v24);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "AVI", 0);
  }
  if ( *(_DWORD *)(a1[8] + 6) )
  {
    v12 = 0;
    if ( v2 )
    {
      v12 = 1;
      v21 = 152;
      sub_404212((string *)&v23, (string *)(a1 + 1), (string *)(a1 + 8));
      ++v22;
      v10 = *(const char **)(v23 + 2);
    }
    else
    {
      v10 = *(const char **)(a1[8] + 2);
    }
    TProfile::WriteString((TProfile *)v34, "TXT", v10);
    if ( v12 )
    {
      --v22;
      string::~string((string *)&v23);
    }
  }
  else
  {
    TProfile::WriteString((TProfile *)v34, "TXT", 0);
  }
  --v22;
  TProfile::~TProfile((TProfile *)v34);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00426184) --------------------------------------------------------
void __cdecl sub_426184(int a1, int a2, TGauge *a3)
{
  CHAR Filename[260]; // [esp+8h] [ebp-13Ch] BYREF
  _DWORD v4[4]; // [esp+10Ch] [ebp-38h] BYREF
  __int16 v5; // [esp+11Ch] [ebp-28h]
  int v6; // [esp+128h] [ebp-1Ch]
  int v7; // [esp+130h] [ebp-14h] BYREF
  int v8; // [esp+134h] [ebp-10h] BYREF
  int v9; // [esp+138h] [ebp-Ch] BYREF
  _BYTE v10[4]; // [esp+13Ch] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+140h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a2 + 12) <= 0x20u )
  {
    xerror::MakeString((xerror *)v11, aPrecondition_65, aHandleHinstanc, aCBc5IncludeOwl_20, 0x3DAu);
    ++v6;
    xmsg::xmsg((xmsg *)v10, (const string *)v11);
    ++v6;
    v5 = 12;
    --v6;
    string::~string((string *)v11);
    v6 += 2;
    v6 += 3;
    _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v4);
  }
  GetModuleFileNameA(*(HMODULE *)(a2 + 12), Filename, 0x104u);
  v5 = 24;
  string::string((string *)&v9, aVnp);
  ++v6;
  string::string((string *)&v8, Filename);
  ++v6;
  sub_404ACF((string *)&v7, (int)&v8, (int)&v9);
  ++v6;
  sub_4253C1(a1, *(char **)(v7 + 2), a3);
  --v6;
  string::~string((string *)&v7);
  --v6;
  string::~string((string *)&v8);
  --v6;
  string::~string((string *)&v9);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004262D4) --------------------------------------------------------
_DWORD *__cdecl sub_4262D4(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  return a1;
}

//----- (0042634D) --------------------------------------------------------
int __cdecl sub_42634D(int a1, int a2)
{
  unsigned int i; // ebx

  if ( (**(int (__cdecl ***)(int))(a1 + 1))(a1) )
  {
    for ( i = 0; i < (**(int (__cdecl ***)(int))(a1 + 1))(a1); ++i )
    {
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i) && a2 == *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i) )
        return i;
    }
  }
  return -1;
}

//----- (00426399) --------------------------------------------------------
int __cdecl sub_426399(int a1, int a2)
{
  unsigned int v2; // esi
  int v4; // eax
  _BYTE v5[16]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v6; // [esp+1Ch] [ebp-1Ch]
  int v7; // [esp+28h] [ebp-10h]
  _BYTE v8[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  while ( *(_DWORD *)(a1 + 13) < *(_DWORD *)(a1 + 9) )
  {
    v2 = *(_DWORD *)(a1 + 13);
    if ( *(_DWORD *)(a1 + 9) && (!*(_DWORD *)(a1 + 5) || v2 >= *(_DWORD *)(a1 + 9)) )
    {
      xerror::MakeString((xerror *)v9, aPrecondition_66, aLim0Data0Index_17, aCBc5IncludeCla_29, 0x334u);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 12;
      --v7;
      string::~string((string *)v9);
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    if ( !*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v2) )
      break;
    ++*(_DWORD *)(a1 + 13);
  }
  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_406954(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v4 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v4 + 1;
  *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v4) = a2;
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004264AF) --------------------------------------------------------
int __cdecl sub_4264AF(int a1)
{
  int result; // eax

  result = __InitExceptBlockLDTC();
  if ( a1 )
    return (*(int (__cdecl **)(int, int))(*(_DWORD *)a1 + 8))(a1, 3);
  return result;
}

//----- (004264F3) --------------------------------------------------------
int __cdecl sub_4264F3(int a1, int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // esi
  unsigned int *v5; // ecx
  unsigned int v7; // [esp+8h] [ebp-4h] BYREF

  v4 = a4;
  v7 = *(_DWORD *)(a1 + 9);
  if ( a3 >= v7 )
    v5 = &v7;
  else
    v5 = &a3;
  a3 = *v5;
  if ( a2 )
    sub_426547(a1, (int (__cdecl *)(_DWORD, int))sub_4264AF, 0, a4, a3);
  return (*(int (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v4, a3);
}

//----- (00426547) --------------------------------------------------------
int __cdecl sub_426547(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5)
{
  unsigned int i; // ebx
  int result; // eax

  for ( i = a4; a5 > i; ++i )
  {
    result = *(_DWORD *)(a1 + 5);
    if ( *(_DWORD *)(result + 4 * i) )
      result = a2(*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i), a3);
  }
  return result;
}

//----- (0042657C) --------------------------------------------------------
unsigned int __cdecl sub_42657C(int a1, unsigned int a2, unsigned int a3)
{
  unsigned int result; // eax
  int *v4; // edx
  unsigned int v5; // [esp+8h] [ebp-4h] BYREF

  for ( result = a2; ; ++result )
  {
    v5 = *(_DWORD *)(a1 + 9);
    v4 = (int *)(v5 >= a3 ? &a3 : &v5);
    if ( result >= *v4 )
      break;
    *(_DWORD *)(4 * result + *(_DWORD *)(a1 + 5)) = 0;
  }
  return result;
}

//----- (00426608) --------------------------------------------------------
bool __cdecl sub_426608(_DWORD *a1)
{
  return a1[2] && a1[3] && a1[4];
}

//----- (0042662B) --------------------------------------------------------
bool __cdecl sub_42662B(_BYTE *a1, ipstream *a2)
{
  bool result; // eax

  ipstream::readBytes(a2, a1 + 8, 4u);
  ipstream::readBytes(a2, a1 + 12, 4u);
  ipstream::readBytes(a2, a1 + 16, 4u);
  result = ipstream::readWord32(a2) != 0;
  a1[20] = result;
  return result;
}

//----- (00426684) --------------------------------------------------------
bool __cdecl sub_426684(int a1, ipstream *a2)
{
  return sub_42662B((_BYTE *)(a1 - 4), a2);
}

//----- (0042668E) --------------------------------------------------------
void __cdecl sub_42668E(int a1, char a2)
{
  sub_41860C((void *)(a1 - 4), a2);
}

//----- (00426698) --------------------------------------------------------
int __cdecl sub_426698(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (004266A3) --------------------------------------------------------
int __cdecl sub_4266A3(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (004266AE) --------------------------------------------------------
int __cdecl sub_4266AE(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (004266F0) --------------------------------------------------------
int __cdecl sub_4266F0(TDialog *a1)
{
  int v1; // esi
  int v2; // esi
  struct tagPOINT Point; // [esp+8h] [ebp-3Ch] BYREF
  _DWORD v5[4]; // [esp+10h] [ebp-34h] BYREF
  __int16 v6; // [esp+20h] [ebp-24h]
  int v7; // [esp+2Ch] [ebp-18h]
  _BYTE v8[4]; // [esp+34h] [ebp-10h] BYREF
  _BYTE v9[4]; // [esp+38h] [ebp-Ch] BYREF
  _BYTE v10[4]; // [esp+3Ch] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+40h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  TDialog::SetupWindow(a1);
  if ( !*(_DWORD *)(*(_DWORD *)a1 + 20) )
    goto LABEL_8;
  v1 = *(_DWORD *)(*(_DWORD *)a1 + 20);
  if ( !*(_DWORD *)(v1 + 12) )
  {
    xerror::MakeString((xerror *)v11, aPrecondition_67, aGethandle_20, aCBc5IncludeOwl_21, 0x6B4u);
    ++v7;
    xmsg::xmsg((xmsg *)v10, (const string *)v11);
    ++v7;
    v6 = 12;
    --v7;
    string::~string((string *)v11);
    v7 += 2;
    v7 += 3;
    _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v5);
  }
  if ( IsZoomed(*(HWND *)(v1 + 12)) )
  {
LABEL_8:
    Point.x = (GetSystemMetrics(TUIMetric::CxScreen) - *(_DWORD *)(*(_DWORD *)a1 + 40)) / 2;
    Point.y = (GetSystemMetrics(TUIMetric::CyScreen) - *(_DWORD *)(*(_DWORD *)a1 + 44)) / 2;
  }
  else
  {
    Point.x = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 20) + 32)
            + (*(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 20) + 40) - *(_DWORD *)(*(_DWORD *)a1 + 40)) / 2;
    Point.y = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 20) + 36)
            + (*(_DWORD *)(*(_DWORD *)(*(_DWORD *)a1 + 20) + 44) - *(_DWORD *)(*(_DWORD *)a1 + 44)) / 2;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 20);
    if ( !*(_DWORD *)(v2 + 12) )
    {
      v6 = 24;
      xerror::MakeString((xerror *)v9, aPrecondition_68, aGethandle_21, aCBc5IncludeOwl_22, 0x5C5u);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 36;
      --v7;
      string::~string((string *)v9);
      v6 = 24;
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    ClientToScreen(*(HWND *)(v2 + 12), &Point);
  }
  return TWindow::SetWindowPos(*(TWindow **)a1, 0, Point.x, Point.y, 0, 0, 5u);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004268F8) --------------------------------------------------------
char __cdecl sub_4268F8(TWindow *a1, int arglist, char a3, char a4)
{
  int v4; // ebx
  int v5; // edx
  int v7; // edx
  unsigned int v9; // [esp+Ch] [ebp-5Ch]
  int v10; // [esp+1Ch] [ebp-4Ch]
  int v11; // [esp+2Ch] [ebp-3Ch]
  int v12; // [esp+30h] [ebp-38h]
  _DWORD v13[4]; // [esp+34h] [ebp-34h] BYREF
  __int16 v14; // [esp+44h] [ebp-24h]
  int v15; // [esp+50h] [ebp-18h]
  _BYTE v16[4]; // [esp+58h] [ebp-10h] BYREF
  _BYTE v17[4]; // [esp+5Ch] [ebp-Ch] BYREF
  _BYTE v18[4]; // [esp+60h] [ebp-8h] BYREF
  int v19; // [esp+64h] [ebp-4h]

  v4 = arglist;
  __InitExceptBlockLDTC();
  if ( a3 && (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
  {
    v12 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    v11 = sub_42634D((int)&unk_44EC74, v12);
    if ( v11 == -1 )
      v5 = 0x7FFFFFFF;
    else
      v5 = dword_44EC70 + v11;
    v4 = v5 + arglist;
    if ( v5 + arglist > (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) )
      v4 -= (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74);
    if ( v4 < 1 )
      v4 += (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74);
  }
  if ( v4 >= 1 && (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) >= v4 )
  {
    v14 = 8;
    string::string((string *)v18, (const string *)&unk_44EC34);
    v19 = v4;
    sub_435F74((TWindow *)((char *)a1 + 142), (string *)v18);
    v15 += 2;
    string::~string((string *)v18);
    sub_433F55((int)a1);
    v10 = v4 + 1;
    if ( v4 + 1 >= dword_44EC70 )
    {
      if ( dword_44EC7D == -1 )
        v7 = 0x7FFFFFFF;
      else
        v7 = dword_44EC70 + dword_44EC7D;
      if ( v7 <= v10 )
        sub_406954((int)&unk_44EC74, v10 - dword_44EC70, 0);
    }
    else
    {
      sub_406954((int)&unk_44EC74, dword_44EC7D + v10 - dword_44EC70, 0);
    }
    v9 = v4 - dword_44EC70;
    if ( dword_44EC7D && (!dword_44EC79 || v9 >= dword_44EC7D) )
    {
      v14 = 20;
      xerror::MakeString((xerror *)v17, aPrecondition_69, aLim0Data0Index_18, aCBc5IncludeCla_30, 0x334u);
      ++v15;
      xmsg::xmsg((xmsg *)v16, (const string *)v17);
      ++v15;
      v14 = 32;
      --v15;
      string::~string((string *)v17);
      v14 = 20;
      v15 += 2;
      v15 += 3;
      _ThrowExceptionLDTC(stru_403B88, v16, 0, sub_403BE0, 1u, 0, 0, 0, v13);
    }
    sub_434070(a1, *(_DWORD *)(dword_44EC79 + 4 * v9), a4);
    return 1;
  }
  else
  {
    sub_404F9C(0x68u, v4);
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC70: using guessed type int dword_44EC70;
// 44EC75: using guessed type int dword_44EC75;
// 44EC79: using guessed type int dword_44EC79;
// 44EC7D: using guessed type int dword_44EC7D;

//----- (00426B62) --------------------------------------------------------
char __cdecl sub_426B62(int a1, int arglist)
{
  int v3; // eax
  int v4; // edi
  int v6; // eax
  _DWORD *v7; // ebx
  int v8; // edi
  int v9; // eax
  int v10; // [esp-Ch] [ebp-5Ch]
  unsigned int v11; // [esp+10h] [ebp-40h]
  int v12; // [esp+18h] [ebp-38h]
  _DWORD v13[4]; // [esp+24h] [ebp-2Ch] BYREF
  __int16 v14; // [esp+34h] [ebp-1Ch]
  int v15; // [esp+40h] [ebp-10h]
  _BYTE v16[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v17[4]; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) || !*(_DWORD *)(a1 + 134) )
    return 0;
  v3 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
  v4 = v3 + 104;
  if ( arglist >= (*(int (__cdecl **)(int))(*(_DWORD *)(v3 + 141) + 8))(v3 + 104)
    && arglist <= (*(int (__cdecl **)(int))(*(_DWORD *)(v4 + 37) + 12))(v4) )
  {
    v6 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
    v7 = (_DWORD *)(v6 + 104);
    v8 = arglist + 1;
    if ( arglist + 1 >= *(_DWORD *)(v6 + 104) )
    {
      v12 = *(_DWORD *)(v6 + 117);
      if ( v12 == -1 )
        v9 = 0x7FFFFFFF;
      else
        v9 = *v7 + v12;
      if ( v8 >= v9 )
        sub_406954((int)(v7 + 1), v8 - *v7, 0);
    }
    else
    {
      sub_406954(v6 + 108, *(_DWORD *)(v6 + 117) + v8 - *(_DWORD *)(v6 + 104), 0);
    }
    v11 = arglist - *v7;
    if ( *(_DWORD *)((char *)v7 + 13) && (!*(_DWORD *)((char *)v7 + 9) || *(_DWORD *)((char *)v7 + 13) <= v11) )
    {
      xerror::MakeString((xerror *)v17, aPrecondition_70, aLim0Data0Index_19, aCBc5IncludeCla_31, 0x334u);
      ++v15;
      xmsg::xmsg((xmsg *)v16, (const string *)v17);
      ++v15;
      v14 = 12;
      --v15;
      string::~string((string *)v17);
      v15 += 2;
      v15 += 3;
      _ThrowExceptionLDTC(stru_403B88, v16, 0, sub_403BE0, 1u, 0, 0, 0, v13);
    }
    v10 = *(_DWORD *)(4 * v11 + *(_DWORD *)((char *)v7 + 9));
    (*(void (__cdecl **)(int, int, int))(*(_DWORD *)v10 + 8))(v10, a1, 1);
    return 1;
  }
  else
  {
    sub_404F9C(0x69u, arglist);
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00426D33) --------------------------------------------------------
char __cdecl sub_426D33(int a1, int a2)
{
  TFont *v3; // eax
  int v4; // esi
  HDC v5; // eax
  const TBrush *v6; // eax
  const void *v7; // eax
  struct tagPOINT v8; // [esp+Ch] [ebp-58h] BYREF
  int v9; // [esp+14h] [ebp-50h]
  int v10; // [esp+18h] [ebp-4Ch]
  _BYTE v11[4]; // [esp+1Ch] [ebp-48h] BYREF
  struct tagPOINT Point; // [esp+20h] [ebp-44h] BYREF
  _DWORD v13[4]; // [esp+28h] [ebp-3Ch] BYREF
  __int16 v14; // [esp+38h] [ebp-2Ch]
  int v15; // [esp+44h] [ebp-20h]
  _BYTE v16[8]; // [esp+4Ch] [ebp-18h] BYREF
  _BYTE v17[8]; // [esp+54h] [ebp-10h] BYREF
  _BYTE v18[4]; // [esp+5Ch] [ebp-8h] BYREF
  _BYTE v19[4]; // [esp+60h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) || !*(_DWORD *)(a1 + 134) )
    return 0;
  if ( !**(_BYTE **)(*(_DWORD *)a2 + 2) )
    return 0;
  GetCursorPos(&Point);
  if ( !*(_DWORD *)(a1 + 12) )
  {
    xerror::MakeString((xerror *)v19, aPrecondition_71, aGethandle_22, aCBc5IncludeOwl_23, 0x593u);
    ++v15;
    xmsg::xmsg((xmsg *)v18, (const string *)v19);
    ++v15;
    v14 = 12;
    --v15;
    string::~string((string *)v19);
    v15 += 2;
    v15 += 3;
    _ThrowExceptionLDTC(stru_403B88, v18, 0, sub_403BE0, 1u, 0, 0, 0, v13);
  }
  ScreenToClient(*(HWND *)(a1 + 12), &Point);
  v8 = Point;
  v9 = 0;
  v10 = 0;
  v14 = 24;
  v3 = TFont::TFont((TFont *)v17, aMsSansSerif, -9, 0, 0, 0, 400, 0, 0, 0, 0, 1u, 0, 0, 0);
  v15 += 2;
  (*(void (__cdecl **)(_DWORD, TFont *))(*(_DWORD *)(*(_DWORD *)(a1 + 134) + 5) + 20))(*(_DWORD *)(a1 + 134), v3);
  v15 -= 2;
  v15 += 2;
  --v15;
  TGdiObject::~TGdiObject((TGdiObject *)v17);
  (*(void (__cdecl **)(_BYTE *, _DWORD, TColor *))(*(_DWORD *)(*(_DWORD *)(a1 + 134) + 5) + 36))(
    v11,
    *(_DWORD *)(a1 + 134),
    TColor::Black);
  v4 = *(_DWORD *)(a1 + 134);
  if ( (*(int (__cdecl **)(int))(*(_DWORD *)(v4 + 5) + 88))(v4) != *(_DWORD *)v4 )
    SetBkMode(*(HDC *)v4, 1);
  v5 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(v4 + 5) + 88))(v4);
  SetBkMode(v5, 1);
  (*(void (__cdecl **)(_DWORD, _DWORD, int, struct tagPOINT *, int))(*(_DWORD *)(*(_DWORD *)(a1 + 134) + 5) + 80))(
    *(_DWORD *)(a1 + 134),
    *(_DWORD *)(*(_DWORD *)a2 + 2),
    -1,
    &v8,
    3328);
  TRect::Inflate((TRect *)&v8, 4, 2);
  if ( Point.y + v10 - v8.y > *(_DWORD *)(a1 + 276) )
    Point.y = *(_DWORD *)(a1 + 276) - (v10 - v8.y) - 1;
  if ( Point.x + v9 - v8.x > *(_DWORD *)(a1 + 272) )
    Point.x = *(_DWORD *)(a1 + 272) - (v9 - v8.x) - 1;
  TRect::Offset((TRect *)&v8, Point.x - v8.x, Point.y - v8.y);
  v14 = 36;
  v6 = TBrush::TBrush((TBrush *)v16, TColor::LtGray);
  v15 += 2;
  TDC::SelectObject(*(TDC **)(a1 + 134), v6);
  v15 -= 2;
  TBrush::~TBrush((TBrush *)v16);
  PatBlt(**(HDC **)(a1 + 134), v8.x, v8.y, v9 - v8.x, v10 - v8.y, 0xF00021u);
  TRect::Inflate((TRect *)&v8, -4, -2);
  (*(void (__cdecl **)(_DWORD, _DWORD, int, struct tagPOINT *, int))(*(_DWORD *)(*(_DWORD *)(a1 + 134) + 5) + 80))(
    *(_DWORD *)(a1 + 134),
    *(_DWORD *)(*(_DWORD *)a2 + 2),
    -1,
    &v8,
    2304);
  (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 134) + 5) + 28))(*(_DWORD *)(a1 + 134));
  v7 = (const void *)TRect::Inflate((TRect *)&v8, 4, 2);
  sub_4332A5((_DWORD *)a1, v7);
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0042703A) --------------------------------------------------------
int __cdecl sub_42703A(int *a1, int a2, int a3, _DWORD *a4)
{
  int v5; // eax
  char v6; // al
  long double v8; // fst7
  int *v9; // eax
  int *v10; // edx
  _BOOL1 v11; // cl
  int v12; // ecx
  int v13; // ecx
  int v14; // ecx
  int v15; // edx
  int v17; // eax
  bool v18; // [esp+8h] [ebp-A0h]
  int v19; // [esp+8h] [ebp-A0h]
  _DWORD v20[4]; // [esp+18h] [ebp-90h] BYREF
  _DWORD v21[5]; // [esp+28h] [ebp-80h] BYREF
  int v22; // [esp+3Ch] [ebp-6Ch]
  int *v23; // [esp+40h] [ebp-68h]
  int *v24; // [esp+44h] [ebp-64h]
  int v25; // [esp+48h] [ebp-60h]
  int *v26; // [esp+4Ch] [ebp-5Ch]
  int *v27; // [esp+50h] [ebp-58h]
  int v28; // [esp+54h] [ebp-54h]
  int *v29; // [esp+58h] [ebp-50h]
  int *v30; // [esp+5Ch] [ebp-4Ch]
  _BOOL1 v31; // [esp+63h] [ebp-45h]
  int v32[3]; // [esp+64h] [ebp-44h] BYREF
  char v33; // [esp+73h] [ebp-35h]
  __int16 v34; // [esp+84h] [ebp-24h]
  int v35; // [esp+90h] [ebp-18h]
  _BYTE v36[4]; // [esp+98h] [ebp-10h] BYREF
  _BYTE v37[4]; // [esp+9Ch] [ebp-Ch] BYREF
  _BYTE v38[4]; // [esp+A0h] [ebp-8h] BYREF
  _BYTE v39[4]; // [esp+A4h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int *))(a1[2] + 124))(a1) || !*(int *)((char *)a1 + 134) )
    return 0;
  if ( (dword_44EC44 & 4) == 0 )
    return 0;
  if ( (byte_44EC4C & 4) != 0 )
  {
    v33 = 0;
    string::string((string *)v39);
    ++v35;
    v34 = 20;
    if ( (*(int (__cdecl **)(int *))(a1[2] + 124))(a1) )
    {
      v5 = (*(int (__cdecl **)(int *))(a1[2] + 124))(a1);
      string::assign((string *)v39, (const string *)(v5 + 36), 0, 0xFFFFFFFF);
    }
    else
    {
      v34 = 32;
      string::string((string *)v37, &byte_448FF0);
      string::assign((string *)v39, (const string *)v37, 0, 0xFFFFFFFF);
      string::~string((string *)v37);
    }
    TWindow::SetCursor(a1, dword_44ECF1, 98);
    v34 = 44;
    sub_40411C((string *)v38, a2, *(LPCSTR *)(unk_44EC2C + 2));
    ++v35;
    v34 = 20;
    if ( (*(unsigned __int8 (__cdecl **)(_DWORD, _BYTE *, int))(**(_DWORD **)((char *)a1 + 170) + 28))(
           *(int *)((char *)a1 + 170),
           v38,
           a3) )
    {
      if ( dword_44EC50 )
        v6 = *((_BYTE *)dword_44EC50 + 5);
      else
        v6 = 0;
      if ( v6 )
      {
        if ( !dword_44EC54
          || (v34 = 56,
              string::string((string *)v36, aSystem),
              v18 = string::compare((string *)v39, (const string *)v36) == 0,
              string::~string((string *)v36),
              v18) )
        {
          sub_41BE80(*(int *)((char *)a1 + 170), *(_DWORD *)dword_44EC50);
        }
        else
        {
          sub_41BE80(*(int *)((char *)a1 + 170), *(_DWORD *)dword_44EC54);
        }
      }
      else
      {
        sub_41BE80(*(int *)((char *)a1 + 170), 0);
      }
      v34 = 20;
      if ( *a4 >= a4[2] || a4[1] >= a4[3] )
      {
        if ( *(int *)((char *)a1 + 178) )
        {
          v9 = a1 + 66;
          v10 = (int *)(*(int *)((char *)a1 + 178) + 13);
          v11 = *v10 < a1[68]
             && *(_DWORD *)(*(int *)((char *)a1 + 178) + 21) > *v9
             && *(_DWORD *)(*(int *)((char *)a1 + 178) + 17) < a1[69]
             && *(_DWORD *)(*(int *)((char *)a1 + 178) + 25) > a1[67];
          v31 = v11;
          if ( v11 )
          {
            v30 = a1 + 69;
            v29 = v10 + 3;
            if ( v10[3] >= a1[69] )
              v12 = *v30;
            else
              v12 = *v29;
            v28 = v12;
            v27 = a1 + 68;
            v26 = v10 + 2;
            if ( v10[2] >= a1[68] )
              v13 = *v27;
            else
              v13 = *v26;
            v25 = v13;
            v24 = a1 + 67;
            v23 = v10 + 1;
            if ( v10[1] <= a1[67] )
              v14 = *v24;
            else
              v14 = *v23;
            v22 = v14;
            if ( *v10 <= *v9 )
              v15 = *v9;
            else
              v15 = *v10;
            v21[4] = v15;
            v20[0] = v15;
            v20[1] = v22;
            v20[2] = v25;
            v20[3] = v28;
          }
          else
          {
            memset(v20, 0, sizeof(v20));
          }
          qmemcpy(v21, v20, 0x10u);
        }
        else
        {
          qmemcpy(v21, a1 + 66, 0x10u);
        }
      }
      else
      {
        qmemcpy(v21, a4, 0x10u);
        sub_433569(v32, (int)a1);
        v8 = sub_43353D((int)a1);
        sub_405119((TRect *)v21, v8, v32);
      }
      sub_41BE91(*(int *)((char *)a1 + 170), v21);
      if ( a1[72] > v21[0] && a1[70] < v21[2] && a1[73] > v21[1] && a1[71] < v21[3] )
        sub_433314((int)a1, 0);
      if ( (a3 & 1) != 0 )
        ShowCursor(0);
      v33 = (*(int (__cdecl **)(_DWORD, int, _DWORD, _DWORD))(**(_DWORD **)((char *)a1 + 170) + 32))(
              *(int *)((char *)a1 + 170),
              1,
              0,
              0);
      if ( (a3 & 1) != 0 )
      {
        if ( (a3 & 2) == 0 )
          (*(void (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 170) + 48))(*(int *)((char *)a1 + 170));
        ShowCursor(1);
      }
    }
    sub_433107((int)a1);
    LOBYTE(v17) = v33;
    v19 = v17;
    --v35;
    string::~string((string *)v38);
    --v35;
    string::~string((string *)v39);
    return v19;
  }
  else
  {
    (*(void (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 170) + 48))(*(int *)((char *)a1 + 170));
    return 0;
  }
}
// 42747B: variable 'v17' is possibly undefined
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 44EC44: using guessed type int dword_44EC44;
// 44EC4C: using guessed type char byte_44EC4C;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (004274B0) --------------------------------------------------------
char __cdecl sub_4274B0(_DWORD *a1, int a2, __int16 a3, const void *a4)
{
  long double v5; // fst7
  int v6; // esi
  HDC v7; // eax
  int v8; // ecx
  int v9; // ecx
  _BYTE v10[16]; // [esp+18h] [ebp-1Ch] BYREF
  _BYTE v11[4]; // [esp+28h] [ebp-Ch] BYREF
  int v12[2]; // [esp+2Ch] [ebp-8h] BYREF

  if ( !(*(int (__cdecl **)(_DWORD *))(a1[2] + 124))(a1) || !*(_DWORD *)((char *)a1 + 134) )
    return 0;
  qmemcpy(v10, a4, sizeof(v10));
  sub_433569(v12, (int)a1);
  v5 = sub_43353D((int)a1);
  sub_405119((TRect *)v10, v5, v12);
  if ( dword_44EC64 )
    (*(void (__cdecl **)(_DWORD, int))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 134) + 5) + 20))(
      *(_DWORD *)((char *)a1 + 134),
      dword_44EC64);
  v6 = *(_DWORD *)((char *)a1 + 134);
  if ( (*(int (__cdecl **)(int))(*(_DWORD *)(v6 + 5) + 88))(v6) != *(_DWORD *)v6 )
    SetBkMode(*(HDC *)v6, 1);
  v7 = (HDC)(*(int (__cdecl **)(int))(*(_DWORD *)(v6 + 5) + 88))(v6);
  SetBkMode(v7, 1);
  (*(void (__cdecl **)(_BYTE *, _DWORD, int *))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 134) + 5) + 36))(
    v11,
    *(_DWORD *)((char *)a1 + 134),
    &dword_44EC68);
  LOWORD(v8) = a3 | 0x400;
  (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _BYTE *, int))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 134) + 5) + 80))(
    *(_DWORD *)((char *)a1 + 134),
    *(_DWORD *)(*(_DWORD *)a2 + 2),
    *(_DWORD *)(*(_DWORD *)a2 + 6),
    v10,
    v8);
  LOWORD(v9) = a3;
  (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _BYTE *, int))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 134) + 5) + 80))(
    *(_DWORD *)((char *)a1 + 134),
    *(_DWORD *)(*(_DWORD *)a2 + 2),
    *(_DWORD *)(*(_DWORD *)a2 + 6),
    v10,
    v9);
  if ( dword_44EC64 )
    (*(void (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 134) + 5) + 28))(*(_DWORD *)((char *)a1 + 134));
  sub_4332A5(a1, v10);
  return 1;
}
// 4275A0: variable 'v8' is possibly undefined
// 4275C3: variable 'v9' is possibly undefined
// 44EC64: using guessed type int dword_44EC64;
// 44EC68: using guessed type int dword_44EC68;

//----- (004275F6) --------------------------------------------------------
int __cdecl sub_4275F6(int a1, int a2, int a3, const void *a4, int a5)
{
  void *v6; // ecx
  TBitmap *v7; // ecx
  TBitmap *v8; // eax
  void *v9; // edx
  TBitmap *v10; // ecx
  TBitmap *v11; // eax
  int v12; // eax
  int v13; // eax
  long double v14; // fst7
  int v15; // eax
  int v16; // [esp+8h] [ebp-BCh]
  int v17[4]; // [esp+18h] [ebp-ACh] BYREF
  int v18[2]; // [esp+28h] [ebp-9Ch] BYREF
  int v19; // [esp+30h] [ebp-94h]
  int v20; // [esp+34h] [ebp-90h]
  _DWORD v21[4]; // [esp+38h] [ebp-8Ch] BYREF
  __int16 v22; // [esp+48h] [ebp-7Ch]
  int v23; // [esp+54h] [ebp-70h]
  _BYTE v24[4]; // [esp+5Ch] [ebp-68h] BYREF
  _BYTE v25[4]; // [esp+60h] [ebp-64h] BYREF
  int v26[4]; // [esp+64h] [ebp-60h] BYREF
  HDC v27[9]; // [esp+74h] [ebp-50h] BYREF
  TBitmap *v28; // [esp+9Ch] [ebp-28h]
  TBitmap *v29; // [esp+A0h] [ebp-24h]
  _BYTE v30[4]; // [esp+A4h] [ebp-20h] BYREF
  TBitmap *v31; // [esp+ACh] [ebp-18h]
  TBitmap *v32; // [esp+B0h] [ebp-14h]
  _BYTE v33[4]; // [esp+B4h] [ebp-10h] BYREF
  int v34[3]; // [esp+B8h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) || !*(_DWORD *)(a1 + 134) )
    return 0;
  string::string((string *)v34);
  ++v23;
  v20 = 0;
  v22 = 32;
  if ( (byte_44EC4C & 0x10) != 0 )
    v6 = &unk_44EC28;
  else
    v6 = &unk_44EC24;
  sub_40411C((string *)v33, a2, *(LPCSTR *)(*(_DWORD *)v6 + 2));
  string::assign((string *)v34, (const string *)v33, 0, 0xFFFFFFFF);
  string::~string((string *)v33);
  if ( sub_40453C((int)v34) )
  {
    v22 = 44;
    if ( dword_44EC54 )
    {
      v32 = (TBitmap *)operator new(0xDu);
      if ( v32 )
      {
        sub_41D5D3(v32, (int)v34, dword_44EC54);
        v22 = 56;
        v7 = v32;
      }
      else
      {
        v7 = 0;
      }
      v20 = (int)v7;
    }
    else
    {
      v31 = (TBitmap *)operator new(0xDu);
      if ( v31 )
      {
        sub_41D5D3(v31, (int)v34, dword_44EC50);
        v22 = 80;
        v8 = v31;
      }
      else
      {
        v8 = 0;
      }
      v20 = (int)v8;
    }
    v22 = 20;
  }
  v19 = 0;
  v22 = 128;
  if ( (byte_44EC4C & 0x10) != 0 )
    v9 = &unk_44EC28;
  else
    v9 = &unk_44EC24;
  sub_40411C((string *)v30, a5, *(LPCSTR *)(*(_DWORD *)v9 + 2));
  string::assign((string *)v34, (const string *)v30, 0, 0xFFFFFFFF);
  string::~string((string *)v30);
  if ( sub_40453C((int)v34) )
  {
    v22 = 140;
    if ( dword_44EC54 )
    {
      v29 = (TBitmap *)operator new(0xDu);
      if ( v29 )
      {
        sub_41D5D3(v29, (int)v34, dword_44EC54);
        v22 = 152;
        v10 = v29;
      }
      else
      {
        v10 = 0;
      }
      v19 = (int)v10;
    }
    else
    {
      v28 = (TBitmap *)operator new(0xDu);
      if ( v28 )
      {
        sub_41D5D3(v28, (int)v34, dword_44EC50);
        v22 = 176;
        v11 = v28;
      }
      else
      {
        v11 = 0;
      }
      v19 = (int)v11;
    }
    v22 = 20;
  }
  if ( v20 )
  {
    v22 = 224;
    TMemoryDC::TMemoryDC((TMemoryDC *)v27, *(const TDC **)(a1 + 134));
    v23 += 3;
    v22 = 236;
    if ( dword_44EC54 )
    {
      TDC::SelectObject((TDC *)v27, dword_44EC54, 0);
      RealizePalette(v27[0]);
    }
    qmemcpy(v17, a4, sizeof(v17));
    if ( !v17[2] )
    {
      v12 = (*(int (__cdecl **)(int))(*(_DWORD *)(v20 + 5) + 4))(v20);
      v17[2] = v17[0] + v12;
    }
    if ( !v17[3] )
    {
      v13 = (*(int (__cdecl **)(int))(*(_DWORD *)(v20 + 5) + 8))(v20);
      v17[3] = v17[1] + v13;
    }
    sub_433569(v18, a1);
    v14 = sub_43353D(a1);
    sub_405119((TRect *)v17, v14, v18);
    sub_4332A5((_DWORD *)a1, v17);
    if ( dword_44EC54 )
    {
      TDC::SelectObject(*(TDC **)(a1 + 134), dword_44EC54, 0);
      RealizePalette(**(HDC **)(a1 + 134));
    }
    v22 = 248;
    v26[0] = (int)&off_4449DC;
    v26[1] = v20;
    v26[2] = v19;
    v26[3] = 3;
    if ( !v20 )
    {
      xerror::MakeString((xerror *)v25, aPrecondition_72, aImg, aGdiobjecH, 0x72u);
      ++v23;
      xmsg::xmsg((xmsg *)v24, (const string *)v25);
      ++v23;
      v22 = 260;
      --v23;
      string::~string((string *)v25);
      v22 = 248;
      v23 += 2;
      v23 += 3;
      _ThrowExceptionLDTC(stru_403B88, v24, 0, sub_403BE0, 1u, 0, 0, 0, v21);
    }
    ++v23;
    v22 = 236;
    LOBYTE(v15) = sub_41DB0D((int)v26, *(TDC **)(a1 + 134), v17);
    v16 = v15;
    --v23;
    sub_41DA7B(v26, 2);
    v23 -= 3;
    TMemoryDC::~TMemoryDC((TMemoryDC *)v27);
    --v23;
    string::~string((string *)v34);
    return v16;
  }
  else
  {
    string::~string((string *)v34);
    return 0;
  }
}
// 427AE8: variable 'v15' is possibly undefined
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4449DC: using guessed type int (__cdecl *off_4449DC)(void *, char);
// 44EC4C: using guessed type char byte_44EC4C;

//----- (00427B56) --------------------------------------------------------
char __cdecl sub_427B56(int a1, int a2, int a3)
{
  char v4; // bl
  _BYTE v5[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  if ( (dword_44EC44 & 1) == 0 )
    return 1;
  if ( (byte_44EC4C & 1) != 0 )
  {
    TWindow::SetCursor(a1, dword_44ECF1, 98);
    sub_40411C((string *)v5, a2, *(LPCSTR *)(dword_44EC18 + 2));
    v4 = (*(int (__cdecl **)(_DWORD, _BYTE *, int))(**(_DWORD **)(a1 + 158) + 52))(*(_DWORD *)(a1 + 158), v5, a3);
    string::~string((string *)v5);
    sub_433107(a1);
    return v4;
  }
  else
  {
    (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 158) + 48))(*(_DWORD *)(a1 + 158));
    return 1;
  }
}
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 44EC18: using guessed type int dword_44EC18;
// 44EC44: using guessed type int dword_44EC44;
// 44EC4C: using guessed type char byte_44EC4C;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00427C42) --------------------------------------------------------
char __cdecl sub_427C42(int a1, int a2, int a3)
{
  char v4; // bl
  _BYTE v5[4]; // [esp+30h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  if ( (dword_44EC44 & 2) == 0 )
    return 1;
  if ( (byte_44EC4C & 2) != 0 )
  {
    TWindow::SetCursor(a1, dword_44ECF1, 98);
    sub_40411C((string *)v5, a2, *(LPCSTR *)(dword_44EC1C + 2));
    v4 = (*(int (__cdecl **)(_DWORD, _BYTE *, int))(**(_DWORD **)(a1 + 162) + 52))(*(_DWORD *)(a1 + 162), v5, a3);
    string::~string((string *)v5);
    sub_433107(a1);
    return v4;
  }
  else
  {
    (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 162) + 48))(*(_DWORD *)(a1 + 162));
    return 1;
  }
}
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 44EC1C: using guessed type int dword_44EC1C;
// 44EC44: using guessed type int dword_44EC44;
// 44EC4C: using guessed type char byte_44EC4C;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00427D34) --------------------------------------------------------
BOOL __cdecl sub_427D34(int a1, int a2, int a3, const void *a4)
{
  BOOL v5; // eax
  BOOL v6; // [esp-4h] [ebp-54h]
  RECT Rect; // [esp+Ch] [ebp-44h] BYREF
  int v8[4]; // [esp+20h] [ebp-30h] BYREF
  __int16 v9; // [esp+30h] [ebp-20h]
  int v10; // [esp+3Ch] [ebp-14h]
  char v11[4]; // [esp+44h] [ebp-Ch] BYREF
  char v12[4]; // [esp+48h] [ebp-8h] BYREF
  int v13; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  v9 = 20;
  sub_40411C((string *)&v13, a2, *(LPCSTR *)(dword_44EC30 + 2));
  ++v10;
  v9 = 8;
  if ( (unsigned __int8)sub_41F6AE(a1 + 182, (int)&v13, a3) )
  {
    qmemcpy((void *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 64), a4, 0x10u);
    qmemcpy(&Rect, (const void *)(a1 + 328), sizeof(Rect));
    sub_4335A4(a1, (_DWORD *)(a1 + 328));
    TRect::operator|=(&Rect, a1 + 328);
    TRect::operator&=(&Rect, a1 + 264);
    if ( !*(_DWORD *)(a1 + 12) )
    {
      v9 = 32;
      xerror::MakeString((xerror *)v12, aPrecondition_73, aGethandle_23, aCBc5IncludeOwl_24, 0x773u);
      ++v10;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v10;
      v9 = 44;
      --v10;
      string::~string((string *)v12);
      v9 = 32;
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    v5 = InvalidateRect(*(HWND *)(a1 + 12), &Rect, 0);
    LOBYTE(v5) = 1;
    v6 = v5;
    --v10;
    string::~string((string *)&v13);
    return v6;
  }
  else
  {
    sub_404F9C(0x67u, *(_DWORD *)(v13 + 2));
    string::~string((string *)&v13);
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4390B4: using guessed type int __cdecl TRect::operator&=(_DWORD, _DWORD);
// 43911A: using guessed type int __cdecl TRect::operator|=(_DWORD, _DWORD);
// 44EC30: using guessed type int dword_44EC30;

//----- (00427EFF) --------------------------------------------------------
int __cdecl sub_427EFF(int a1, int a2, int a3, int a4)
{
  _BYTE v5[4]; // [esp+28h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  string::string((string *)v5, aCdaudio);
  (*(void (__cdecl **)(_DWORD, _BYTE *, int))(**(_DWORD **)(a1 + 166) + 28))(*(_DWORD *)(a1 + 166), v5, a4);
  string::~string((string *)v5);
  return (*(int (__cdecl **)(_DWORD, _DWORD, int, int))(**(_DWORD **)(a1 + 166) + 32))(*(_DWORD *)(a1 + 166), 0, a2, a3);
}

//----- (00427FAE) --------------------------------------------------------
bool __cdecl sub_427FAE(int a1, int a2, int a3)
{
  bool v3; // ebx
  int v5; // [esp+38h] [ebp-Ch] BYREF
  _BYTE v6[4]; // [esp+3Ch] [ebp-8h] BYREF
  int v7; // [esp+40h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  sub_40411C((string *)&v7, a2, *(LPCSTR *)(dword_44EC14 + 2));
  string::string((string *)v6, &byte_449051);
  if ( sub_40453C((int)&v7) )
  {
    sub_4048F9((string *)&v5, (int)&v7);
    v3 = (unsigned int)ShellExecuteA(
                         *(HWND *)(a1 + 12),
                         aOpen_0,
                         *(LPCSTR *)(v7 + 2),
                         *(LPCSTR *)(*(_DWORD *)a3 + 2),
                         *(LPCSTR *)(v5 + 2),
                         1) > 0x20;
    string::~string((string *)&v5);
  }
  else
  {
    v3 = (unsigned int)ShellExecuteA(
                         *(HWND *)(a1 + 12),
                         aOpen_1,
                         *(LPCSTR *)(*(_DWORD *)a2 + 2),
                         *(LPCSTR *)(*(_DWORD *)a3 + 2),
                         0,
                         1) > 0x20;
  }
  if ( !v3 )
    sub_404F9C(0x67u, *(_DWORD *)(*(_DWORD *)a2 + 2));
  string::~string((string *)v6);
  string::~string((string *)&v7);
  return v3;
}

//----- (004280EA) --------------------------------------------------------
bool __cdecl sub_4280EA(int a1, int a2)
{
  bool v3; // [esp-4h] [ebp-34h]
  int v4; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  sub_40402F((string *)&v4, (string *)&dword_44EC14, a2);
  v3 = sub_403EEE(*(HWND *)(a1 + 12), *(LPCSTR *)(v4 + 2));
  string::~string((string *)&v4);
  return v3;
}

//----- (00428154) --------------------------------------------------------
bool __cdecl sub_428154(int a1, unsigned int a2)
{
  int v3; // esi
  int v4; // edi
  bool v5; // [esp-4h] [ebp-54h]
  _DWORD v6[4]; // [esp+1Ch] [ebp-34h] BYREF
  __int16 v7; // [esp+2Ch] [ebp-24h]
  int v8; // [esp+38h] [ebp-18h]
  _BYTE v9[4]; // [esp+40h] [ebp-10h] BYREF
  _BYTE v10[4]; // [esp+44h] [ebp-Ch] BYREF
  int v11; // [esp+48h] [ebp-8h] BYREF
  int v12; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  v7 = 20;
  sub_40411C((string *)&v12, a2, *(LPCSTR *)(dword_44EC14 + 2));
  ++v8;
  v7 = 8;
  if ( *(_DWORD *)(v12 + 6) )
  {
    if ( *(_DWORD *)(a1 + 248) )
    {
      DestroyCursor(*(HCURSOR *)(a1 + 248));
      *(_DWORD *)(a1 + 248) = 0;
    }
    if ( sub_40453C((int)&v12) )
    {
      *(_DWORD *)(a1 + 248) = LoadCursorFromFileA(*(LPCSTR *)(v12 + 2));
    }
    else if ( !strnicmp(*(const char **)(*(_DWORD *)a2 + 2), aRes, 4u) )
    {
      v7 = 44;
      string::substr((string *)&v11, a2);
      ++v8;
      v3 = atol(*(const char **)(v11 + 2));
      --v8;
      string::~string((string *)&v11);
      v7 = 32;
      if ( v3 )
      {
        v4 = dword_44ECF1;
        if ( *(_DWORD *)(dword_44ECF1 + 8) <= 0x20u )
        {
          v7 = 56;
          xerror::MakeString((xerror *)v10, aPrecondition_74, aHandleHinstanc_0, aCBc5IncludeOwl_25, 0x45Cu);
          ++v8;
          xmsg::xmsg((xmsg *)v9, (const string *)v10);
          ++v8;
          v7 = 68;
          --v8;
          string::~string((string *)v10);
          v7 = 56;
          v8 += 2;
          v8 += 3;
          _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
        }
        *(_DWORD *)(a1 + 248) = LoadCursorA(*(HINSTANCE *)(v4 + 8), (LPCSTR)(v3 + 1000));
      }
    }
    sub_433107(a1);
    v5 = *(_DWORD *)(a1 + 248) != 0;
    --v8;
    string::~string((string *)&v12);
    return v5;
  }
  else
  {
    string::~string((string *)&v12);
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00428373) --------------------------------------------------------
int __cdecl sub_428373(int a1, string *a2, int a3, int a4, const void *a5, int a6)
{
  void *v7; // edx
  TBitmap *v8; // ecx
  TBitmap *v9; // eax
  void *v10; // eax
  TBitmap *v11; // ecx
  TBitmap *v12; // eax
  int v13; // eax
  const RECT *v14; // ebx
  _DWORD *v15; // ebx
  _DWORD *v16; // esi
  _DWORD *v17; // ecx
  _DWORD *v18; // ebx
  int v19; // eax
  int v20; // eax
  TBitmap *v21; // esi
  TBitmap *v22; // edi
  _DWORD *v23; // eax
  BOOL v24; // eax
  unsigned int v25; // [esp+0h] [ebp-ACh] BYREF
  unsigned int v26; // [esp+4h] [ebp-A8h]
  __int64 v27; // [esp+8h] [ebp-A4h]
  RECT Rect; // [esp+1Ch] [ebp-90h] BYREF
  string *v29; // [esp+2Ch] [ebp-80h]
  TBitmap *v30; // [esp+30h] [ebp-7Ch]
  TBitmap *v31; // [esp+34h] [ebp-78h]
  _DWORD v32[4]; // [esp+38h] [ebp-74h] BYREF
  __int16 v33; // [esp+48h] [ebp-64h]
  int v34; // [esp+54h] [ebp-58h]
  void (__cdecl ***v35)(_DWORD, int); // [esp+5Ch] [ebp-50h]
  char v36[4]; // [esp+60h] [ebp-4Ch] BYREF
  char v37[4]; // [esp+64h] [ebp-48h] BYREF
  _DWORD *v38; // [esp+68h] [ebp-44h]
  char v39[4]; // [esp+6Ch] [ebp-40h] BYREF
  char v40[4]; // [esp+70h] [ebp-3Ch] BYREF
  _DWORD *v41; // [esp+74h] [ebp-38h]
  char v42[4]; // [esp+78h] [ebp-34h] BYREF
  char v43[4]; // [esp+7Ch] [ebp-30h] BYREF
  TBitmap *v44; // [esp+84h] [ebp-28h]
  TBitmap *v45; // [esp+88h] [ebp-24h]
  char v46[4]; // [esp+8Ch] [ebp-20h] BYREF
  TBitmap *v47; // [esp+94h] [ebp-18h]
  TBitmap *v48; // [esp+98h] [ebp-14h]
  char v49[4]; // [esp+9Ch] [ebp-10h] BYREF
  int v50[3]; // [esp+A0h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  if ( !**(_BYTE **)(*(_DWORD *)a2 + 2) )
    return 0;
  string::string((string *)v50);
  ++v34;
  v33 = 32;
  if ( (byte_44EC4C & 0x10) != 0 )
    v7 = &unk_44EC28;
  else
    v7 = &unk_44EC24;
  sub_40411C((string *)v49, a3, *(LPCSTR *)(*(_DWORD *)v7 + 2));
  string::assign((string *)v50, (const string *)v49, 0, 0xFFFFFFFF);
  string::~string((string *)v49);
  v31 = 0;
  v33 = 20;
  if ( sub_40453C((int)v50) )
  {
    v33 = 44;
    if ( dword_44EC54 )
    {
      v48 = (TBitmap *)operator new(0xDu);
      if ( v48 )
      {
        sub_41D5D3(v48, (int)v50, dword_44EC54);
        v33 = 56;
        v8 = v48;
      }
      else
      {
        v8 = 0;
      }
      v31 = v8;
    }
    else
    {
      v47 = (TBitmap *)operator new(0xDu);
      if ( v47 )
      {
        sub_41D5D3(v47, (int)v50, dword_44EC50);
        v33 = 80;
        v9 = v47;
      }
      else
      {
        v9 = 0;
      }
      v31 = v9;
    }
    v33 = 20;
  }
  if ( v31 )
  {
    v33 = 128;
    if ( (byte_44EC4C & 0x10) != 0 )
      v10 = &unk_44EC28;
    else
      v10 = &unk_44EC24;
    sub_40411C((string *)v46, a6, *(LPCSTR *)(*(_DWORD *)v10 + 2));
    string::assign((string *)v50, (const string *)v46, 0, 0xFFFFFFFF);
    string::~string((string *)v46);
    v30 = 0;
    v33 = 20;
    if ( sub_40453C((int)v50) )
    {
      v33 = 140;
      if ( dword_44EC54 )
      {
        v45 = (TBitmap *)operator new(0xDu);
        if ( v45 )
        {
          sub_41D5D3(v45, (int)v50, dword_44EC54);
          v33 = 152;
          v11 = v45;
        }
        else
        {
          v11 = 0;
        }
        v30 = v11;
      }
      else
      {
        v44 = (TBitmap *)operator new(0xDu);
        if ( v44 )
        {
          sub_41D5D3(v44, (int)v50, dword_44EC50);
          v33 = 176;
          v12 = v44;
        }
        else
        {
          v12 = 0;
        }
        v30 = v12;
      }
      v33 = 20;
    }
    v13 = sub_41E206((int *)(a1 + 380), a2, 0);
    v33 = 20;
    if ( v13 )
    {
      v14 = (const RECT *)(v13 + 4);
      if ( !*(_DWORD *)(a1 + 12) )
      {
        v33 = 224;
        xerror::MakeString((xerror *)v43, aPrecondition_75, aGethandle_24, aCBc5IncludeOwl_26, 0x773u);
        ++v34;
        xmsg::xmsg((xmsg *)v42, (const string *)v43);
        ++v34;
        v33 = 236;
        --v34;
        string::~string((string *)v43);
        v33 = 224;
        v34 += 2;
        v34 += 3;
        _ThrowExceptionLDTC(stru_403B88, v42, 0, sub_403BE0, 1u, 0, 0, 0, v32);
      }
      InvalidateRect(*(HWND *)(a1 + 12), v14, 0);
    }
    v41 = (_DWORD *)operator new(0x30u);
    if ( v41 )
    {
      v33 = 260;
      v29 = a2;
      *v41 = &off_444A04;
      v15 = v41 + 1;
      v41[1] = 0;
      v15[1] = 0;
      v15[2] = 0;
      v15[3] = 0;
      string::string((string *)(v41 + 5), v29);
      ++v34;
      v16 = v41 + 6;
      v41[6] = 0;
      v16[1] = 0;
      v16[2] = 0;
      v16[3] = 0;
      v41[10] = a4;
      v34 += 2;
      *v41 = &off_449510;
      v41[11] = 0;
      v33 = 248;
      v17 = v41;
    }
    else
    {
      v17 = 0;
    }
    v18 = v17;
    v33 = 20;
    qmemcpy(&Rect, a5, sizeof(Rect));
    if ( !Rect.right )
    {
      v19 = (*(int (__cdecl **)(TBitmap *))(*(_DWORD *)((char *)v31 + 5) + 4))(v31);
      Rect.right = Rect.left + v19;
    }
    if ( !Rect.bottom )
    {
      v20 = (*(int (__cdecl **)(TBitmap *))(*(_DWORD *)((char *)v31 + 5) + 8))(v31);
      Rect.bottom = Rect.top + v20;
    }
    qmemcpy(v18 + 6, &Rect, 0x10u);
    *(double *)&v27 = sub_43353D(a1);
    sub_433569(&v25, a1);
    qmemcpy(&Rect, (const void *)(*(int (__cdecl **)(_DWORD *))(*v18 + 16))(v18), sizeof(Rect));
    v38 = (_DWORD *)operator new(0x10u);
    if ( v38 )
    {
      v33 = 284;
      v21 = v30;
      v22 = v31;
      *v38 = &off_4449DC;
      v38[1] = v22;
      v38[2] = v21;
      v38[3] = 3;
      if ( !v38[1] )
      {
        HIDWORD(v27) = v32;
        LODWORD(v27) = 0;
        v26 = 0;
        v25 = 0;
        xerror::MakeString((xerror *)v40, aPrecondition_76, aImg_0, aGdiobjecH_0, 0x72u);
        ++v34;
        xmsg::xmsg((xmsg *)v39, (const string *)v40);
        ++v34;
        v33 = 296;
        --v34;
        string::~string((string *)v40);
        v33 = 284;
        v34 += 2;
        v34 += 3;
        _ThrowExceptionLDTC(stru_403B88, v39, 0, sub_403BE0, 1u, v25, v26, (unsigned __int8 *)v27, (void *)HIDWORD(v27));
      }
      v33 = 272;
      v23 = v38;
    }
    else
    {
      v23 = 0;
    }
    v18[11] = v23;
    if ( sub_41E3BD((int *)(a1 + 380), (int)v18) )
    {
      sub_433236((_DWORD *)a1, &Rect);
      if ( !*(_DWORD *)(a1 + 12) )
      {
        HIDWORD(v27) = v32;
        LODWORD(v27) = 0;
        v26 = 0;
        v25 = 0;
        v33 = 308;
        xerror::MakeString((xerror *)v37, aPrecondition_77, aGethandle_25, aCBc5IncludeOwl_27, 0x773u);
        ++v34;
        xmsg::xmsg((xmsg *)v36, (const string *)v37);
        ++v34;
        v33 = 320;
        --v34;
        string::~string((string *)v37);
        v33 = 308;
        v34 += 2;
        v34 += 3;
        _ThrowExceptionLDTC(stru_403B88, v36, 0, sub_403BE0, 1u, v25, v26, (unsigned __int8 *)v27, (void *)HIDWORD(v27));
      }
      v24 = InvalidateRect(*(HWND *)(a1 + 12), &Rect, 0);
      LOBYTE(v24) = 1;
      HIDWORD(v27) = v24;
      --v34;
      LODWORD(v27) = 2;
      string::~string((string *)v50);
      return HIDWORD(v27);
    }
    else
    {
      v35 = (void (__cdecl ***)(_DWORD, int))v18;
      if ( v18 )
      {
        v33 = 344;
        (**v35)(v35, 3);
        v33 = 332;
      }
      --v34;
      v27 = 2;
      string::~string((string *)v50);
      return HIDWORD(v27);
    }
  }
  else
  {
    --v34;
    string::~string((string *)v50);
    return 0;
  }
}
// 428690: conditional instruction was optimized away because %var_78.4!=0
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4449DC: using guessed type int (__cdecl *off_4449DC)(void *, char);
// 444A04: using guessed type int (__cdecl *off_444A04)(void *, char);
// 449510: using guessed type int (__cdecl *off_449510)(void *, char);
// 44EC4C: using guessed type char byte_44EC4C;

//----- (00428AAD) --------------------------------------------------------
char __cdecl sub_428AAD(int a1, string *a2, string *a3, __int16 a4, int a5, const void *a6)
{
  int v7; // eax
  const RECT *v8; // esi
  _DWORD *v9; // esi
  _DWORD *v10; // edi
  _WORD *v11; // edx
  _WORD *v12; // esi
  unsigned int v13; // [esp+0h] [ebp-78h] BYREF
  unsigned int v14; // [esp+4h] [ebp-74h]
  double v15; // [esp+8h] [ebp-70h]
  RECT Rect; // [esp+1Ch] [ebp-5Ch] BYREF
  int v17; // [esp+2Ch] [ebp-4Ch]
  TColor *v18; // [esp+30h] [ebp-48h]
  string *v19; // [esp+34h] [ebp-44h]
  int v20; // [esp+38h] [ebp-40h]
  _DWORD v21[4]; // [esp+3Ch] [ebp-3Ch] BYREF
  __int16 v22; // [esp+4Ch] [ebp-2Ch]
  int v23; // [esp+58h] [ebp-20h]
  void (__cdecl ***v24)(_DWORD, int); // [esp+60h] [ebp-18h]
  _BYTE v25[4]; // [esp+64h] [ebp-14h] BYREF
  _BYTE v26[4]; // [esp+68h] [ebp-10h] BYREF
  int v27; // [esp+6Ch] [ebp-Ch]
  _BYTE v28[4]; // [esp+70h] [ebp-8h] BYREF
  _BYTE v29[4]; // [esp+74h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  if ( !**(_BYTE **)(*(_DWORD *)a2 + 2) )
    return 0;
  v7 = sub_41E206((int *)(a1 + 380), a2, 0);
  if ( v7 )
  {
    v8 = (const RECT *)(v7 + 4);
    if ( !*(_DWORD *)(a1 + 12) )
    {
      xerror::MakeString((xerror *)v29, aPrecondition_78, aGethandle_26, aCBc5IncludeOwl_28, 0x773u);
      ++v23;
      xmsg::xmsg((xmsg *)v28, (const string *)v29);
      ++v23;
      v22 = 12;
      --v23;
      string::~string((string *)v29);
      v23 += 2;
      v23 += 3;
      _ThrowExceptionLDTC(stru_403B88, v28, 0, sub_403BE0, 1u, 0, 0, 0, v21);
    }
    InvalidateRect(*(HWND *)(a1 + 12), v8, 0);
  }
  v27 = operator new(0x3Au);
  if ( v27 )
  {
    v22 = 36;
    v20 = a5;
    v19 = a2;
    *(_DWORD *)v27 = &off_444A04;
    v9 = (_DWORD *)(v27 + 4);
    *(_DWORD *)(v27 + 4) = 0;
    v9[1] = 0;
    v9[2] = 0;
    v9[3] = 0;
    string::string((string *)(v27 + 20), v19);
    ++v23;
    v10 = (_DWORD *)(v27 + 24);
    *(_DWORD *)(v27 + 24) = 0;
    v10[1] = 0;
    v10[2] = 0;
    v10[3] = 0;
    *(_DWORD *)(v27 + 40) = v20;
    v23 += 2;
    *(_DWORD *)v27 = &off_4494F0;
    *(_DWORD *)(v27 + 44) = 0;
    v18 = TColor::Black;
    v17 = v27 + 48;
    *(_DWORD *)(v27 + 48) = TColor::Black;
    string::string((string *)(v27 + 52), &byte_449169);
    ++v23;
    *(_WORD *)(v27 + 56) = 0;
    v22 = 24;
    v11 = (_WORD *)v27;
  }
  else
  {
    v11 = 0;
  }
  v12 = v11;
  string::assign((string *)(v11 + 26), a3, 0, 0xFFFFFFFF);
  v12[28] = a4;
  qmemcpy(v12 + 12, a6, 0x10u);
  sub_41DFA5((int)v12, (const TFont *)dword_44EC64, dword_44EC68);
  v15 = sub_43353D(a1);
  sub_433569(&v13, a1);
  qmemcpy(&Rect, (const void *)(*(int (__cdecl **)(_WORD *))(*(_DWORD *)v12 + 16))(v12), sizeof(Rect));
  if ( sub_41E3BD((int *)(a1 + 380), (int)v12) )
  {
    sub_433236((_DWORD *)a1, &Rect);
    if ( !*(_DWORD *)(a1 + 12) )
    {
      HIDWORD(v15) = v21;
      LODWORD(v15) = 0;
      v14 = 0;
      v13 = 0;
      v22 = 48;
      xerror::MakeString((xerror *)v26, aPrecondition_79, aGethandle_27, aCBc5IncludeOwl_29, 0x773u);
      ++v23;
      xmsg::xmsg((xmsg *)v25, (const string *)v26);
      ++v23;
      v22 = 60;
      --v23;
      string::~string((string *)v26);
      v22 = 48;
      v23 += 2;
      v23 += 3;
      _ThrowExceptionLDTC(
        stru_403B88,
        v25,
        0,
        sub_403BE0,
        1u,
        v13,
        v14,
        (unsigned __int8 *)LODWORD(v15),
        (void *)HIDWORD(v15));
    }
    InvalidateRect(*(HWND *)(a1 + 12), &Rect, 0);
    return 1;
  }
  else
  {
    v24 = (void (__cdecl ***)(_DWORD, int))v12;
    if ( v12 )
    {
      v22 = 84;
      (**v24)(v24, 3);
      v22 = 72;
    }
    return 0;
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 444A04: using guessed type int (__cdecl *off_444A04)(void *, char);
// 4494F0: using guessed type int (__cdecl *off_4494F0)(void *, char);
// 44EC64: using guessed type int dword_44EC64;
// 44EC68: using guessed type int dword_44EC68;

//----- (00428E06) --------------------------------------------------------
char __cdecl sub_428E06(int a1, string *a2, char a3)
{
  _DWORD *v4; // esi
  const void *v5; // eax
  unsigned int v6; // [esp+0h] [ebp-58h] BYREF
  unsigned int v7; // [esp+4h] [ebp-54h]
  double v8; // [esp+8h] [ebp-50h]
  RECT Rect; // [esp+1Ch] [ebp-3Ch] BYREF
  int v10; // [esp+2Ch] [ebp-2Ch] BYREF
  __int16 v11; // [esp+3Ch] [ebp-1Ch]
  int v12; // [esp+48h] [ebp-10h]
  _BYTE v13[4]; // [esp+50h] [ebp-8h] BYREF
  _BYTE v14[4]; // [esp+54h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  v4 = (_DWORD *)sub_41E206((int *)(a1 + 380), a2, 0);
  if ( !v4 )
    return 0;
  v8 = sub_43353D(a1);
  sub_433569(&v6, a1);
  v5 = (const void *)(*(int (__cdecl **)(_DWORD *))(*v4 + 16))(v4);
  HIDWORD(v8) = v4;
  qmemcpy(&Rect, v5, sizeof(Rect));
  if ( a3 )
  {
    sub_433236((_DWORD *)a1, &Rect);
    v4[10] &= ~1u;
  }
  else
  {
    *(_DWORD *)(HIDWORD(v8) + 40) |= 1u;
  }
  if ( !*(_DWORD *)(a1 + 12) )
  {
    HIDWORD(v8) = &v10;
    LODWORD(v8) = 0;
    v7 = 0;
    v6 = 0;
    xerror::MakeString((xerror *)v14, aPrecondition_80, aGethandle_28, aCBc5IncludeOwl_30, 0x773u);
    ++v12;
    xmsg::xmsg((xmsg *)v13, (const string *)v14);
    ++v12;
    v11 = 12;
    --v12;
    string::~string((string *)v14);
    v12 += 2;
    v12 += 3;
    _ThrowExceptionLDTC(
      stru_403B88,
      v13,
      0,
      sub_403BE0,
      1u,
      v6,
      v7,
      (unsigned __int8 *)LODWORD(v8),
      (void *)HIDWORD(v8));
  }
  InvalidateRect(*(HWND *)(a1 + 12), &Rect, 0);
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00428F57) --------------------------------------------------------
char __cdecl sub_428F57(int a1, string *a2)
{
  int v3; // eax
  RECT Rect; // [esp+Ch] [ebp-40h] BYREF
  int v5; // [esp+1Ch] [ebp-30h] BYREF
  _DWORD v6[4]; // [esp+20h] [ebp-2Ch] BYREF
  __int16 v7; // [esp+30h] [ebp-1Ch]
  int v8; // [esp+3Ch] [ebp-10h]
  _BYTE v9[4]; // [esp+44h] [ebp-8h] BYREF
  _BYTE v10[4]; // [esp+48h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
    return 0;
  v3 = sub_41E206((int *)(a1 + 380), a2, &v5);
  if ( !v3 )
    return 0;
  qmemcpy(&Rect, (const void *)(v3 + 4), sizeof(Rect));
  sub_4359A0(a1 + 384, v5 - *(_DWORD *)(a1 + 380), 1);
  if ( !*(_DWORD *)(a1 + 12) )
  {
    xerror::MakeString((xerror *)v10, aPrecondition_81, aGethandle_29, aCBc5IncludeOwl_31, 0x773u);
    ++v8;
    xmsg::xmsg((xmsg *)v9, (const string *)v10);
    ++v8;
    v7 = 12;
    --v8;
    string::~string((string *)v10);
    v8 += 2;
    v8 += 3;
    _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v6);
  }
  InvalidateRect(*(HWND *)(a1 + 12), &Rect, 0);
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0042908F) --------------------------------------------------------
int __cdecl sub_42908F(TWindow *a1, int a2, int arglist)
{
  int v4; // eax
  void *v5; // eax
  int *v6; // edx
  int v7; // ebx
  _BOOL1 v9; // cl
  int v10; // eax
  int v11; // [esp+0h] [ebp-70h]
  int v12; // [esp+0h] [ebp-70h]
  _BYTE v13[16]; // [esp+14h] [ebp-5Ch] BYREF
  __int16 v14; // [esp+24h] [ebp-4Ch]
  int v15; // [esp+30h] [ebp-40h]
  _BYTE v16[4]; // [esp+38h] [ebp-38h] BYREF
  _BYTE v17[4]; // [esp+3Ch] [ebp-34h] BYREF
  _BYTE v18[4]; // [esp+40h] [ebp-30h] BYREF
  _BYTE v19[4]; // [esp+44h] [ebp-2Ch] BYREF
  char v20[5]; // [esp+48h] [ebp-28h] BYREF
  int (__cdecl **v21)(int); // [esp+4Dh] [ebp-23h]
  int v22; // [esp+51h] [ebp-1Fh]
  int v23; // [esp+55h] [ebp-1Bh]
  int v24; // [esp+59h] [ebp-17h]
  int v25; // [esp+5Dh] [ebp-13h]
  int v26; // [esp+61h] [ebp-Fh]
  int (__cdecl **v27)(int, int); // [esp+65h] [ebp-Bh]
  int v28; // [esp+6Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v14 = 20;
  sub_40411C((string *)&v28, a2, *(LPCSTR *)(dword_44EC14 + 2));
  ++v15;
  v14 = 8;
  if ( sub_40453C((int)&v28) )
  {
    if ( string::compare((string *)&v28, (const string *)&unk_44EC34) )
    {
      TWindow::SetCursor(a1, dword_446AB8, 98);
      (*(void (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 132))(a1);
      (*(void (__cdecl **)(TWindow *, _DWORD))(*((_DWORD *)a1 + 2) + 128))(a1, 0);
      if ( !*((_DWORD *)a1 + 3) )
      {
        v14 = 32;
        xerror::MakeString((xerror *)v19, aPrecondition_82, aGethandle_30, aCBc5IncludeOwl_32, 0x769u);
        ++v15;
        xmsg::xmsg((xmsg *)v18, (const string *)v19);
        ++v15;
        v14 = 44;
        --v15;
        string::~string((string *)v19);
        v14 = 32;
        v15 += 2;
        v15 += 3;
        _ThrowExceptionLDTC(stru_403B88, v18, 0, sub_403BE0, 1u, 0, 0, 0, v13);
      }
      InvalidateRect(*((HWND *)a1 + 3), 0, 1);
      TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
      v14 = 56;
      *(_DWORD *)v20 = 0;
      v21 = off_43B500;
      v5 = (void *)operator new[](4u);
      v22 = _vector_new_ldtc_(v5, 4u, 1u, 1u, sub_42A32D, 0, 0);
      v23 = 1;
      ++v15;
      v15 += 2;
      v21 = off_43B538;
      v24 = 0;
      v25 = 1;
      v15 += 3;
      v15 += 4;
      v26 = 2;
      v15 += 5;
      v15 += 6;
      v15 += 7;
      v27 = &off_43B4EC;
      off_43B4EC((int)v20, (int)dword_44ECCE);
      v15 += 8;
      v14 = 8;
      sub_4253C1((int)byte_44EC10, *(char **)(v28 + 2), 0);
      TWindow::SetCursor(a1, dword_44ECF1, 99);
      if ( (*(unsigned __int8 (__cdecl **)(int *))(dword_44EC9D + 4))(&dword_44EC70) )
      {
        sub_406113(dword_44ECCE, (int)v20);
        if ( arglist >= 1 && arglist <= (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) )
          *(_DWORD *)::arglist = arglist;
        TWindow::SetCaption(a1, *(const char **)(dword_44ECA1 + 2));
        v9 = (*(unsigned __int8 (__cdecl **)(int *))(dword_44ECB9 + 4))(&dword_44ECB9) && byte_44ECCD;
        TWindow::HandleMessage(a1, dword_446A9C, v9, 0);
        v10 = sub_4357CF(a1);
        LOBYTE(v10) = 1;
        v12 = v10;
        v15 -= 8;
        sub_405A63(v20, 2);
        --v15;
        string::~string((string *)&v28);
        return v12;
      }
      else
      {
        sub_404ED9(0x6Au);
        v6 = *(int **)(*((_DWORD *)a1 + 26) + 102);
        v7 = *v6;
        if ( !*(_DWORD *)(*v6 + 12) )
        {
          v14 = 68;
          xerror::MakeString((xerror *)v17, aPrecondition_83, aGethandle_31, aCBc5IncludeOwl_33, 0x53Cu);
          ++v15;
          xmsg::xmsg((xmsg *)v16, (const string *)v17);
          ++v15;
          v14 = 80;
          --v15;
          string::~string((string *)v17);
          v14 = 68;
          v15 += 2;
          v15 += 3;
          _ThrowExceptionLDTC(stru_403B88, v16, 0, sub_403BE0, 1u, 0, 0, 0, v13);
        }
        PostMessageA(*(HWND *)(v7 + 12), 0x12u, 0, 0);
        v15 -= 8;
        sub_405A63(v20, 2);
        --v15;
        string::~string((string *)&v28);
        return 0;
      }
    }
    else
    {
      sub_4268F8(a1, arglist, 0, 0);
      LOBYTE(v4) = 1;
      v11 = v4;
      --v15;
      string::~string((string *)&v28);
      return v11;
    }
  }
  else
  {
    sub_404F9C(0x73u, *(_DWORD *)(v28 + 2));
    --v15;
    string::~string((string *)&v28);
    return 0;
  }
}
// 429137: variable 'v4' is possibly undefined
// 403B88: using guessed type _tpidc stru_403B88[1];
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 43B4EC: using guessed type int (__cdecl *off_43B4EC)(int, int);
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 43B538: using guessed type int (__cdecl *off_43B538[3])(int);
// 446AB8: using guessed type int dword_446AB8;
// 44EC70: using guessed type int dword_44EC70;
// 44EC75: using guessed type int dword_44EC75;
// 44EC9D: using guessed type int dword_44EC9D;
// 44ECA1: using guessed type int dword_44ECA1;
// 44ECB9: using guessed type int dword_44ECB9;
// 44ECCD: using guessed type char byte_44ECCD;
// 44ECCE: using guessed type int dword_44ECCE[8];
// 44ECF1: using guessed type int dword_44ECF1;

//----- (004294C9) --------------------------------------------------------
int __cdecl sub_4294C9(int a1, int a2, int a3)
{
  TModule *v4; // ecx
  int v5; // ebx
  FARPROC VNSetDLLArguments; // eax
  int v7; // ebx
  FARPROC VNCreateDLLWindow; // ebx
  int v9; // edx
  int v10; // eax
  int v11; // [esp-4h] [ebp-74h]
  _DWORD s[6]; // [esp+Ch] [ebp-64h] BYREF
  _DWORD v13[3]; // [esp+24h] [ebp-4Ch] BYREF
  _DWORD v14[4]; // [esp+30h] [ebp-40h] BYREF
  __int16 v15; // [esp+40h] [ebp-30h]
  int v16; // [esp+4Ch] [ebp-24h]
  char v17[4]; // [esp+54h] [ebp-1Ch] BYREF
  char v18[4]; // [esp+58h] [ebp-18h] BYREF
  char v19[4]; // [esp+5Ch] [ebp-14h] BYREF
  char v20[4]; // [esp+60h] [ebp-10h] BYREF
  TModule *v21; // [esp+64h] [ebp-Ch]
  int v22; // [esp+68h] [ebp-8h] BYREF

  __InitExceptBlockLDTC();
  TMsgThread::PumpWaitingMessages((TMsgThread *)(*(_DWORD *)(a1 + 104) + 25));
  v15 = 20;
  sub_40411C((string *)&v22, a2, *(LPCSTR *)(dword_44EC14 + 2));
  ++v16;
  v15 = 8;
  if ( !sub_40453C((int)&v22) )
  {
    sub_404F9C(0x73u, *(_DWORD *)(v22 + 2));
    --v16;
    string::~string((string *)&v22);
    return 0;
  }
  sub_429865(a1);
  *(_DWORD *)(a1 + 413) = sub_40768D((int)dword_44ECCE);
  v15 = 32;
  v21 = (TModule *)operator new(0x15u);
  if ( v21 )
  {
    v15 = 56;
    TModule::TModule(v21, *(const char **)(v22 + 2), 1, 1);
    v15 = 44;
    v4 = v21;
  }
  else
  {
    v4 = 0;
  }
  *(_DWORD *)(a1 + 417) = v4;
  if ( !*(_DWORD *)(a1 + 417) )
    goto LABEL_21;
  v5 = *(_DWORD *)(a1 + 417);
  if ( *(_DWORD *)(v5 + 8) <= 0x20u )
  {
    v15 = 68;
    xerror::MakeString((xerror *)v20, aPrecondition_162, aHandleHinstanc_3, aCBc5IncludeOwl_68, 0x3E3u);
    ++v16;
    xmsg::xmsg((xmsg *)v19, (const string *)v20);
    ++v16;
    v15 = 80;
    --v16;
    string::~string((string *)v20);
    v15 = 68;
    v16 += 2;
    v16 += 3;
    _ThrowExceptionLDTC(stru_403B88, v19, 0, sub_403BE0, 1u, 0, 0, 0, v14);
  }
  VNSetDLLArguments = GetProcAddress(*(HMODULE *)(v5 + 8), aVnsetdllargume);
  if ( VNSetDLLArguments )
    ((void (__stdcall *)(_DWORD))VNSetDLLArguments)(*(_DWORD *)(*(_DWORD *)a3 + 2));
  v7 = *(_DWORD *)(a1 + 417);
  if ( *(_DWORD *)(v7 + 8) <= 0x20u )
  {
    v15 = 92;
    xerror::MakeString((xerror *)v18, aPrecondition_163, aHandleHinstanc_4, aCBc5IncludeOwl_69, 0x3E3u);
    ++v16;
    xmsg::xmsg((xmsg *)v17, (const string *)v18);
    ++v16;
    v15 = 104;
    --v16;
    string::~string((string *)v18);
    v15 = 92;
    v16 += 2;
    v16 += 3;
    _ThrowExceptionLDTC(stru_403B88, v17, 0, sub_403BE0, 1u, 0, 0, 0, v14);
  }
  VNCreateDLLWindow = GetProcAddress(*(HMODULE *)(v7 + 8), aVncreatedllwin);
  if ( !VNCreateDLLWindow )
  {
    sub_404F9C(0x74u, *(_DWORD *)(v22 + 2));
LABEL_21:
    v15 = 8;
    sub_429865(a1);
    --v16;
    string::~string((string *)&v22);
    return 0;
  }
  sub_433569(v13, a1);
  v15 = 32;
  memset(s, 0, sizeof(s));
  s[0] = 24;
  s[1] = *(_DWORD *)(*(_DWORD *)(a1 + 104) + 12);
  s[2] = *(_DWORD *)(a1 + 12);
  if ( *(_DWORD *)(a1 + 134) )
    v9 = **(_DWORD **)(a1 + 134);
  else
    v9 = 0;
  s[3] = v9;
  s[4] = dword_4437A0;
  s[5] = dword_4437A4;
  v10 = ((int (__stdcall *)(_DWORD, _DWORD, _DWORD, int, _DWORD *))VNCreateDLLWindow)(
          *(_DWORD *)(a1 + 12),
          v13[0],
          v13[1],
          a1 + 413,
          s);
  if ( v10 )
    v10 = sub_405FE2(dword_44ECCE, *(char **)(a1 + 413));
  LOBYTE(v10) = 1;
  v11 = v10;
  --v16;
  string::~string((string *)&v22);
  return v11;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4437A0: using guessed type int dword_4437A0;
// 4437A4: using guessed type int dword_4437A4;
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (00429865) --------------------------------------------------------
void __cdecl sub_429865(int a1)
{
  int v1; // esi
  FARPROC VNDestroyDLLWindow; // eax
  _DWORD v3[4]; // [esp+8h] [ebp-30h] BYREF
  __int16 v4; // [esp+18h] [ebp-20h]
  int v5; // [esp+24h] [ebp-14h]
  void (__cdecl ***v6)(_DWORD, int); // [esp+2Ch] [ebp-Ch]
  _BYTE v7[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  TMsgThread::PumpWaitingMessages((TMsgThread *)(*(_DWORD *)(a1 + 104) + 25));
  if ( *(_DWORD *)(a1 + 417) )
  {
    v1 = *(_DWORD *)(a1 + 417);
    if ( *(_DWORD *)(v1 + 8) <= 0x20u )
    {
      xerror::MakeString((xerror *)v8, aPrecondition_84, aHandleHinstanc_1, aCBc5IncludeOwl_34, 0x3E3u);
      ++v5;
      xmsg::xmsg((xmsg *)v7, (const string *)v8);
      ++v5;
      v4 = 12;
      --v5;
      string::~string((string *)v8);
      v5 += 2;
      v5 += 3;
      _ThrowExceptionLDTC(stru_403B88, v7, 0, sub_403BE0, 1u, 0, 0, 0, v3);
    }
    VNDestroyDLLWindow = GetProcAddress(*(HMODULE *)(v1 + 8), aVndestroydllwi);
    if ( VNDestroyDLLWindow && ((int (__stdcall *)(_DWORD))VNDestroyDLLWindow)(0) )
      sub_405FE2(dword_44ECCE, *(char **)(a1 + 413));
    v6 = *(void (__cdecl ****)(_DWORD, int))(a1 + 417);
    if ( v6 )
    {
      v4 = 36;
      (**v6)(v6, 3);
      v4 = 24;
    }
    *(_DWORD *)(a1 + 417) = 0;
  }
  if ( *(_DWORD *)(a1 + 413) )
    sub_407C8B((void **)(a1 + 413));
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (0042999A) --------------------------------------------------------
int __cdecl sub_42999A(TWindow *a1, int a2)
{
  _DWORD *v3; // eax
  int v4; // eax
  int v5; // eax
  bool v6; // [esp-4h] [ebp-E4h]
  int v7; // [esp-4h] [ebp-E4h]
  char v8; // [esp+Fh] [ebp-D1h]
  ipstream *v9; // [esp+10h] [ebp-D0h]
  int arglist; // [esp+14h] [ebp-CCh]
  int v11[2]; // [esp+18h] [ebp-C8h] BYREF
  _BYTE *v12; // [esp+20h] [ebp-C0h]
  char *v13; // [esp+24h] [ebp-BCh]
  int v14; // [esp+28h] [ebp-B8h]
  __int16 v15; // [esp+3Ch] [ebp-A4h]
  int v16; // [esp+48h] [ebp-98h]
  _BYTE v17[4]; // [esp+50h] [ebp-90h] BYREF
  _BYTE v18[4]; // [esp+54h] [ebp-8Ch] BYREF
  int v19; // [esp+58h] [ebp-88h] BYREF
  _BYTE v20[4]; // [esp+5Ch] [ebp-84h] BYREF
  int v21; // [esp+60h] [ebp-80h] BYREF
  int v22; // [esp+64h] [ebp-7Ch] BYREF
  _BYTE v23[4]; // [esp+68h] [ebp-78h] BYREF
  _DWORD *v24; // [esp+6Ch] [ebp-74h] BYREF
  int (__cdecl **v25)(void *, int); // [esp+70h] [ebp-70h]
  _BYTE v26[60]; // [esp+74h] [ebp-6Ch] BYREF
  _DWORD *v27; // [esp+B0h] [ebp-30h] BYREF
  int (__cdecl **v28)(int); // [esp+B4h] [ebp-2Ch]
  _BYTE v29[5]; // [esp+B8h] [ebp-28h] BYREF
  void *v30; // [esp+BDh] [ebp-23h]
  _DWORD v31[3]; // [esp+D1h] [ebp-Fh] BYREF

  __InitExceptBlockLDTC();
  TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
  if ( sub_40453C(a2) )
  {
    v15 = 8;
    v14 = filebuf::openprot;
    v13 = *(char **)(*(_DWORD *)a2 + 2);
    v24 = v31;
    v27 = v31;
    v25 = &off_442CE0;
    v31[0] = &off_442CEC;
    filebuf::filebuf((filebuf *)v26);
    v16 += 3;
    v12 = v26;
    v3 = v24;
    v24[2] = 0;
    v3[1] = v12;
    fpbase::open((fpbase *)&v24, v13, 129, v14);
    v16 += 3;
    v28 = (int (__cdecl **)(int))&off_442CC4;
    *v27 = &off_442CD0;
    TPReadObjects::TPReadObjects((TPReadObjects *)v29);
    v16 += 5;
    if ( v27[1] )
      ipstream::readVersion((ipstream *)&v27);
    v16 += 6;
    v25 = &off_442D0C;
    v28 = &off_442D18;
    *v24 = &off_442D24;
    v16 += 11;
    v15 = 20;
    if ( (v24[2] & 0x86) != 0 )
    {
      fpbase::close((fpbase *)&v24);
      sub_404F9C(0x7F27u, *(_DWORD *)(*(_DWORD *)a2 + 2));
      *(_DWORD *)&v29[1] = off_442CA8;
      operator delete[](v30);
      filebuf::~filebuf((filebuf *)v26);
      v16 = v16 - 5 + 1;
      pstream::~pstream((pstream *)v31);
      return 0;
    }
    else
    {
      string::string((string *)v23);
      operator>>(&v27, v23);
      v15 = 44;
      string::string((string *)v20, aVnsavfile);
      v6 = string::compare((string *)v23, (const string *)v20) == 0;
      ++v16;
      string::~string((string *)v20);
      if ( v6 )
      {
        v11[0] = (int)off_447A6C;
        v11[1] = 0;
        v15 = 56;
        string::string((string *)&v22);
        ++v16;
        v15 = 68;
        string::string((string *)&v21);
        ++v16;
        v15 = 20;
        v4 = sub_4053B3((int)&v27, (void (__cdecl ***)(_DWORD, int))v11);
        v9 = (ipstream *)operator>>(v4, &v22);
        arglist = ipstream::readWord(v9);
        v15 = 80;
        sub_40411C((string *)&v19, a2, 0);
        ++v16;
        sub_4048F9((string *)v18, (int)&v19);
        ++v16;
        string::assign((string *)&v21, (const string *)v18, 0, 0xFFFFFFFF);
        --v16;
        string::~string((string *)v18);
        --v16;
        string::~string((string *)&v19);
        v15 = 92;
        sub_40411C((string *)v17, (int)&v22, *(LPCSTR *)(v21 + 2));
        ++v16;
        string::assign((string *)&v22, (const string *)v17, 0, 0xFFFFFFFF);
        --v16;
        string::~string((string *)v17);
        v8 = sub_42908F(a1, (int)&v22, arglist);
        v15 = 20;
        if ( v8 )
        {
          sub_406345(dword_44ECCE, (ipstream *)&v27);
          sub_436213((TWindow *)((char *)a1 + 142), (ipstream *)&v27);
        }
        v5 = fpbase::close((fpbase *)&v24);
        LOBYTE(v5) = v8;
        v7 = v5;
        --v16;
        string::~string((string *)&v21);
        --v16;
        string::~string((string *)&v22);
        --v16;
        string::~string((string *)v23);
        v16 -= 11;
        v16 += 11;
        v16 -= 7;
        v16 += 7;
        v16 -= 5;
        v16 += 5;
        v16 -= 4;
        v16 += 4;
        v16 -= 3;
        v16 += 3;
        v16 -= 2;
        v16 += 2;
        --v16;
        *(_DWORD *)&v29[1] = off_442CA8;
        operator delete[](v30);
        v16 -= 4;
        v16 += 4;
        v16 -= 2;
        filebuf::~filebuf((filebuf *)v26);
        --v16;
        pstream::~pstream((pstream *)v31);
        return v7;
      }
      else
      {
        fpbase::close((fpbase *)&v24);
        sub_404F9C(0x6Eu, *(_DWORD *)(*(_DWORD *)a2 + 2));
        string::~string((string *)v23);
        *(_DWORD *)&v29[1] = off_442CA8;
        operator delete[](v30);
        filebuf::~filebuf((filebuf *)v26);
        v16 = v16 - 12 + 7;
        pstream::~pstream((pstream *)v31);
        return 0;
      }
    }
  }
  else
  {
    sub_404F9C(0x7F27u, *(_DWORD *)(*(_DWORD *)a2 + 2));
    return 0;
  }
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);
// 442CA8: using guessed type int (__cdecl *off_442CA8[2])(int);
// 442CC4: using guessed type int (__cdecl *off_442CC4)(void *, int);
// 442CD0: using guessed type int (__cdecl *off_442CD0)(int);
// 442CE0: using guessed type int (__cdecl *off_442CE0)(void *, int);
// 442CEC: using guessed type int (__cdecl *off_442CEC)(int);
// 442D0C: using guessed type int (__cdecl *off_442D0C)(void *, int);
// 442D18: using guessed type int (__cdecl *off_442D18)(int);
// 442D24: using guessed type int (__cdecl *off_442D24)(int);
// 447A6C: using guessed type int (__cdecl *off_447A6C[2])(int, int);
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (00429F02) --------------------------------------------------------
int __cdecl sub_429F02(int a1, int a2)
{
  _DWORD *v2; // eax
  char v3; // cl
  char *v4; // edi
  int v6; // eax
  int v7; // eax
  char *v8; // edi
  int v9; // [esp-4h] [ebp-D4h]
  opstream *v10; // [esp+Ch] [ebp-C4h]
  unsigned int v11; // [esp+10h] [ebp-C0h]
  int v12[2]; // [esp+1Ch] [ebp-B4h] BYREF
  int v13; // [esp+24h] [ebp-ACh]
  _BYTE *v14; // [esp+28h] [ebp-A8h]
  char *v15; // [esp+2Ch] [ebp-A4h]
  int v16; // [esp+30h] [ebp-A0h]
  int v17; // [esp+34h] [ebp-9Ch]
  __int16 v18; // [esp+48h] [ebp-88h]
  int v19; // [esp+54h] [ebp-7Ch]
  void *v20; // [esp+5Ch] [ebp-74h]
  int v21; // [esp+60h] [ebp-70h] BYREF
  void *v22; // [esp+64h] [ebp-6Ch]
  _BYTE v23[4]; // [esp+68h] [ebp-68h] BYREF
  _BYTE v24[4]; // [esp+6Ch] [ebp-64h] BYREF
  _BYTE v25[4]; // [esp+70h] [ebp-60h] BYREF
  _DWORD *v26; // [esp+74h] [ebp-5Ch] BYREF
  int (__cdecl **v27)(void *, int); // [esp+78h] [ebp-58h]
  _BYTE v28[60]; // [esp+7Ch] [ebp-54h] BYREF
  _DWORD *v29; // [esp+B8h] [ebp-18h] BYREF
  int (__cdecl **v30)(int); // [esp+BCh] [ebp-14h]
  void *v31; // [esp+C0h] [ebp-10h]
  _DWORD v32[3]; // [esp+C4h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  TMsgThread::PumpWaitingMessages((TMsgThread *)(*(_DWORD *)(a1 + 104) + 25));
  v17 = sub_4251CE((int *)byte_44EC10);
  v18 = 8;
  v16 = filebuf::openprot;
  v15 = *(char **)(*(_DWORD *)a2 + 2);
  v26 = v32;
  v29 = v32;
  v27 = &off_442CE0;
  v32[0] = &off_442CEC;
  filebuf::filebuf((filebuf *)v28);
  v19 += 3;
  v14 = v28;
  v2 = v26;
  v26[2] = 0;
  v2[1] = v14;
  fpbase::open((fpbase *)&v26, v15, 146, v16);
  opstream::opstream((opstream *)&v29);
  v19 += 4;
  v27 = (int (__cdecl **)(void *, int))&off_4494C8;
  v30 = &off_4494D4;
  *v26 = &off_4494E0;
  v19 += 6;
  v18 = 20;
  if ( (v26[2] & 0x86) == 0
    && ((v13 = v17, v17 >= 1) && (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) >= v13
      ? (v3 = 1)
      : (v3 = 0),
        v3) )
  {
    v18 = 56;
    string::string((string *)v25, aVnsavfile_0);
    ++v19;
    v18 = 20;
    v12[0] = (int)off_447A6C;
    v12[1] = 131085;
    v6 = operator<<(&v29, v25);
    sub_4053CB(v6, (int)v12);
    v18 = 68;
    sub_40411C((string *)&v21, a2, 0);
    ++v19;
    sub_4048F9((string *)v24, (int)&v21);
    ++v19;
    --v19;
    string::~string((string *)&v21);
    v18 = 80;
    sub_404212((string *)v23, (string *)v24, (string *)&unk_44EC34);
    ++v19;
    v18 = 20;
    v11 = v17;
    v10 = (opstream *)operator<<(&v29, v23);
    opstream::writeWord32(v10, v11);
    sub_40650B((int)dword_44ECCE, (opstream *)&v29);
    sub_436271((_DWORD *)(a1 + 142), (opstream *)&v29);
    v7 = fpbase::close((fpbase *)&v26);
    LOBYTE(v7) = 1;
    v9 = v7;
    --v19;
    string::~string((string *)v23);
    --v19;
    string::~string((string *)v24);
    --v19;
    string::~string((string *)v25);
    v19 -= 6;
    v19 += 6;
    v19 -= 2;
    v30 = (int (__cdecl **)(int))&off_4494AC;
    *v29 = &off_4494B8;
    v20 = v31;
    if ( v31 )
    {
      v18 = 104;
      v19 += 6;
      v19 -= 5;
      v8 = (char *)v20 + 4;
      v19 += 5;
      v19 -= 4;
      v19 += 4;
      v19 -= 3;
      v19 += 3;
      v19 -= 2;
      v19 += 2;
      --v19;
      *(_DWORD *)((char *)v20 + 5) = off_449490;
      operator delete[](*(void **)(v8 + 5));
      operator delete(v20);
      v18 = 92;
    }
    v19 -= 4;
    v19 += 4;
    v19 -= 2;
    filebuf::~filebuf((filebuf *)v28);
    --v19;
    pstream::~pstream((pstream *)v32);
    return v9;
  }
  else
  {
    fpbase::close((fpbase *)&v26);
    sub_404F9C(0x7F28u, *(_DWORD *)(*(_DWORD *)a2 + 2));
    v19 -= 2;
    v30 = (int (__cdecl **)(int))&off_4494AC;
    *v29 = &off_4494B8;
    v22 = v31;
    if ( v31 )
    {
      v18 = 44;
      v4 = (char *)v22 + 4;
      v19 += 5;
      *(_DWORD *)((char *)v22 + 5) = off_449490;
      operator delete[](*(void **)(v4 + 5));
      operator delete(v22);
      v18 = 32;
    }
    filebuf::~filebuf((filebuf *)v28);
    v19 -= 3;
    pstream::~pstream((pstream *)v32);
    return 0;
  }
}
// 439144: using guessed type int __cdecl operator<<(_DWORD, _DWORD);
// 442CE0: using guessed type int (__cdecl *off_442CE0)(void *, int);
// 442CEC: using guessed type int (__cdecl *off_442CEC)(int);
// 447A6C: using guessed type int (__cdecl *off_447A6C[2])(int, int);
// 449490: using guessed type int (__cdecl *off_449490[2])(int);
// 4494AC: using guessed type int (__cdecl *off_4494AC)(void *, int);
// 4494B8: using guessed type int (__cdecl *off_4494B8)(int);
// 4494C8: using guessed type int (__cdecl *off_4494C8)(void *, char);
// 4494D4: using guessed type int (__cdecl *off_4494D4)(int);
// 4494E0: using guessed type int (__cdecl *off_4494E0)(int);
// 44EC75: using guessed type int dword_44EC75;
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (0042A32D) --------------------------------------------------------
_DWORD *__cdecl sub_42A32D(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  return a1;
}

//----- (0042A547) --------------------------------------------------------
void __cdecl sub_42A547(_DWORD *a1, char a2)
{
  char *v2; // [esp+30h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    a1[18] = &off_4494AC;
    *(_DWORD *)a1[17] = &off_4494B8;
    v2 = (char *)a1[19];
    if ( v2 )
    {
      *(_DWORD *)(v2 + 5) = off_449490;
      operator delete[](*(void **)(v2 + 9));
      operator delete(v2);
    }
    filebuf::~filebuf((filebuf *)(a1 + 2));
    if ( (a2 & 2) != 0 )
      pstream::~pstream((pstream *)(a1 + 20));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);
// 4494AC: using guessed type int (__cdecl *off_4494AC)(void *, int);
// 4494B8: using guessed type int (__cdecl *off_4494B8)(int);

//----- (0042A738) --------------------------------------------------------
void __cdecl sub_42A738(string *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0042A802) --------------------------------------------------------
int __cdecl sub_42A802(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (0042A80D) --------------------------------------------------------
int __cdecl sub_42A80D(int a1)
{
  return *(_DWORD *)(a1 + 9);
}

//----- (0042A824) --------------------------------------------------------
void __cdecl sub_42A824(_DWORD *a1, char a2)
{
  char *v2; // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    a1[1] = &off_4494AC;
    *(_DWORD *)*a1 = &off_4494B8;
    v2 = (char *)a1[2];
    if ( v2 )
    {
      *(_DWORD *)(v2 + 5) = off_449490;
      operator delete[](*(void **)(v2 + 9));
      operator delete(v2);
    }
    if ( (a2 & 2) != 0 )
      pstream::~pstream((pstream *)(a1 + 3));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);
// 4494AC: using guessed type int (__cdecl *off_4494AC)(void *, int);
// 4494B8: using guessed type int (__cdecl *off_4494B8)(int);

//----- (0042A8FD) --------------------------------------------------------
void __cdecl sub_42A8FD(int a1, char a2)
{
  sub_42A824((_DWORD *)(a1 - 12), a2);
}

//----- (0042A91B) --------------------------------------------------------
void __cdecl sub_42A91B(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    string::~string((string *)(a1 + 52));
    string::~string((string *)(a1 + 20));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0042A978) --------------------------------------------------------
void __cdecl sub_42A978(_DWORD *a1, char a2)
{
  void (__cdecl ***v2)(_DWORD, int); // [esp+24h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_449510;
    v2 = (void (__cdecl ***)(_DWORD, int))a1[11];
    if ( v2 )
      (**v2)(v2, 3);
    string::~string((string *)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449510: using guessed type int (__cdecl *off_449510)(void *, char);

//----- (0042AA01) --------------------------------------------------------
char __cdecl sub_42AA01(int *a1, TDC *a2)
{
  if ( a1[11] && (*(unsigned __int8 (__cdecl **)(int *))(*a1 + 4))(a1) )
    return sub_41DB0D(a1[11], a2, a1 + 1);
  else
    return 0;
}

//----- (0042AA32) --------------------------------------------------------
void __cdecl sub_42AA32(char *a1, char a2)
{
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_449490;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);

//----- (0042AA5F) --------------------------------------------------------
void __cdecl sub_42AA5F(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 5) = off_449490;
    operator delete[](*(void **)(a1 + 9));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);

//----- (0042AB55) --------------------------------------------------------
void __cdecl sub_42AB55(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_449490;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);

//----- (0042AC40) --------------------------------------------------------
void __cdecl sub_42AC40(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_449490;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);

//----- (0042AD23) --------------------------------------------------------
void __cdecl sub_42AD23(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_449490;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);

//----- (0042ADFE) --------------------------------------------------------
void __cdecl sub_42ADFE(char *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(a1 + 1) = off_449490;
    operator delete[](*(void **)(a1 + 5));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449490: using guessed type int (__cdecl *off_449490[2])(int);

//----- (0042AE50) --------------------------------------------------------
_DWORD *__cdecl sub_42AE50(_DWORD *a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    *a1 = (char *)a1 + 85;
    *(_DWORD *)((char *)a1 + 85) = (char *)a1 + 73;
    *(_DWORD *)((char *)a1 + 89) = (char *)a1 + 77;
    a1[1] = (char *)a1 + 73;
    a1[2] = (char *)a1 + 77;
    *(_DWORD *)((char *)a1 + 69) = 0;
    *(_DWORD *)((char *)a1 + 81) = 0;
    *(_DWORD *)((char *)a1 + 73) = &off_444030;
    *(_DWORD *)((char *)a1 + 77) = &off_444020;
    *(_DWORD *)(a1[1] - 4) += 150;
    TWindow::TWindow((TWindow *)((char *)a1 + 85));
    *(_DWORD *)(a1[1] - 4) -= 150;
  }
  *(_DWORD *)(a1[1] - 4) -= 4;
  *(_DWORD *)(*a1 - 4) -= 4;
  sub_42B478(a1, 1, a3, a4, a6, a7);
  *(_DWORD *)(a1[1] - 4) += 4;
  *(_DWORD *)(*a1 - 4) += 4;
  a1[3] = &off_449614;
  *(_DWORD *)a1[1] = &off_44965C;
  *(_DWORD *)a1[2] = &off_449668;
  *(_DWORD *)(*a1 + 8) = off_449674;
  *(_DWORD *)((char *)a1 + 65) = a5;
  return a1;
}
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 449614: using guessed type int (__cdecl *off_449614)(TDialog *, int);
// 44965C: using guessed type _UNKNOWN *off_44965C;
// 449668: using guessed type int (__cdecl *off_449668)(int);
// 449674: using guessed type int (__cdecl *off_449674[2])(TDialog *);

//----- (0042AF80) --------------------------------------------------------
void __cdecl sub_42AF80(TDialog *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *((_DWORD *)a1 + 3) = &off_449614;
    **((_DWORD **)a1 + 1) = &off_44965C;
    **((_DWORD **)a1 + 2) = &off_449668;
    *(_DWORD *)(*(_DWORD *)a1 + 8) = off_449674;
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 4;
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 4;
    sub_42B816(a1, 0);
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 4;
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 4;
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TDialog *)((char *)a1 + 85));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TDialog *)((char *)a1 + 77));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449614: using guessed type int (__cdecl *off_449614)(TDialog *, int);
// 44965C: using guessed type _UNKNOWN *off_44965C;
// 449668: using guessed type int (__cdecl *off_449668)(int);
// 449674: using guessed type int (__cdecl *off_449674[2])(TDialog *);

//----- (0042B075) --------------------------------------------------------
unsigned int *__cdecl sub_42B075(int a1, int a2)
{
  unsigned int *result; // eax
  unsigned int v3; // edx

  **(_DWORD **)(a1 + 25) &= **(_DWORD **)(a1 + 65);
  result = sub_42B90B(a1, a2);
  if ( a2 == 1 )
  {
    v3 = (**(_BYTE **)(a1 + 25) & 8) != 0 && (**(_BYTE **)(a1 + 25) & 0x10) == 0;
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 41), v3);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 29) + 8) + 92))(
      **(_DWORD **)(a1 + 29),
      (**(_BYTE **)(a1 + 65) & 1) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 33) + 8) + 92))(
      **(_DWORD **)(a1 + 33),
      (**(_BYTE **)(a1 + 65) & 2) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 37) + 8) + 92))(
      **(_DWORD **)(a1 + 37),
      (**(_BYTE **)(a1 + 65) & 4) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 41) + 8) + 92))(
      **(_DWORD **)(a1 + 41),
      (**(_BYTE **)(a1 + 65) & 8) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 45) + 8) + 92))(
      **(_DWORD **)(a1 + 45),
      (**(_BYTE **)(a1 + 65) & 0x10) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 49) + 8) + 92))(
      **(_DWORD **)(a1 + 49),
      (**(_BYTE **)(a1 + 65) & 0x20) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 53) + 8) + 92))(
      **(_DWORD **)(a1 + 53),
      (**(_BYTE **)(a1 + 65) & 0x40) != 0);
    (*(void (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 57) + 8) + 92))(
      **(_DWORD **)(a1 + 57),
      **(char **)(a1 + 65) < 0);
    return (unsigned int *)(*(int (__cdecl **)(_DWORD, bool))(*(_DWORD *)(**(_DWORD **)(a1 + 61) + 8) + 92))(
                             **(_DWORD **)(a1 + 61),
                             (*(_BYTE *)(*(_DWORD *)(a1 + 65) + 1) & 1) != 0);
  }
  else if ( !a2 )
  {
    result = *(unsigned int **)(a1 + 25);
    *result &= **(_DWORD **)(a1 + 65);
  }
  return result;
}

//----- (0042B361) --------------------------------------------------------
void __cdecl sub_42B361(TDialog *a1, char a2)
{
  sub_42AF80((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2);
}

//----- (0042B374) --------------------------------------------------------
void __cdecl sub_42B374(int a1, char a2)
{
  sub_42AF80((TDialog *)(a1 - 77), a2);
}

//----- (0042B478) --------------------------------------------------------
_DWORD *__cdecl sub_42B478(_DWORD *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx
  int v7; // ecx
  int v8; // ecx
  int v9; // ecx
  int v10; // ecx
  int v11; // ecx
  int v12; // ecx
  int v13; // ecx
  int v14; // ecx
  int v16; // [esp+34h] [ebp-24h]
  int v17; // [esp+38h] [ebp-20h]
  int v18; // [esp+3Ch] [ebp-1Ch]
  int v19; // [esp+40h] [ebp-18h]
  int v20; // [esp+44h] [ebp-14h]
  int v21; // [esp+48h] [ebp-10h]
  int v22; // [esp+4Ch] [ebp-Ch]
  int v23; // [esp+50h] [ebp-8h]
  int v24; // [esp+54h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    *a1 = (char *)a1 + 81;
    *(_DWORD *)((char *)a1 + 81) = (char *)a1 + 69;
    *(_DWORD *)((char *)a1 + 85) = (char *)a1 + 73;
    a1[1] = (char *)a1 + 69;
    a1[2] = (char *)a1 + 73;
    *(_DWORD *)((char *)a1 + 65) = 0;
    *(_DWORD *)((char *)a1 + 77) = 0;
    *(_DWORD *)((char *)a1 + 69) = &off_444030;
    *(_DWORD *)((char *)a1 + 73) = &off_444020;
    *(_DWORD *)(a1[1] - 4) += 150;
    TWindow::TWindow((TWindow *)((char *)a1 + 81));
    *(_DWORD *)(a1[1] - 4) -= 150;
  }
  *(_DWORD *)(a1[1] - 4) -= 40;
  *(_DWORD *)(*a1 - 4) -= 40;
  TDialog::TDialog(a1, 1, a3, a5, a6);
  *(_DWORD *)(a1[1] - 4) += 40;
  *(_DWORD *)(*a1 - 4) += 40;
  a1[3] = &off_449DA4;
  *(_DWORD *)a1[1] = &off_449DEC;
  *(_DWORD *)a1[2] = &off_449DF8;
  *(_DWORD *)(*a1 + 8) = off_449E04;
  *(_DWORD *)((char *)a1 + 25) = a4;
  v24 = operator new(0xB0u);
  if ( v24 )
  {
    TCheckBox::TCheckBox(v24, 0, *a1, 1001, 0, 0);
    v6 = v24;
  }
  else
  {
    v6 = 0;
  }
  *(_DWORD *)((char *)a1 + 29) = v6;
  v23 = operator new(0xB0u);
  if ( v23 )
  {
    TCheckBox::TCheckBox(v23, 0, *a1, 1002, 0, 0);
    v7 = v23;
  }
  else
  {
    v7 = 0;
  }
  *(_DWORD *)((char *)a1 + 33) = v7;
  v22 = operator new(0xB0u);
  if ( v22 )
  {
    TCheckBox::TCheckBox(v22, 0, *a1, 1003, 0, 0);
    v8 = v22;
  }
  else
  {
    v8 = 0;
  }
  *(_DWORD *)((char *)a1 + 37) = v8;
  v21 = operator new(0xB0u);
  if ( v21 )
  {
    TCheckBox::TCheckBox(v21, 0, *a1, 1004, 0, 0);
    v9 = v21;
  }
  else
  {
    v9 = 0;
  }
  *(_DWORD *)((char *)a1 + 41) = v9;
  v20 = operator new(0xB0u);
  if ( v20 )
  {
    TCheckBox::TCheckBox(v20, 0, *a1, 1005, 0, 0);
    v10 = v20;
  }
  else
  {
    v10 = 0;
  }
  *(_DWORD *)((char *)a1 + 45) = v10;
  v19 = operator new(0xB0u);
  if ( v19 )
  {
    TCheckBox::TCheckBox(v19, 0, *a1, 1006, 0, 0);
    v11 = v19;
  }
  else
  {
    v11 = 0;
  }
  *(_DWORD *)((char *)a1 + 49) = v11;
  v18 = operator new(0xB0u);
  if ( v18 )
  {
    TCheckBox::TCheckBox(v18, 0, *a1, 1007, 0, 0);
    v12 = v18;
  }
  else
  {
    v12 = 0;
  }
  *(_DWORD *)((char *)a1 + 53) = v12;
  v17 = operator new(0xB0u);
  if ( v17 )
  {
    TCheckBox::TCheckBox(v17, 0, *a1, 1008, 0, 0);
    v13 = v17;
  }
  else
  {
    v13 = 0;
  }
  *(_DWORD *)((char *)a1 + 57) = v13;
  v16 = operator new(0xB0u);
  if ( v16 )
  {
    TCheckBox::TCheckBox(v16, 0, *a1, 1009, 0, 0);
    v14 = v16;
  }
  else
  {
    v14 = 0;
  }
  *(_DWORD *)((char *)a1 + 61) = v14;
  return a1;
}
// 4395AC: using guessed type int __cdecl TCheckBox::TCheckBox(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 439648: using guessed type int __cdecl TDialog::TDialog(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 449DA4: using guessed type int (__cdecl *off_449DA4)(TDialog *, int);
// 449DEC: using guessed type _UNKNOWN *off_449DEC;
// 449DF8: using guessed type int (__cdecl *off_449DF8)(int);
// 449E04: using guessed type int (__cdecl *off_449E04[2])(TDialog *);

//----- (0042B816) --------------------------------------------------------
void __cdecl sub_42B816(TDialog *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *((_DWORD *)a1 + 3) = &off_449DA4;
    **((_DWORD **)a1 + 1) = &off_449DEC;
    **((_DWORD **)a1 + 2) = &off_449DF8;
    *(_DWORD *)(*(_DWORD *)a1 + 8) = off_449E04;
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 40;
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 40;
    TDialog::~TDialog(a1);
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 40;
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 40;
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TDialog *)((char *)a1 + 81));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TDialog *)((char *)a1 + 73));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449DA4: using guessed type int (__cdecl *off_449DA4)(TDialog *, int);
// 449DEC: using guessed type _UNKNOWN *off_449DEC;
// 449DF8: using guessed type int (__cdecl *off_449DF8)(int);
// 449E04: using guessed type int (__cdecl *off_449E04[2])(TDialog *);

//----- (0042B90B) --------------------------------------------------------
unsigned int *__cdecl sub_42B90B(int a1, int a2)
{
  unsigned int *result; // eax
  unsigned int *v3; // eax
  unsigned int v4; // edx
  unsigned int *v5; // eax
  unsigned int v6; // edx
  unsigned int *v7; // eax
  unsigned int v8; // edx
  unsigned int *v9; // eax
  unsigned int v10; // edx
  unsigned int *v11; // eax
  unsigned int v12; // edx
  unsigned int *v13; // eax
  unsigned int v14; // edx
  unsigned int *v15; // eax
  unsigned int v16; // edx
  unsigned int *v17; // eax
  unsigned int v18; // edx
  _BOOL1 v19; // dl
  unsigned int v20; // edx
  TWindow **v21; // [esp+Ch] [ebp-B0h]
  TWindow **v22; // [esp+10h] [ebp-ACh]
  _BOOL1 v23; // [esp+17h] [ebp-A5h]
  TWindow **v24; // [esp+18h] [ebp-A4h]
  _BOOL1 v25; // [esp+1Fh] [ebp-9Dh]
  TWindow **v26; // [esp+20h] [ebp-9Ch]
  _BOOL1 v27; // [esp+27h] [ebp-95h]
  TWindow **v28; // [esp+28h] [ebp-94h]
  _BOOL1 v29; // [esp+2Fh] [ebp-8Dh]
  TWindow **v30; // [esp+30h] [ebp-8Ch]
  _BOOL1 v31; // [esp+37h] [ebp-85h]
  TWindow **v32; // [esp+38h] [ebp-84h]
  _BOOL1 v33; // [esp+3Fh] [ebp-7Dh]
  TWindow **v34; // [esp+40h] [ebp-7Ch]
  _BOOL1 v35; // [esp+47h] [ebp-75h]
  TWindow **v36; // [esp+48h] [ebp-74h]
  _BOOL1 v37; // [esp+4Fh] [ebp-6Dh]
  _BYTE v38[16]; // [esp+50h] [ebp-6Ch] BYREF
  __int16 v39; // [esp+60h] [ebp-5Ch]
  int v40; // [esp+6Ch] [ebp-50h]
  _BYTE v41[4]; // [esp+74h] [ebp-48h] BYREF
  _BYTE v42[4]; // [esp+78h] [ebp-44h] BYREF
  _BYTE v43[4]; // [esp+7Ch] [ebp-40h] BYREF
  _BYTE v44[4]; // [esp+80h] [ebp-3Ch] BYREF
  _BYTE v45[4]; // [esp+84h] [ebp-38h] BYREF
  _BYTE v46[4]; // [esp+88h] [ebp-34h] BYREF
  _BYTE v47[4]; // [esp+8Ch] [ebp-30h] BYREF
  _BYTE v48[4]; // [esp+90h] [ebp-2Ch] BYREF
  _BYTE v49[4]; // [esp+94h] [ebp-28h] BYREF
  _BYTE v50[4]; // [esp+98h] [ebp-24h] BYREF
  _BYTE v51[4]; // [esp+9Ch] [ebp-20h] BYREF
  _BYTE v52[4]; // [esp+A0h] [ebp-1Ch] BYREF
  _BYTE v53[4]; // [esp+A4h] [ebp-18h] BYREF
  _BYTE v54[4]; // [esp+A8h] [ebp-14h] BYREF
  _BYTE v55[4]; // [esp+ACh] [ebp-10h] BYREF
  _BYTE v56[4]; // [esp+B0h] [ebp-Ch] BYREF
  _BYTE v57[4]; // [esp+B4h] [ebp-8h] BYREF
  _BYTE v58[4]; // [esp+B8h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  result = (unsigned int *)TWindow::TransferData(*(_DWORD *)a1, a2);
  if ( a2 == 1 )
  {
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 29), (**(_BYTE **)(a1 + 25) & 1) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 33), (**(_BYTE **)(a1 + 25) & 2) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 37), (**(_BYTE **)(a1 + 25) & 4) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 41), (**(_BYTE **)(a1 + 25) & 8) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 45), (**(_BYTE **)(a1 + 25) & 0x10) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 49), (**(_BYTE **)(a1 + 25) & 0x20) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 53), (**(_BYTE **)(a1 + 25) & 0x40) != 0);
    TCheckBox::SetCheck(*(TCheckBox **)(a1 + 57), **(char **)(a1 + 25) < 0);
    return (unsigned int *)TCheckBox::SetCheck(
                             *(TCheckBox **)(a1 + 61),
                             (*(_BYTE *)(*(_DWORD *)(a1 + 25) + 1) & 1) != 0);
  }
  else if ( !a2 )
  {
    v36 = *(TWindow ***)(a1 + 29);
    if ( !*((_DWORD *)*v36 + 3) )
    {
      xerror::MakeString((xerror *)v58, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v57, (const string *)v58);
      ++v40;
      v39 = 12;
      --v40;
      string::~string((string *)v58);
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v57, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v37 = TWindow::SendMessageA(*v36, 0xF0u, 0, 0) == 1;
    v3 = *(unsigned int **)(a1 + 25);
    if ( v37 )
      v4 = *v3 | 1;
    else
      v4 = *v3 & 0xFFFFFFFE;
    *v3 = v4;
    v34 = *(TWindow ***)(a1 + 33);
    if ( !*((_DWORD *)*v34 + 3) )
    {
      v39 = 24;
      xerror::MakeString((xerror *)v56, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v55, (const string *)v56);
      ++v40;
      v39 = 36;
      --v40;
      string::~string((string *)v56);
      v39 = 24;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v55, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v35 = TWindow::SendMessageA(*v34, 0xF0u, 0, 0) == 1;
    v5 = *(unsigned int **)(a1 + 25);
    if ( v35 )
      v6 = *v5 | 2;
    else
      v6 = *v5 & 0xFFFFFFFD;
    *v5 = v6;
    v32 = *(TWindow ***)(a1 + 37);
    if ( !*((_DWORD *)*v32 + 3) )
    {
      v39 = 48;
      xerror::MakeString((xerror *)v54, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v53, (const string *)v54);
      ++v40;
      v39 = 60;
      --v40;
      string::~string((string *)v54);
      v39 = 48;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v53, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v33 = TWindow::SendMessageA(*v32, 0xF0u, 0, 0) == 1;
    v7 = *(unsigned int **)(a1 + 25);
    if ( v33 )
      v8 = *v7 | 4;
    else
      v8 = *v7 & 0xFFFFFFFB;
    *v7 = v8;
    v30 = *(TWindow ***)(a1 + 41);
    if ( !*((_DWORD *)*v30 + 3) )
    {
      v39 = 72;
      xerror::MakeString((xerror *)v52, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v51, (const string *)v52);
      ++v40;
      v39 = 84;
      --v40;
      string::~string((string *)v52);
      v39 = 72;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v51, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v31 = TWindow::SendMessageA(*v30, 0xF0u, 0, 0) == 1;
    v9 = *(unsigned int **)(a1 + 25);
    if ( v31 )
      v10 = *v9 | 8;
    else
      v10 = *v9 & 0xFFFFFFF7;
    *v9 = v10;
    v28 = *(TWindow ***)(a1 + 45);
    if ( !*((_DWORD *)*v28 + 3) )
    {
      v39 = 96;
      xerror::MakeString((xerror *)v50, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v49, (const string *)v50);
      ++v40;
      v39 = 108;
      --v40;
      string::~string((string *)v50);
      v39 = 96;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v49, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v29 = TWindow::SendMessageA(*v28, 0xF0u, 0, 0) == 1;
    v11 = *(unsigned int **)(a1 + 25);
    if ( v29 )
      v12 = *v11 | 0x10;
    else
      v12 = *v11 & 0xFFFFFFEF;
    *v11 = v12;
    v26 = *(TWindow ***)(a1 + 49);
    if ( !*((_DWORD *)*v26 + 3) )
    {
      v39 = 120;
      xerror::MakeString((xerror *)v48, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v47, (const string *)v48);
      ++v40;
      v39 = 132;
      --v40;
      string::~string((string *)v48);
      v39 = 120;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v47, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v27 = TWindow::SendMessageA(*v26, 0xF0u, 0, 0) == 1;
    v13 = *(unsigned int **)(a1 + 25);
    if ( v27 )
      v14 = *v13 | 0x20;
    else
      v14 = *v13 & 0xFFFFFFDF;
    *v13 = v14;
    v24 = *(TWindow ***)(a1 + 53);
    if ( !*((_DWORD *)*v24 + 3) )
    {
      v39 = 144;
      xerror::MakeString((xerror *)v46, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v45, (const string *)v46);
      ++v40;
      v39 = 156;
      --v40;
      string::~string((string *)v46);
      v39 = 144;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v45, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v25 = TWindow::SendMessageA(*v24, 0xF0u, 0, 0) == 1;
    v15 = *(unsigned int **)(a1 + 25);
    if ( v25 )
      v16 = *v15 | 0x40;
    else
      v16 = *v15 & 0xFFFFFFBF;
    *v15 = v16;
    v22 = *(TWindow ***)(a1 + 57);
    if ( !*((_DWORD *)*v22 + 3) )
    {
      v39 = 168;
      xerror::MakeString((xerror *)v44, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v43, (const string *)v44);
      ++v40;
      v39 = 180;
      --v40;
      string::~string((string *)v44);
      v39 = 168;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v43, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v23 = TWindow::SendMessageA(*v22, 0xF0u, 0, 0) == 1;
    v17 = *(unsigned int **)(a1 + 25);
    if ( v23 )
      v18 = *v17 | 0x80;
    else
      v18 = *v17 & 0xFFFFFF7F;
    *v17 = v18;
    v21 = *(TWindow ***)(a1 + 61);
    if ( !*((_DWORD *)*v21 + 3) )
    {
      v39 = 192;
      xerror::MakeString((xerror *)v42, "Precondition", "GetHandle()", "C:\\BC5\\INCLUDE\\owl/checkbox.h", 0x80u);
      ++v40;
      xmsg::xmsg((xmsg *)v41, (const string *)v42);
      ++v40;
      v39 = 204;
      --v40;
      string::~string((string *)v42);
      v39 = 192;
      v40 += 2;
      v40 += 3;
      _ThrowExceptionLDTC(stru_403B88, v41, 0, sub_403BE0, 1u, 0, 0, 0, v38);
    }
    v19 = TWindow::SendMessageA(*v21, 0xF0u, 0, 0) == 1;
    result = *(unsigned int **)(a1 + 25);
    if ( v19 )
      v20 = *result | 0x100;
    else
      v20 = *result & 0xFFFFFEFF;
    *result = v20;
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 439420: using guessed type int __cdecl TWindow::TransferData(_DWORD, _DWORD);

//----- (0042C3A3) --------------------------------------------------------
void __cdecl sub_42C3A3(TDialog *a1, char a2)
{
  sub_42B816((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 81), a2);
}

//----- (0042C3B6) --------------------------------------------------------
void __cdecl sub_42C3B6(int a1, char a2)
{
  sub_42B816((TDialog *)(a1 - 73), a2);
}

//----- (0042C4B4) --------------------------------------------------------
int *__cdecl sub_42C4B4(int *a1, int a2, int a3, int a4, int a5)
{
  TGauge *v5; // eax
  int v6; // ecx
  TGauge *v8; // [esp+38h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    *a1 = (int)a1 + 45;
    *(int *)((char *)a1 + 45) = (int)a1 + 33;
    *(int *)((char *)a1 + 49) = (int)a1 + 37;
    a1[1] = (int)a1 + 33;
    a1[2] = (int)a1 + 37;
    *(int *)((char *)a1 + 29) = 0;
    *(int *)((char *)a1 + 41) = 0;
    *(int *)((char *)a1 + 33) = (int)&off_444030;
    *(int *)((char *)a1 + 37) = (int)&off_444020;
    *(_DWORD *)(a1[1] - 4) += 150;
    TWindow::TWindow((TWindow *)((char *)a1 + 45));
    *(_DWORD *)(a1[1] - 4) -= 150;
  }
  *(_DWORD *)(a1[1] - 4) -= 4;
  *(_DWORD *)(*a1 - 4) -= 4;
  TDialog::TDialog(a1, 1, a3, a4, a5);
  a1[3] = (int)&off_44A0B4;
  *(_DWORD *)a1[1] = &off_44A0F8;
  *(_DWORD *)a1[2] = &off_44A104;
  *(_DWORD *)(*a1 + 8) = off_44A110;
  *(_DWORD *)(a1[1] - 4) += 4;
  *(_DWORD *)(*a1 - 4) += 4;
  a1[3] = (int)&off_449FD0;
  *(_DWORD *)a1[1] = &off_44A014;
  *(_DWORD *)a1[2] = &off_44A020;
  *(_DWORD *)(*a1 + 8) = off_44A02C;
  v5 = (TGauge *)operator new(0xCEu);
  v8 = v5;
  if ( v5 )
  {
    TGauge::TGauge(v5, 0, *a1, (TModule *)0x44D);
    v6 = (int)v8;
  }
  else
  {
    v6 = 0;
  }
  *(int *)((char *)a1 + 25) = v6;
  return a1;
}
// 4392F4: using guessed type TGauge *TGauge::TGauge(TGauge *__hidden this, TWindow *, int, TModule *);
// 439648: using guessed type int __cdecl TDialog::TDialog(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 449FD0: using guessed type int (__cdecl *off_449FD0)(TDialog *, int);
// 44A014: using guessed type _UNKNOWN *off_44A014;
// 44A020: using guessed type int (__cdecl *off_44A020)(int);
// 44A02C: using guessed type int (__cdecl *off_44A02C[3])(TDialog *);
// 44A0B4: using guessed type int (__cdecl *off_44A0B4)(TDialog *, int);
// 44A0F8: using guessed type _UNKNOWN *off_44A0F8;
// 44A104: using guessed type int (__cdecl *off_44A104)(int);
// 44A110: using guessed type int (__cdecl *off_44A110[3])(TDialog *);

//----- (0042C654) --------------------------------------------------------
void __cdecl sub_42C654(TDialog *a1, char a2)
{
  int v2; // [esp+28h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *((_DWORD *)a1 + 3) = &off_449FD0;
    **((_DWORD **)a1 + 1) = &off_44A014;
    **((_DWORD **)a1 + 2) = &off_44A020;
    *(_DWORD *)(*(_DWORD *)a1 + 8) = off_44A02C;
    (*(void (__cdecl **)(TDialog *, int))(*((_DWORD *)a1 + 3) + 36))(a1, 2);
    v2 = *(_DWORD *)((char *)a1 + 25);
    if ( v2 )
      (**(void (__cdecl ***)(int, int))(v2 + 12))(v2, 3);
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 4;
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 4;
    TDialog::~TDialog(a1);
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 4;
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 4;
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TDialog *)((char *)a1 + 45));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TDialog *)((char *)a1 + 37));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 449FD0: using guessed type int (__cdecl *off_449FD0)(TDialog *, int);
// 44A014: using guessed type _UNKNOWN *off_44A014;
// 44A020: using guessed type int (__cdecl *off_44A020)(int);
// 44A02C: using guessed type int (__cdecl *off_44A02C[3])(TDialog *);

//----- (0042C789) --------------------------------------------------------
int __cdecl sub_42C789(TDialog *a1)
{
  sub_4266F0(a1);
  TGauge::SetRange(*(TGauge **)((char *)a1 + 25), 0, 100);
  TGauge::SetStep(*(TGauge **)((char *)a1 + 25), 1);
  return TGauge::SetValue(*(TGauge **)((char *)a1 + 25), 0);
}

//----- (0042C8E4) --------------------------------------------------------
int __cdecl sub_42C8E4(int a1)
{
  return TDialog::Find(*(_DWORD *)(a1 - 4) + a1 - 45);
}
// 43956A: using guessed type int __cdecl TDialog::Find(_DWORD);

//----- (0042C8F7) --------------------------------------------------------
int __cdecl sub_42C8F7(TDialog *a1)
{
  return sub_42C789((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45));
}

//----- (0042C90A) --------------------------------------------------------
int __cdecl sub_42C90A(TDialog *a1)
{
  return TDialog::GetClassNameA((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45));
}

//----- (0042C91D) --------------------------------------------------------
int __cdecl sub_42C91D(TDialog *a1, tagWNDCLASSA *a2)
{
  return TDialog::GetWindowClass((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45), a2);
}

//----- (0042C930) --------------------------------------------------------
int __cdecl sub_42C930(TDialog *a1, int a2)
{
  return TDialog::IdleAction((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45), a2);
}

//----- (0042C943) --------------------------------------------------------
int __cdecl sub_42C943(TDialog *a1, tagMSG *a2)
{
  return TDialog::PreProcessMsg((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45), a2);
}

//----- (0042C956) --------------------------------------------------------
int __cdecl sub_42C956(TDialog *a1, int a2)
{
  return TDialog::CloseWindow((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45), a2);
}

//----- (0042C969) --------------------------------------------------------
int __cdecl sub_42C969(TDialog *a1)
{
  return TDialog::DoExecute((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45));
}

//----- (0042C97C) --------------------------------------------------------
int __cdecl sub_42C97C(TDialog *a1)
{
  return TDialog::Execute((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45));
}

//----- (0042C98F) --------------------------------------------------------
int __cdecl sub_42C98F(TDialog *a1, int a2)
{
  return TDialog::Destroy((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45), a2);
}

//----- (0042C9A2) --------------------------------------------------------
int __cdecl sub_42C9A2(TDialog *a1)
{
  return TDialog::Create((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45));
}

//----- (0042C9B5) --------------------------------------------------------
void __cdecl sub_42C9B5(TDialog *a1, char a2)
{
  sub_42C654((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 45), a2);
}

//----- (0042C9C8) --------------------------------------------------------
void __cdecl sub_42C9C8(int a1, char a2)
{
  sub_42C654((TDialog *)(a1 - 37), a2);
}

//----- (0042CA5D) --------------------------------------------------------
void __cdecl sub_42CA5D(TDialog *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TDialog::~TDialog(a1);
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TDialog *)((char *)a1 + 41));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TDialog *)((char *)a1 + 33));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0042CAEA) --------------------------------------------------------
int __cdecl sub_42CAEA(int a1)
{
  return TDialog::Find(*(_DWORD *)(a1 - 4) + a1 - 41);
}
// 43956A: using guessed type int __cdecl TDialog::Find(_DWORD);

//----- (0042CAFD) --------------------------------------------------------
int __cdecl sub_42CAFD(TDialog *a1)
{
  return sub_4266F0((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (0042CB10) --------------------------------------------------------
int __cdecl sub_42CB10(TDialog *a1)
{
  return TDialog::GetClassNameA((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (0042CB23) --------------------------------------------------------
int __cdecl sub_42CB23(TDialog *a1, tagWNDCLASSA *a2)
{
  return TDialog::GetWindowClass((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (0042CB36) --------------------------------------------------------
int __cdecl sub_42CB36(TDialog *a1, int a2)
{
  return TDialog::IdleAction((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (0042CB49) --------------------------------------------------------
int __cdecl sub_42CB49(TDialog *a1, tagMSG *a2)
{
  return TDialog::PreProcessMsg((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (0042CB5C) --------------------------------------------------------
int __cdecl sub_42CB5C(TDialog *a1, int a2)
{
  return TDialog::CloseWindow((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (0042CB6F) --------------------------------------------------------
int __cdecl sub_42CB6F(TDialog *a1)
{
  return TDialog::DoExecute((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (0042CB82) --------------------------------------------------------
int __cdecl sub_42CB82(TDialog *a1)
{
  return TDialog::Execute((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (0042CB95) --------------------------------------------------------
int __cdecl sub_42CB95(TDialog *a1, int a2)
{
  return TDialog::Destroy((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (0042CBA8) --------------------------------------------------------
int __cdecl sub_42CBA8(TDialog *a1)
{
  return TDialog::Create((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (0042CBBB) --------------------------------------------------------
void __cdecl sub_42CBBB(TDialog *a1, char a2)
{
  sub_42CA5D((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (0042CBCE) --------------------------------------------------------
void __cdecl sub_42CBCE(int a1, char a2)
{
  sub_42CA5D((TDialog *)(a1 - 33), a2);
}

//----- (0042CBEB) --------------------------------------------------------
void __cdecl sub_42CBEB(TControl *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 36;
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 36;
    TControl::~TControl(a1);
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 36;
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 36;
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TControl *)((char *)a1 + 72));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TControl *)((char *)a1 + 64));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0042CC94) --------------------------------------------------------
TBitmap *__cdecl sub_42CC94(unsigned int a1, char a2)
{
  int v2; // esi
  int v3; // esi
  _DWORD *v4; // ebx
  TBitmap *v5; // edx
  _DWORD *v7; // ebx
  TBitmap *v8; // edx
  _DWORD *v10; // ebx
  TBitmap *v11; // edx
  void *v13; // ecx
  TBitmap *v14; // eax
  TBitmap *v15; // eax
  TBitmap *v16; // eax
  TBitmap *v18; // [esp+54h] [ebp-58h]
  TBitmap *v19; // [esp+80h] [ebp-2Ch]
  TBitmap *v20; // [esp+84h] [ebp-28h]
  TBitmap *v21; // [esp+88h] [ebp-24h]
  int v22; // [esp+8Ch] [ebp-20h] BYREF
  TBitmap *v23; // [esp+94h] [ebp-18h]
  TBitmap *v24; // [esp+98h] [ebp-14h]
  TBitmap *v25; // [esp+9Ch] [ebp-10h]
  int v26; // [esp+A0h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  v18 = 0;
  if ( !strnicmp(*(const char **)(*(_DWORD *)a1 + 2), aRes_0, 4u)
    || !strnicmp(*(const char **)(*(_DWORD *)a1 + 2), aRes_1, 4u) )
  {
    string::substr((string *)&v26, a1);
    v2 = atol(*(const char **)(v26 + 2));
    string::~string((string *)&v26);
    if ( v2 )
    {
      v3 = v2 + 1000;
      if ( dword_44EC54 && a2 )
      {
        v25 = (TBitmap *)operator new(0x25u);
        if ( !v25 )
          return 0;
        sub_41D4F4(v25, *(_DWORD *)(dword_44ECF1 + 8), v3, dword_44EC54);
        *(_DWORD *)((char *)v25 + 5) = &off_44D228;
        v4 = (_DWORD *)((char *)v25 + 13);
        *(_DWORD *)((char *)v25 + 13) = 0;
        v4[1] = 0;
        v4[2] = 0;
        v4[3] = 0;
        v5 = v25;
        *(_DWORD *)((char *)v25 + 29) = 0;
        *(_DWORD *)((char *)v5 + 33) = 1072693248;
        return v25;
      }
      else if ( dword_44EC54 )
      {
        v24 = (TBitmap *)operator new(0x25u);
        if ( !v24 )
          return 0;
        sub_41D6AE(v24, *(_DWORD *)(dword_44ECF1 + 8), v3, (HPALETTE *)dword_44EC54, 0x10u, 0xDCu);
        *(_DWORD *)((char *)v24 + 5) = &off_44D228;
        v7 = (_DWORD *)((char *)v24 + 13);
        *(_DWORD *)((char *)v24 + 13) = 0;
        v7[1] = 0;
        v7[2] = 0;
        v7[3] = 0;
        v8 = v24;
        *(_DWORD *)((char *)v24 + 29) = 0;
        *(_DWORD *)((char *)v8 + 33) = 1072693248;
        return v24;
      }
      else
      {
        v23 = (TBitmap *)operator new(0x25u);
        if ( !v23 )
          return 0;
        sub_41D6AE(v23, *(_DWORD *)(dword_44ECF1 + 8), v3, (HPALETTE *)dword_44EC50, 0x10u, 0xDCu);
        *(_DWORD *)((char *)v23 + 5) = &off_44D228;
        v10 = (_DWORD *)((char *)v23 + 13);
        *(_DWORD *)((char *)v23 + 13) = 0;
        v10[1] = 0;
        v10[2] = 0;
        v10[3] = 0;
        v11 = v23;
        *(_DWORD *)((char *)v23 + 29) = 0;
        *(_DWORD *)((char *)v11 + 33) = 1072693248;
        return v23;
      }
    }
    else
    {
      sub_404F9C(0x6Cu, *(_DWORD *)(*(_DWORD *)a1 + 2));
    }
  }
  else
  {
    if ( (byte_44EC4C & 0x10) != 0 )
      v13 = &unk_44EC28;
    else
      v13 = &unk_44EC24;
    sub_40411C((string *)&v22, a1, *(LPCSTR *)(*(_DWORD *)v13 + 2));
    if ( sub_40453C((int)&v22) )
    {
      if ( dword_44EC54 && a2 )
      {
        v21 = (TBitmap *)operator new(0x25u);
        if ( v21 )
        {
          sub_41D5D3(v21, (int)&v22, dword_44EC54);
          *(_DWORD *)((char *)v21 + 5) = &off_44D228;
          *(_DWORD *)((char *)v21 + 13) = 0;
          *(_DWORD *)((char *)v21 + 17) = 0;
          *(_DWORD *)((char *)v21 + 21) = 0;
          *(_DWORD *)((char *)v21 + 25) = 0;
          *(_DWORD *)((char *)v21 + 29) = 0;
          *(_DWORD *)((char *)v21 + 33) = 1072693248;
          v14 = v21;
        }
        else
        {
          v14 = 0;
        }
        v18 = v14;
      }
      else if ( dword_44EC54 )
      {
        v20 = (TBitmap *)operator new(0x25u);
        if ( v20 )
        {
          sub_41D7A5(v20, (int)&v22, (HPALETTE *)dword_44EC54, 0x10u, 0xDCu);
          *(_DWORD *)((char *)v20 + 5) = &off_44D228;
          *(_DWORD *)((char *)v20 + 13) = 0;
          *(_DWORD *)((char *)v20 + 17) = 0;
          *(_DWORD *)((char *)v20 + 21) = 0;
          *(_DWORD *)((char *)v20 + 25) = 0;
          *(_DWORD *)((char *)v20 + 29) = 0;
          *(_DWORD *)((char *)v20 + 33) = 1072693248;
          v15 = v20;
        }
        else
        {
          v15 = 0;
        }
        v18 = v15;
      }
      else
      {
        v19 = (TBitmap *)operator new(0x25u);
        if ( v19 )
        {
          sub_41D5D3(v19, (int)&v22, dword_44EC50);
          *(_DWORD *)((char *)v19 + 5) = &off_44D228;
          *(_DWORD *)((char *)v19 + 13) = 0;
          *(_DWORD *)((char *)v19 + 17) = 0;
          *(_DWORD *)((char *)v19 + 21) = 0;
          *(_DWORD *)((char *)v19 + 25) = 0;
          *(_DWORD *)((char *)v19 + 29) = 0;
          *(_DWORD *)((char *)v19 + 33) = 1072693248;
          v16 = v19;
        }
        else
        {
          v16 = 0;
        }
        v18 = v16;
      }
    }
    else
    {
      sub_404F9C(0x6Cu, *(_DWORD *)(v22 + 2));
    }
    string::~string((string *)&v22);
  }
  return v18;
}
// 44D228: using guessed type int (__cdecl *off_44D228)(TBitmap *, char);
// 44EC4C: using guessed type char byte_44EC4C;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (0042D23A) --------------------------------------------------------
string *__cdecl sub_42D23A(string *a1, string *a2)
{
  if ( a1 != a2 )
  {
    string::assign(a1, a2, 0, 0xFFFFFFFF);
    *((_DWORD *)a1 + 1) = *((_DWORD *)a2 + 1);
  }
  return a1;
}

//----- (0042D269) --------------------------------------------------------
void __cdecl sub_42D269(string *a1, int a2)
{
  ipstream *v2; // eax
  _BYTE v3[4]; // [esp+34h] [ebp-8h] BYREF
  int v4; // [esp+38h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v2 = (ipstream *)operator>>(a2, a1);
  *((_DWORD *)a1 + 1) = ipstream::readWord(v2);
  sub_4048F9((string *)&v4, (int)&unk_44EC34);
  sub_40411C((string *)v3, (int)a1, *(LPCSTR *)(v4 + 2));
  string::assign(a1, (const string *)v3, 0, 0xFFFFFFFF);
  string::~string((string *)v3);
  string::~string((string *)&v4);
}
// 439138: using guessed type int __cdecl operator>>(_DWORD, _DWORD);

//----- (0042D318) --------------------------------------------------------
void __cdecl sub_42D318(string *a1, int a2)
{
  unsigned int v2; // esi
  opstream *v3; // eax
  _BYTE v4[4]; // [esp+34h] [ebp-8h] BYREF
  _BYTE v5[4]; // [esp+38h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  sub_4048F9((string *)v5, (int)&unk_44EC34);
  sub_404212((string *)v4, (string *)v5, a1);
  v2 = *((_DWORD *)a1 + 1);
  v3 = (opstream *)operator<<(a2, v4);
  opstream::writeWord32(v3, v2);
  string::~string((string *)v4);
  string::~string((string *)v5);
}
// 439144: using guessed type int __cdecl operator<<(_DWORD, _DWORD);

//----- (0042D3BD) --------------------------------------------------------
void __cdecl sub_42D3BD(void **a1, char a2)
{
  void (__cdecl ***v2)(_DWORD, int); // [esp+28h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    v2 = (void (__cdecl ***)(_DWORD, int))a1[1];
    if ( v2 )
      (**v2)(v2, 3);
    a1[1] = 0;
    sub_407C8B(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0042D422) --------------------------------------------------------
int __cdecl sub_42D422(int a1, int a2)
{
  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = &off_44D218;
  *(_DWORD *)(a1 + 4) = a2;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 12) = 0;
  *(_BYTE *)(a1 + 16) = 0;
  return a1;
}
// 44D218: using guessed type int (__cdecl *off_44D218)(void *, char);

//----- (0042D471) --------------------------------------------------------
void __cdecl sub_42D471(_DWORD *a1, char a2)
{
  int v2; // [esp+28h] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_44D218;
    sub_42D662((int)a1);
    v2 = a1[3];
    if ( v2 )
      (**(void (__cdecl ***)(int, int))(v2 + 5))(v2, 3);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44D218: using guessed type int (__cdecl *off_44D218)(void *, char);

//----- (0042D4D8) --------------------------------------------------------
int __cdecl sub_42D4D8(int a1, int a2)
{
  int v3; // ebx
  int v4; // ecx
  unsigned int v6; // [esp+Ch] [ebp-3Ch]
  _DWORD v7[4]; // [esp+1Ch] [ebp-2Ch] BYREF
  __int16 v8; // [esp+2Ch] [ebp-1Ch]
  int v9; // [esp+38h] [ebp-10h]
  _BYTE v10[4]; // [esp+40h] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+44h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a2 < 1 || a2 > (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) )
    return sub_42D4D8(a1, 0);
  v3 = a2 + 1;
  if ( a2 + 1 >= dword_44EC70 )
  {
    if ( dword_44EC7D == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = dword_44EC70 + dword_44EC7D;
    if ( v3 >= v4 )
      sub_406954((int)&unk_44EC74, v3 - dword_44EC70, 0);
  }
  else
  {
    sub_406954((int)&unk_44EC74, dword_44EC7D + v3 - dword_44EC70, 0);
  }
  v6 = a2 - dword_44EC70;
  if ( dword_44EC7D && (!dword_44EC79 || v6 >= dword_44EC7D) )
  {
    xerror::MakeString((xerror *)v11, aPrecondition_85, aLim0Data0Index_20, aCBc5IncludeCla_32, 0x334u);
    ++v9;
    xmsg::xmsg((xmsg *)v10, (const string *)v11);
    ++v9;
    v8 = 12;
    --v9;
    string::~string((string *)v11);
    v9 += 2;
    v9 += 3;
    _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v7);
  }
  return sub_42D72D(a1, *(_DWORD *)(dword_44EC79 + 4 * v6));
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC70: using guessed type int dword_44EC70;
// 44EC75: using guessed type int dword_44EC75;
// 44EC79: using guessed type int dword_44EC79;
// 44EC7D: using guessed type int dword_44EC7D;

//----- (0042D662) --------------------------------------------------------
int __cdecl sub_42D662(int a1)
{
  int result; // eax
  const RECT *v2; // esi
  int v3; // ebx
  _DWORD v4[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v5; // [esp+18h] [ebp-1Ch]
  int v6; // [esp+24h] [ebp-10h]
  _BYTE v7[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v8[4]; // [esp+30h] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 4) && *(_DWORD *)(a1 + 12) )
  {
    v2 = (const RECT *)(*(_DWORD *)(a1 + 12) + 13);
    v3 = *(_DWORD *)(a1 + 4);
    if ( !*(_DWORD *)(v3 + 12) )
    {
      xerror::MakeString((xerror *)v8, aPrecondition_86, aGethandle_32, aCBc5IncludeOwl_35, 0x773u);
      ++v6;
      xmsg::xmsg((xmsg *)v7, (const string *)v8);
      ++v6;
      v5 = 12;
      --v6;
      string::~string((string *)v8);
      v6 += 2;
      v6 += 3;
      _ThrowExceptionLDTC(stru_403B88, v7, 0, sub_403BE0, 1u, 0, 0, 0, v4);
    }
    return InvalidateRect(*(HWND *)(v3 + 12), v2, 0);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0042D72D) --------------------------------------------------------
int __cdecl sub_42D72D(int a1, int a2)
{
  int result; // eax
  int v3; // ecx
  int v4; // ecx
  int v5; // [esp+34h] [ebp-8h]
  int v6; // [esp+38h] [ebp-4h]

  result = __InitExceptBlockLDTC();
  if ( a2 && *(_DWORD *)(a1 + 8) )
  {
    if ( a2 != *(_DWORD *)(a1 + 8) )
    {
      result = string::compare((string *)(*(_DWORD *)(a1 + 8) + 48), (const string *)(a2 + 48));
      if ( result )
      {
        result = sub_42D662(a1);
        v5 = *(_DWORD *)(a1 + 12);
        if ( v5 )
          result = (**(int (__cdecl ***)(int, int))(v5 + 5))(v5, 3);
        *(_DWORD *)(a1 + 12) = 0;
      }
      if ( !*(_DWORD *)(a1 + 12) )
      {
        v4 = *(_DWORD *)(a2 + 48);
        result = *(_DWORD *)(v4 + 6) != 0;
        if ( *(_DWORD *)(v4 + 6) )
          goto LABEL_17;
      }
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 12) )
    {
      result = sub_42D662(a1);
      v6 = *(_DWORD *)(a1 + 12);
      if ( v6 )
        result = (**(int (__cdecl ***)(int, int))(v6 + 5))(v6, 3);
      *(_DWORD *)(a1 + 12) = 0;
    }
    if ( a2 )
    {
      v3 = *(_DWORD *)(a2 + 48);
      result = *(_DWORD *)(v3 + 6) != 0;
      if ( *(_DWORD *)(v3 + 6) )
      {
LABEL_17:
        *(_DWORD *)(a1 + 12) = sub_42CC94(a2 + 48, 1);
        result = sub_42D662(a1);
      }
    }
  }
  *(_DWORD *)(a1 + 8) = a2;
  return result;
}

//----- (0042D858) --------------------------------------------------------
int __cdecl sub_42D858(int a1, char a2)
{
  int result; // eax

  result = a1;
  if ( a2 != *(_BYTE *)(a1 + 16) )
  {
    *(_BYTE *)(a1 + 16) = a2;
    return sub_42D662(a1);
  }
  return result;
}

//----- (0042D872) --------------------------------------------------------
bool __cdecl sub_42D872(_DWORD *a1, int a2, int a3)
{
  *(_DWORD *)(a2 + 8) = a1;
  return (unsigned __int8)TEventHandler::SearchEntries(*a1, &dword_44A5E8, a2, a3)
      || (unsigned __int8)TWindow::Find(a1, a2, a3);
}
// 439480: using guessed type int __cdecl TEventHandler::SearchEntries(_DWORD, _DWORD, _DWORD, _DWORD);
// 439534: using guessed type int __cdecl TWindow::Find(_DWORD, _DWORD, _DWORD);
// 44A5E8: using guessed type int dword_44A5E8;

//----- (0042D8B6) --------------------------------------------------------
int __cdecl sub_42D8B6(int a1, int a2, const char *a3, TModule *a4)
{
  void *v4; // eax
  TBitmap *v5; // ecx
  TBitmap *v6; // ebx
  TBitmap *v7; // esi
  int v8; // ecx
  TBitmap *v9; // ebx
  TBitmap *v10; // esi
  int v11; // ecx
  _DWORD v13[4]; // [esp+18h] [ebp-50h] BYREF
  __int16 v14; // [esp+28h] [ebp-40h]
  int v15; // [esp+34h] [ebp-34h]
  TBitmap *v16; // [esp+3Ch] [ebp-2Ch]
  TBitmap *v17; // [esp+40h] [ebp-28h]
  _DWORD *v18; // [esp+44h] [ebp-24h]
  _BYTE v19[4]; // [esp+48h] [ebp-20h] BYREF
  _BYTE v20[4]; // [esp+4Ch] [ebp-1Ch] BYREF
  TBitmap *v21; // [esp+50h] [ebp-18h]
  TBitmap *v22; // [esp+54h] [ebp-14h]
  _DWORD *v23; // [esp+58h] [ebp-10h]
  _BYTE v24[4]; // [esp+5Ch] [ebp-Ch] BYREF
  _BYTE v25[4]; // [esp+60h] [ebp-8h] BYREF
  TBitmap *v26; // [esp+64h] [ebp-4h]

  __InitExceptBlockLDTC();
  v14 = 8;
  if ( !a2 )
  {
    *(_DWORD *)a1 = a1 + 429;
    *(_DWORD *)(a1 + 4) = a1 + 433;
    *(_DWORD *)(a1 + 425) = 0;
    *(_DWORD *)(a1 + 429) = &off_444030;
    *(_DWORD *)(a1 + 433) = &off_444020;
    v15 += 2;
  }
  *(_DWORD *)(*(_DWORD *)a1 - 4) -= 291;
  TWindow::TWindow((TWindow *)a1, (TWindow *)1, a3, a4);
  ++v15;
  *(_DWORD *)(*(_DWORD *)a1 - 4) += 291;
  *(_DWORD *)(a1 + 8) = &off_44D16C;
  **(_DWORD **)a1 = &off_44D1FC;
  **(_DWORD **)(a1 + 4) = &off_44D208;
  *(_DWORD *)(a1 + 134) = 0;
  *(_DWORD *)(a1 + 138) = 0;
  sub_435C88((_DWORD *)(a1 + 142), 128);
  sub_41F302((_DWORD *)(a1 + 182), 0);
  v15 += 19;
  *(_DWORD *)(a1 + 264) = 0;
  *(_DWORD *)(a1 + 268) = 0;
  *(_DWORD *)(a1 + 272) = 0;
  *(_DWORD *)(a1 + 276) = 0;
  *(_DWORD *)(a1 + 280) = 0;
  *(_DWORD *)(a1 + 284) = 0;
  *(_DWORD *)(a1 + 288) = 0;
  *(_DWORD *)(a1 + 292) = 0;
  *(_DWORD *)(a1 + 380) = 0;
  *(_DWORD *)(a1 + 385) = off_43B500;
  v4 = (void *)operator new[](4u);
  *(_DWORD *)(a1 + 389) = _vector_new_ldtc_(v4, 4u, 1u, 1u, sub_4358A4, 0, 0);
  *(_DWORD *)(a1 + 393) = 1;
  ++v15;
  *(_DWORD *)(a1 + 385) = off_44D134;
  v15 += 2;
  *(_DWORD *)(a1 + 385) = off_44D150;
  *(_DWORD *)(a1 + 397) = 0;
  *(_DWORD *)(a1 + 401) = 5;
  v15 += 7;
  *(_DWORD *)(a1 + 405) = 2;
  v15 += 18;
  *(_DWORD *)(a1 + 409) = &off_4449CC;
  v15 += 8;
  *(_DWORD *)(a1 + 413) = 0;
  *(_DWORD *)(a1 + 417) = 0;
  ++v15;
  *(_BYTE *)(a1 + 421) = 0;
  *(_BYTE *)(a1 + 422) = 0;
  *(_BYTE *)(a1 + 423) = 0;
  *(_BYTE *)(a1 + 424) = 0;
  *(_DWORD *)(a1 + 92) = TColor::Black;
  *(_DWORD *)(a1 + 24) = 1375731712;
  *(_DWORD *)(a1 + 28) = 0;
  *(_DWORD *)(a1 + 36) = 0;
  *(_DWORD *)(a1 + 32) = 0;
  *(_DWORD *)(a1 + 40) = GetSystemMetrics(TUIMetric::CxScreen);
  *(_DWORD *)(a1 + 44) = GetSystemMetrics(TUIMetric::CyScreen);
  *(_DWORD *)(a1 + 60) = 2;
  *(_DWORD *)(a1 + 158) = 0;
  *(_DWORD *)(a1 + 162) = 0;
  *(_DWORD *)(a1 + 166) = 0;
  *(_DWORD *)(a1 + 170) = 0;
  *(_DWORD *)(a1 + 256) = 0;
  *(_DWORD *)(a1 + 260) = 0;
  *(_DWORD *)(a1 + 376) = 0;
  *(_DWORD *)(a1 + 174) = 0;
  *(_DWORD *)(a1 + 178) = 0;
  *(_DWORD *)(a1 + 248) = 0;
  *(_DWORD *)(a1 + 252) = 0;
  sub_4331CB((_DWORD *)a1);
  if ( !dword_446AA0 )
  {
    v26 = (TBitmap *)operator new(0xDu);
    if ( v26 )
    {
      v14 = 32;
      sub_41D4F4(v26, *(_DWORD *)(dword_44ECF1 + 8), 201, dword_44EC50);
      v14 = 20;
      v5 = v26;
    }
    else
    {
      v5 = 0;
    }
    dword_446AA0 = (int)v5;
  }
  if ( !dword_446AA4 )
  {
    v23 = (_DWORD *)operator new(0x10u);
    if ( v23 )
    {
      v14 = 56;
      v22 = (TBitmap *)operator new(0xDu);
      if ( v22 )
      {
        v14 = 68;
        sub_41D4F4(v22, *(_DWORD *)(dword_44ECF1 + 8), 204, dword_44EC50);
        v14 = 56;
        v6 = v22;
      }
      else
      {
        v6 = 0;
      }
      v21 = (TBitmap *)operator new(0xDu);
      if ( v21 )
      {
        v14 = 80;
        sub_41D4F4(v21, *(_DWORD *)(dword_44ECF1 + 8), 202, dword_44EC50);
        v14 = 56;
        v7 = v21;
      }
      else
      {
        v7 = 0;
      }
      *v23 = &off_4449DC;
      v23[1] = v7;
      v23[2] = v6;
      v23[3] = 3;
      if ( !v23[1] )
      {
        xerror::MakeString((xerror *)v25, aPrecondition_87, aImg_2, aGdiobjecH_1, 0x72u);
        ++v15;
        xmsg::xmsg((xmsg *)v24, (const string *)v25);
        ++v15;
        v14 = 92;
        --v15;
        string::~string((string *)v25);
        v14 = 56;
        v15 += 2;
        v15 += 3;
        _ThrowExceptionLDTC(stru_403B88, v24, 0, sub_403BE0, 1u, 0, 0, 0, v13);
      }
      v14 = 44;
      v8 = (int)v23;
    }
    else
    {
      v8 = 0;
    }
    dword_446AA4 = v8;
  }
  if ( !dword_446AA8 )
  {
    v18 = (_DWORD *)operator new(0x10u);
    if ( v18 )
    {
      v14 = 116;
      v17 = (TBitmap *)operator new(0xDu);
      if ( v17 )
      {
        v14 = 128;
        sub_41D4F4(v17, *(_DWORD *)(dword_44ECF1 + 8), 205, dword_44EC50);
        v14 = 116;
        v9 = v17;
      }
      else
      {
        v9 = 0;
      }
      v16 = (TBitmap *)operator new(0xDu);
      if ( v16 )
      {
        v14 = 140;
        sub_41D4F4(v16, *(_DWORD *)(dword_44ECF1 + 8), 203, dword_44EC50);
        v14 = 116;
        v10 = v16;
      }
      else
      {
        v10 = 0;
      }
      *v18 = &off_4449DC;
      v18[1] = v10;
      v18[2] = v9;
      v18[3] = 3;
      if ( !v18[1] )
      {
        xerror::MakeString((xerror *)v20, aPrecondition_88, aImg_1, aGdiobjecH_2, 0x72u);
        ++v15;
        xmsg::xmsg((xmsg *)v19, (const string *)v20);
        ++v15;
        v14 = 152;
        --v15;
        string::~string((string *)v20);
        v14 = 116;
        v15 += 2;
        v15 += 3;
        _ThrowExceptionLDTC(stru_403B88, v19, 0, sub_403BE0, 1u, 0, 0, 0, v13);
      }
      v14 = 104;
      v11 = (int)v18;
    }
    else
    {
      v11 = 0;
    }
    dword_446AA8 = v11;
  }
  dword_44A9F0 = (TWindow *)a1;
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 439624: using guessed type TWindow *TWindow::TWindow(TWindow *__hidden this, TWindow *, const char *, TModule *);
// 43B500: using guessed type int (__cdecl *off_43B500[2])(int);
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 4449CC: using guessed type int (__cdecl *off_4449CC)(void *, char);
// 4449DC: using guessed type int (__cdecl *off_4449DC)(void *, char);
// 446AA0: using guessed type int dword_446AA0;
// 44D134: using guessed type int (__cdecl *off_44D134[2])(int);
// 44D150: using guessed type int (__cdecl *off_44D150[3])(int);
// 44D16C: using guessed type int (__cdecl *off_44D16C)(TWindow *, int);
// 44D1FC: using guessed type _UNKNOWN *off_44D1FC;
// 44D208: using guessed type int (__cdecl *off_44D208)(int);
// 44ECF1: using guessed type int dword_44ECF1;

//----- (0042DEBC) --------------------------------------------------------
void __cdecl sub_42DEBC(TWindow *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *((_DWORD *)a1 + 2) = &off_44D16C;
    **(_DWORD **)a1 = &off_44D1FC;
    **((_DWORD **)a1 + 1) = &off_44D208;
    dword_44A9F0 = 0;
    (*(void (__cdecl **)(TWindow *, _DWORD))(*((_DWORD *)a1 + 2) + 16))(a1, 0);
    sub_42D3BD((void **)((char *)a1 + 413), 2);
    sub_41E119((char *)a1 + 380, 2);
    sub_41F598((char *)a1 + 182, 2);
    sub_435E38((void **)((char *)a1 + 142), 2);
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 291;
    TWindow::~TWindow(a1);
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 291;
    if ( (a2 & 2) != 0 )
      TStreamableBase::~TStreamableBase((TWindow *)((char *)a1 + 433));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44D16C: using guessed type int (__cdecl *off_44D16C)(TWindow *, int);
// 44D1FC: using guessed type _UNKNOWN *off_44D1FC;
// 44D208: using guessed type int (__cdecl *off_44D208)(int);

//----- (0042DFDB) --------------------------------------------------------
TClientDC *__cdecl sub_42DFDB(TWindow *a1)
{
  int v1; // edx
  int v2; // ecx
  int v3; // edx
  _DWORD *v4; // ecx
  int v5; // eax
  int v6; // eax
  int v7; // eax
  TClientDC *result; // eax
  TClientDC *v9; // edx
  TClientDC *v10; // [esp+38h] [ebp-1Ch]
  _DWORD *v11; // [esp+3Ch] [ebp-18h]
  _BYTE v12[4]; // [esp+40h] [ebp-14h] BYREF
  int v13; // [esp+44h] [ebp-10h]
  _BYTE v14[4]; // [esp+48h] [ebp-Ch] BYREF
  int v15; // [esp+4Ch] [ebp-8h]
  int v16; // [esp+50h] [ebp-4h]

  __InitExceptBlockLDTC();
  TWindow::SetupWindow(a1);
  v16 = operator new(0x23u);
  if ( v16 )
  {
    sub_41B38F(v16, (int)a1);
    v1 = v16;
  }
  else
  {
    v1 = 0;
  }
  *(_DWORD *)((char *)a1 + 158) = v1;
  v15 = operator new(0x1Fu);
  if ( v15 )
  {
    sub_41B7D5(v15, (int)a1);
    v2 = v15;
  }
  else
  {
    v2 = 0;
  }
  *(_DWORD *)((char *)a1 + 162) = v2;
  v13 = operator new(0x1Fu);
  if ( v13 )
  {
    string::string((string *)v14, aCdaudio_0);
    sub_41AD38(v13, (int)a1, (string *)v14);
    *(_DWORD *)v13 = &off_4440C8;
    string::~string((string *)v14);
    *(_DWORD *)v13 = &off_44D0F0;
    v3 = v13;
  }
  else
  {
    v3 = 0;
  }
  *(_DWORD *)((char *)a1 + 166) = v3;
  v11 = (_DWORD *)operator new(0xC5u);
  if ( v11 )
  {
    *(_DWORD *)((char *)v11 + 31) = (char *)v11 + 189;
    *(_DWORD *)((char *)v11 + 35) = (char *)v11 + 193;
    *(_DWORD *)((char *)v11 + 185) = 0;
    *(_DWORD *)((char *)v11 + 189) = &off_444030;
    *(_DWORD *)((char *)v11 + 193) = &off_444020;
    string::string((string *)v12, aAvivideo);
    sub_41BA57(v11, 1, (const char *)a1, (string *)v12);
    string::~string((string *)v12);
    *v11 = &off_44D00C;
    *(_DWORD *)((char *)v11 + 39) = &off_44D050;
    **(_DWORD **)((char *)v11 + 31) = &off_44D0D4;
    **(_DWORD **)((char *)v11 + 35) = &off_44D0E0;
    v4 = v11;
  }
  else
  {
    v4 = 0;
  }
  *(_DWORD *)((char *)a1 + 170) = v4;
  (*(void (__cdecl **)(int))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 170) + 39) + 8))(*(_DWORD *)((char *)a1 + 170) + 31);
  if ( (*(unsigned __int8 (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 158) + 4))(*(_DWORD *)((char *)a1 + 158)) )
    v5 = dword_44EC44 | 1;
  else
    v5 = dword_44EC44 & 0xFFFFFFFE;
  dword_44EC44 = v5;
  if ( (*(unsigned __int8 (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 162) + 4))(*(_DWORD *)((char *)a1 + 162)) )
    v6 = dword_44EC44 | 2;
  else
    v6 = dword_44EC44 & 0xFFFFFFFD;
  dword_44EC44 = v6;
  if ( (*(unsigned __int8 (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 170) + 4))(*(_DWORD *)((char *)a1 + 170)) )
    v7 = dword_44EC44 | 4;
  else
    v7 = dword_44EC44 & 0xFFFFFFFB;
  dword_44EC44 = v7;
  result = (TClientDC *)operator new(0x21u);
  v10 = result;
  if ( result )
  {
    result = TClientDC::TClientDC(result, *((HWND *)a1 + 3));
    v9 = v10;
  }
  else
  {
    v9 = 0;
  }
  *(_DWORD *)((char *)a1 + 134) = v9;
  return result;
}
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 4440C8: using guessed type int (__cdecl *off_4440C8)(std::strstreambuf *, char);
// 44D00C: using guessed type int (__cdecl *off_44D00C)(std::strstreambuf *, int);
// 44D050: using guessed type int (__cdecl *off_44D050)(int);
// 44D0D4: using guessed type _UNKNOWN *off_44D0D4;
// 44D0E0: using guessed type int (__cdecl *off_44D0E0)(int);
// 44D0F0: using guessed type int (__cdecl *off_44D0F0)(std::strstreambuf *, char);
// 44EC44: using guessed type int dword_44EC44;

//----- (0042E2B9) --------------------------------------------------------
void __cdecl sub_42E2B9(int a1, UINT_PTR *a2)
{
  if ( *a2 )
  {
    KillTimer(*(HWND *)(a1 + 12), *a2);
    *a2 = 0;
  }
}

//----- (0042E2E6) --------------------------------------------------------
int __cdecl sub_42E2E6(_DWORD *a1)
{
  void (__cdecl ***v2)(_DWORD, int); // [esp+28h] [ebp-8h]
  void (__cdecl ***v3)(_DWORD, int); // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  sub_42E2B9((int)a1, a1 + 94);
  v3 = (void (__cdecl ***)(_DWORD, int))a1[64];
  if ( v3 )
    (**v3)(v3, 3);
  a1[64] = 0;
  v2 = (void (__cdecl ***)(_DWORD, int))a1[65];
  if ( v2 )
    (**v2)(v2, 3);
  a1[65] = 0;
  return 0;
}

//----- (0042E379) --------------------------------------------------------
int __cdecl sub_42E379(int a1)
{
  int result; // eax

  if ( *(_DWORD *)(a1 + 158) )
    result = (*(int (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 158) + 48))(*(_DWORD *)(a1 + 158));
  if ( *(_DWORD *)(a1 + 162) )
    result = (*(int (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 162) + 48))(*(_DWORD *)(a1 + 162));
  if ( *(_DWORD *)(a1 + 166) )
    result = (*(int (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 166) + 48))(*(_DWORD *)(a1 + 166));
  if ( *(_DWORD *)(a1 + 170) )
    return (*(int (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 170) + 48))(*(_DWORD *)(a1 + 170));
  return result;
}

//----- (0042E3DB) --------------------------------------------------------
int __cdecl sub_42E3DB(_DWORD *a1)
{
  void (__cdecl ***v2)(_DWORD, int); // [esp+28h] [ebp-Ch]
  int v3; // [esp+2Ch] [ebp-8h]
  int v4; // [esp+30h] [ebp-4h]

  __InitExceptBlockLDTC();
  sub_42E379((int)a1);
  sub_433F55((int)a1);
  v4 = *(_DWORD *)((char *)a1 + 174);
  if ( v4 )
    (**(void (__cdecl ***)(int, int))(v4 + 5))(v4, 3);
  *(_DWORD *)((char *)a1 + 174) = 0;
  v3 = *(_DWORD *)((char *)a1 + 178);
  if ( v3 )
    (**(void (__cdecl ***)(int, int))(v3 + 5))(v3, 3);
  *(_DWORD *)((char *)a1 + 178) = 0;
  v2 = (void (__cdecl ***)(_DWORD, int))a1[63];
  if ( v2 )
    (**v2)(v2, 3);
  a1[63] = 0;
  return 0;
}

//----- (0042E49E) --------------------------------------------------------
int __cdecl sub_42E49E(int a1)
{
  int result; // eax
  _DWORD v2[4]; // [esp+4h] [ebp-34h] BYREF
  __int16 v3; // [esp+14h] [ebp-24h]
  int v4; // [esp+20h] [ebp-18h]
  _BYTE v5[4]; // [esp+28h] [ebp-10h] BYREF
  _BYTE v6[4]; // [esp+2Ch] [ebp-Ch] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( !*(_BYTE *)(a1 + 424) )
  {
    *(_BYTE *)(a1 + 424) = 1;
    if ( IsWindow(*(HWND *)(a1 + 12)) )
    {
      sub_42E2E6((_DWORD *)a1);
      sub_42E379(a1);
      if ( !*(_DWORD *)(a1 + 12) )
      {
        xerror::MakeString((xerror *)v8, aPrecondition_89, aGethandle_33, aCBc5IncludeOwl_36, 0x6BEu);
        ++v4;
        xmsg::xmsg((xmsg *)v7, (const string *)v8);
        ++v4;
        v3 = 12;
        --v4;
        string::~string((string *)v8);
        v4 += 2;
        v4 += 3;
        _ThrowExceptionLDTC(stru_403B88, v7, 0, sub_403BE0, 1u, 0, 0, 0, v2);
      }
      if ( !IsIconic(*(HWND *)(a1 + 12)) )
      {
        sub_433107(a1);
        if ( !*(_DWORD *)(a1 + 12) )
        {
          v3 = 24;
          xerror::MakeString((xerror *)v6, aPrecondition_90, aGethandle_34, aCBc5IncludeOwl_37, 0x769u);
          ++v4;
          xmsg::xmsg((xmsg *)v5, (const string *)v6);
          ++v4;
          v3 = 36;
          --v4;
          string::~string((string *)v6);
          v3 = 24;
          v4 += 2;
          v4 += 3;
          _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
        }
        InvalidateRect(*(HWND *)(a1 + 12), 0, 0);
      }
    }
    return TMsgThread::PumpWaitingMessages((TMsgThread *)(*(_DWORD *)(a1 + 104) + 25));
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0042E641) --------------------------------------------------------
HWND __cdecl sub_42E641(TWindow *a1)
{
  HWND result; // eax
  _DWORD v2[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v3; // [esp+14h] [ebp-1Ch]
  int v4; // [esp+20h] [ebp-10h]
  _BYTE v5[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+2Ch] [ebp-4h] BYREF

  result = (HWND)__InitExceptBlockLDTC();
  if ( *((_BYTE *)a1 + 424) )
  {
    *((_BYTE *)a1 + 424) = 0;
    sub_42EC92(a1, 1);
    TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
    if ( !*((_DWORD *)a1 + 3) )
    {
      xerror::MakeString((xerror *)v6, aPrecondition_91, aGethandle_35, aCBc5IncludeOwl_38, 0x56Bu);
      ++v4;
      xmsg::xmsg((xmsg *)v5, (const string *)v6);
      ++v4;
      v3 = 12;
      --v4;
      string::~string((string *)v6);
      v4 += 2;
      v4 += 3;
      _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
    }
    return SetFocus(*((HWND *)a1 + 3));
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0042E717) --------------------------------------------------------
void __cdecl sub_42E717(TWindow *a1)
{
  TWindow::CleanupWindow(a1);
  (*(void (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 132))(a1);
  sub_429865((int)a1);
}

//----- (0042E73A) --------------------------------------------------------
BOOL __cdecl sub_42E73A(TWindow *a1, int a2)
{
  BOOL result; // eax
  int *v3; // eax
  int v4; // ebx
  _DWORD v5[4]; // [esp+4h] [ebp-4Ch] BYREF
  __int16 v6; // [esp+14h] [ebp-3Ch]
  int v7; // [esp+20h] [ebp-30h]
  _BYTE v8[4]; // [esp+28h] [ebp-28h] BYREF
  _BYTE v9[4]; // [esp+2Ch] [ebp-24h] BYREF
  void (__cdecl ***v10)(_DWORD, int); // [esp+30h] [ebp-20h]
  void (__cdecl ***v11)(_DWORD, int); // [esp+34h] [ebp-1Ch]
  void (__cdecl ***v12)(_DWORD, int); // [esp+38h] [ebp-18h]
  void (__cdecl ***v13)(_DWORD, int); // [esp+3Ch] [ebp-14h]
  int v14; // [esp+40h] [ebp-10h]
  void (__cdecl ***v15)(_DWORD, int); // [esp+44h] [ebp-Ch]
  void (__cdecl ***v16)(_DWORD, int); // [esp+48h] [ebp-8h]
  int v17; // [esp+4Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  TWindow::Destroy(a1, a2);
  sub_41ACA9();
  if ( *((_DWORD *)a1 + 62) )
  {
    DestroyCursor(*((HCURSOR *)a1 + 62));
    *((_DWORD *)a1 + 62) = 0;
  }
  v17 = *(_DWORD *)((char *)a1 + 134);
  if ( v17 )
  {
    v6 = 20;
    (**(void (__cdecl ***)(int, int))(v17 + 5))(v17, 3);
    v6 = 8;
  }
  *(_DWORD *)((char *)a1 + 134) = 0;
  v16 = (void (__cdecl ***)(_DWORD, int))dword_446AA4;
  if ( dword_446AA4 )
  {
    v6 = 44;
    (**v16)(v16, 3);
    v6 = 32;
  }
  dword_446AA4 = 0;
  v15 = (void (__cdecl ***)(_DWORD, int))dword_446AA8;
  if ( dword_446AA8 )
  {
    v6 = 68;
    (**v15)(v15, 3);
    v6 = 56;
  }
  dword_446AA8 = 0;
  v14 = dword_446AA0;
  if ( dword_446AA0 )
  {
    v6 = 92;
    (**(void (__cdecl ***)(int, int))(v14 + 5))(v14, 3);
    v6 = 80;
  }
  dword_446AA0 = 0;
  v13 = *(void (__cdecl ****)(_DWORD, int))((char *)a1 + 158);
  if ( v13 )
  {
    v6 = 116;
    (**v13)(v13, 3);
    v6 = 104;
  }
  *(_DWORD *)((char *)a1 + 158) = 0;
  v12 = *(void (__cdecl ****)(_DWORD, int))((char *)a1 + 162);
  if ( v12 )
  {
    v6 = 140;
    (**v12)(v12, 3);
    v6 = 128;
  }
  *(_DWORD *)((char *)a1 + 162) = 0;
  v11 = *(void (__cdecl ****)(_DWORD, int))((char *)a1 + 166);
  if ( v11 )
  {
    v6 = 164;
    (**v11)(v11, 3);
    v6 = 152;
  }
  *(_DWORD *)((char *)a1 + 166) = 0;
  v10 = *(void (__cdecl ****)(_DWORD, int))((char *)a1 + 170);
  if ( v10 )
  {
    v6 = 188;
    (**v10)(v10, 3);
    v6 = 176;
  }
  result = 0;
  *(_DWORD *)((char *)a1 + 170) = 0;
  if ( *((_DWORD *)a1 + 26) && *(_DWORD *)(*((_DWORD *)a1 + 26) + 102) )
  {
    v3 = *(int **)(*((_DWORD *)a1 + 26) + 102);
    v4 = *v3;
    if ( !*(_DWORD *)(*v3 + 12) )
    {
      v6 = 200;
      xerror::MakeString((xerror *)v9, aPrecondition_92, aGethandle_36, aCBc5IncludeOwl_39, 0x53Cu);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 212;
      --v7;
      string::~string((string *)v9);
      v6 = 200;
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    return PostMessageA(*(HWND *)(v4 + 12), 0x12u, 0, 0);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 446AA0: using guessed type int dword_446AA0;

//----- (0042E9CE) --------------------------------------------------------
int sub_42E9CE()
{
  return dword_44EC6C;
}
// 44EC6C: using guessed type int dword_44EC6C;

//----- (0042E9D8) --------------------------------------------------------
int __cdecl sub_42E9D8(int a1, int a2)
{
  int result; // eax

  result = dword_44EC6C;
  dword_44EC6C = a2;
  return result;
}
// 44EC6C: using guessed type int dword_44EC6C;

//----- (0042E9EB) --------------------------------------------------------
TWindow *__stdcall sub_42E9EB(TWindow *a1, int a2, int a3, int a4, int a5)
{
  TWindow *result; // eax
  int v6; // eax
  TWindow *v7; // eax
  int v8; // eax
  LPARAM v10; // esi
  UINT v11; // edi
  int v12; // eax
  LPARAM v14; // ebx
  UINT v15; // esi
  _DWORD v16[4]; // [esp+Ch] [ebp-34h] BYREF
  __int16 v17; // [esp+1Ch] [ebp-24h]
  int v18; // [esp+28h] [ebp-18h]
  char v19[4]; // [esp+30h] [ebp-10h] BYREF
  char v20[4]; // [esp+34h] [ebp-Ch] BYREF
  char v21[4]; // [esp+38h] [ebp-8h] BYREF
  char v22[4]; // [esp+3Ch] [ebp-4h] BYREF

  result = (TWindow *)__InitExceptBlockLDTC();
  if ( dword_44A9F0 )
  {
    result = (TWindow *)(*(int (__cdecl **)(TWindow *))(*((_DWORD *)dword_44A9F0 + 2) + 124))(dword_44A9F0);
    if ( result )
    {
      if ( a1 )
      {
        if ( *((_DWORD *)dword_44A9F0 + 64) )
        {
          v6 = *((_DWORD *)dword_44A9F0 + 64);
          v7 = *(_DWORD *)(v6 + 4) ? *(TWindow **)(*(_DWORD *)(v6 + 4) + 24) : 0;
          if ( a1 == v7 )
          {
            ++*(_DWORD *)(*((_DWORD *)dword_44A9F0 + 64) + 24);
            v8 = *((_DWORD *)dword_44A9F0 + 64);
            if ( !*(_DWORD *)(v8 + 4) || !*(_BYTE *)(*(_DWORD *)(v8 + 4) + 28) )
            {
              v10 = *(_DWORD *)(*((_DWORD *)dword_44A9F0 + 64) + 24);
              v11 = Msg;
              if ( !*((_DWORD *)dword_44A9F0 + 3) )
              {
                xerror::MakeString((xerror *)v22, aPrecondition_93, aGethandle_37, aCBc5IncludeOwl_40, 0x53Cu);
                ++v18;
                xmsg::xmsg((xmsg *)v21, (const string *)v22);
                ++v18;
                v17 = 12;
                --v18;
                string::~string((string *)v22);
                v18 += 2;
                v18 += 3;
                _ThrowExceptionLDTC(stru_403B88, v21, 0, sub_403BE0, 1u, 0, 0, 0, v16);
              }
              PostMessageA(*((HWND *)dword_44A9F0 + 3), v11, 0, v10);
            }
          }
        }
        result = dword_44A9F0;
        if ( *((_DWORD *)dword_44A9F0 + 65) )
        {
          v12 = *((_DWORD *)dword_44A9F0 + 65);
          result = *(_DWORD *)(v12 + 4) ? *(TWindow **)(*(_DWORD *)(v12 + 4) + 24) : 0;
          if ( a1 == result )
          {
            ++*(_DWORD *)(*((_DWORD *)dword_44A9F0 + 65) + 24);
            result = (TWindow *)*((_DWORD *)dword_44A9F0 + 65);
            if ( !*((_DWORD *)result + 1) || !*(_BYTE *)(*((_DWORD *)result + 1) + 28) )
            {
              v14 = *(_DWORD *)(*((_DWORD *)dword_44A9F0 + 65) + 24);
              v15 = dword_446A98;
              if ( !*((_DWORD *)dword_44A9F0 + 3) )
              {
                v17 = 24;
                xerror::MakeString((xerror *)v20, aPrecondition_94, aGethandle_38, aCBc5IncludeOwl_41, 0x53Cu);
                ++v18;
                xmsg::xmsg((xmsg *)v19, (const string *)v20);
                ++v18;
                v17 = 36;
                --v18;
                string::~string((string *)v20);
                v17 = 24;
                v18 += 2;
                v18 += 3;
                _ThrowExceptionLDTC(stru_403B88, v19, 0, sub_403BE0, 1u, 0, 0, 0, v16);
              }
              return (TWindow *)PostMessageA(*((HWND *)dword_44A9F0 + 3), v15, 0, v14);
            }
          }
        }
      }
    }
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0042EC92) --------------------------------------------------------
int __cdecl sub_42EC92(TWindow *a1, char a2)
{
  int v2; // eax

  sub_433F55((int)a1);
  v2 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  return sub_434070(a1, v2, a2);
}

//----- (0042ECB9) --------------------------------------------------------
HWND __cdecl sub_42ECB9(TWindow *a1, char a2)
{
  _BOOL1 v2; // bl
  _BOOL1 v4; // al
  TWindow *v5; // esi
  HWND v6; // edx
  int v7; // eax
  int v8; // eax
  HWND result; // eax
  _BOOL1 v10; // [esp+1Bh] [ebp-79h]
  unsigned int v11; // [esp+1Ch] [ebp-78h]
  int v12; // [esp+20h] [ebp-74h]
  int SystemMetrics; // [esp+24h] [ebp-70h]
  int v14; // [esp+28h] [ebp-6Ch]
  int v15; // [esp+2Ch] [ebp-68h]
  _DWORD v16[4]; // [esp+30h] [ebp-64h] BYREF
  __int16 v17; // [esp+40h] [ebp-54h]
  int v18; // [esp+4Ch] [ebp-48h]
  _BYTE v19[4]; // [esp+54h] [ebp-40h] BYREF
  _BYTE v20[4]; // [esp+58h] [ebp-3Ch] BYREF
  _BYTE v21[4]; // [esp+5Ch] [ebp-38h] BYREF
  _BYTE v22[4]; // [esp+60h] [ebp-34h] BYREF
  _DWORD v23[5]; // [esp+64h] [ebp-30h] BYREF
  char v24; // [esp+78h] [ebp-1Ch]
  int v25[2]; // [esp+7Ch] [ebp-18h] BYREF
  int v26; // [esp+84h] [ebp-10h]
  int v27; // [esp+88h] [ebp-Ch]
  int v28; // [esp+8Ch] [ebp-8h]
  char v29; // [esp+90h] [ebp-4h]

  __InitExceptBlockLDTC();
  v25[0] = (int)&off_4479F0;
  v25[1] = (int)off_447A04;
  sub_4056BB((int)v25, (int)&dword_44ECB9);
  v18 += 5;
  v17 = 8;
  if ( a2 )
  {
    if ( !(*(unsigned __int8 (__cdecl **)(int *))(dword_44ECB9 + 4))(&dword_44ECB9) )
    {
      v17 = 32;
      v23[0] = &off_4479F0;
      v23[1] = off_447A04;
      v23[2] = 640;
      v23[3] = 480;
      v23[4] = 16;
      v24 = 1;
      sub_4056BB((int)v25, (int)v23);
      v18 += 3;
    }
    v29 = 1;
    v2 = !dword_4437A0 || *((_DWORD *)a1 + 10) != v26 || *((_DWORD *)a1 + 11) != v27;
  }
  else
  {
    v29 = 0;
    v2 = dword_4437A0 != 0;
  }
  if ( v2 )
  {
    (*(void (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 132))(a1);
    if ( !*((_DWORD *)a1 + 3) )
    {
      v17 = 44;
      xerror::MakeString((xerror *)v22, aPrecondition_95, aGethandle_39, aCBc5IncludeOwl_42, 0x769u);
      ++v18;
      xmsg::xmsg((xmsg *)v21, (const string *)v22);
      ++v18;
      v17 = 56;
      --v18;
      string::~string((string *)v22);
      v17 = 44;
      v18 += 2;
      v18 += 3;
      _ThrowExceptionLDTC(stru_403B88, v21, 0, sub_403BE0, 1u, 0, 0, 0, v16);
    }
    InvalidateRect(*((HWND *)a1 + 3), 0, 1);
    if ( !*((_DWORD *)a1 + 3) )
    {
      v17 = 68;
      xerror::MakeString((xerror *)v20, aPrecondition_96, aGethandle_40, aCBc5IncludeOwl_43, 0x7A5u);
      ++v18;
      xmsg::xmsg((xmsg *)v19, (const string *)v20);
      ++v18;
      v17 = 80;
      --v18;
      string::~string((string *)v20);
      v17 = 68;
      v18 += 2;
      v18 += 3;
      _ThrowExceptionLDTC(stru_403B88, v19, 0, sub_403BE0, 1u, 0, 0, 0, v16);
    }
    UpdateWindow(*((HWND *)a1 + 3));
    TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
    sub_42E49E((int)a1);
    TWindow::SetCursor(a1, 0, 32512);
    sub_425227((int)byte_44EC10, 0);
    sub_41ACA9();
    TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
  }
  if ( a2 )
  {
    v14 = 0;
    v15 = 0;
    SystemMetrics = v26;
    v12 = v27;
    v11 = *((_DWORD *)a1 + 7) | 8;
  }
  else
  {
    if ( v26 && v27 && v28 )
    {
      SystemMetrics = v26;
      v12 = v27;
      v15 = (GetSystemMetrics(TUIMetric::CxScreen) - SystemMetrics) / 2;
      v14 = (GetSystemMetrics(TUIMetric::CyScreen) - v12) / 2;
    }
    else
    {
      v14 = 0;
      v15 = 0;
      SystemMetrics = GetSystemMetrics(TUIMetric::CxScreen);
      v12 = GetSystemMetrics(TUIMetric::CyScreen);
    }
    v11 = *((_DWORD *)a1 + 7) & 0xFFFFFFF7;
  }
  v4 = *((_DWORD *)a1 + 7) != v11
    || *((_DWORD *)a1 + 8) != v15
    || *((_DWORD *)a1 + 9) != v14
    || *((_DWORD *)a1 + 10) != SystemMetrics
    || *((_DWORD *)a1 + 11) != v12;
  v10 = v4;
  v17 = 8;
  if ( (*((_BYTE *)a1 + 27) & 0x40) != 0 && *((_DWORD *)a1 + 5) )
    v5 = (TWindow *)*((_DWORD *)a1 + 5);
  else
    v5 = 0;
  if ( v2 && a2 )
  {
    if ( v5 )
      v6 = (HWND)*((_DWORD *)v5 + 3);
    else
      v6 = (HWND)*((_DWORD *)a1 + 3);
    sub_41AADC(v6, (int)v25);
  }
  if ( v5 && (v10 || v2) )
  {
    sub_42E49E((int)a1);
    if ( a2 )
    {
      *((_DWORD *)v5 + 8) = v15;
      *((_DWORD *)v5 + 9) = v14;
      *((_DWORD *)v5 + 10) = SystemMetrics;
      *((_DWORD *)v5 + 11) = v12;
    }
    else
    {
      *((_DWORD *)v5 + 9) = 0;
      *((_DWORD *)v5 + 8) = 0;
      *((_DWORD *)v5 + 10) = GetSystemMetrics(TUIMetric::CxScreen);
      *((_DWORD *)v5 + 11) = GetSystemMetrics(TUIMetric::CyScreen);
    }
    *((_DWORD *)v5 + 7) = v11;
    v7 = -1;
    if ( (*((_BYTE *)v5 + 28) & 8) == 0 )
      v7 = -2;
    TWindow::SetWindowPos(
      v5,
      (HWND)v7,
      *((_DWORD *)v5 + 8),
      *((_DWORD *)v5 + 9),
      *((_DWORD *)v5 + 10),
      *((_DWORD *)v5 + 11),
      0);
  }
  if ( v10 )
  {
    sub_42E49E((int)a1);
    *((_DWORD *)a1 + 8) = v15;
    *((_DWORD *)a1 + 9) = v14;
    *((_DWORD *)a1 + 10) = SystemMetrics;
    *((_DWORD *)a1 + 11) = v12;
    if ( v5 )
    {
      *((_DWORD *)a1 + 7) &= ~8u;
      TWindow::SetWindowPos(
        a1,
        0,
        *((_DWORD *)a1 + 8),
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 10),
        *((_DWORD *)a1 + 11),
        4u);
    }
    else
    {
      *((_DWORD *)a1 + 7) = v11;
      v8 = -1;
      if ( (*((_BYTE *)a1 + 28) & 8) == 0 )
        v8 = -2;
      TWindow::SetWindowPos(
        a1,
        (HWND)v8,
        *((_DWORD *)a1 + 8),
        *((_DWORD *)a1 + 9),
        *((_DWORD *)a1 + 10),
        *((_DWORD *)a1 + 11),
        0);
    }
  }
  result = (HWND)TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
  if ( v2 )
  {
    sub_4252BA((int)byte_44EC10, (int)&unk_44ECA9);
    TWindow::SetCursor(a1, dword_44ECF1, 99);
  }
  else if ( !v10 )
  {
    return result;
  }
  sub_424EE4((int)byte_44EC10);
  return sub_42E641(a1);
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 4437A0: using guessed type int dword_4437A0;
// 4479F0: using guessed type int (__cdecl *off_4479F0)(void *, char);
// 447A04: using guessed type int (__cdecl *off_447A04[2])(int);
// 44ECB9: using guessed type int dword_44ECB9;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (0042F21C) --------------------------------------------------------
void __cdecl sub_42F21C(TWindow *a1, TDC *a2, char a3, TRect *a4)
{
  _BOOL1 v4; // al
  int v5; // eax
  _BOOL1 v6; // dl
  bool v7; // edx
  _BOOL1 v8; // al
  _BOOL1 v9; // cl
  char v10; // cl
  bool v12; // edx
  const TBitmap *v13; // eax
  HDC v14; // eax
  HDC v15; // eax
  HDC v16; // eax
  HDC v17; // eax
  char v18; // dl
  HDC v19; // eax
  HDC v20; // eax
  char v21; // cl
  _BOOL1 v22; // cl
  int j; // edi
  int *v24; // edx
  int *v25; // edx
  _BOOL1 v27; // al
  char v28; // al
  int Value; // eax
  int v30; // eax
  const TBrush *v31; // eax
  _BOOL1 v32; // al
  _BOOL1 v33; // dl
  int v34; // edx
  int v35; // edx
  int v36; // edx
  int v37; // edx
  int v38; // edi
  _BOOL1 v39; // al
  int v40; // edi
  HDC v41; // eax
  HDC v42; // eax
  TBrush *v43; // eax
  int v44; // edi
  char v45; // al
  int v46; // eax
  int v47; // eax
  TFont *v48; // eax
  size_t v49; // eax
  bool v50; // edx
  int v51; // [esp+4h] [ebp-304h]
  int v52; // [esp+8h] [ebp-300h]
  int v53; // [esp+Ch] [ebp-2FCh]
  int v54; // [esp+Ch] [ebp-2FCh]
  _DWORD v55[4]; // [esp+20h] [ebp-2E8h] BYREF
  char buffer[256]; // [esp+30h] [ebp-2D8h] BYREF
  char *v57; // [esp+130h] [ebp-1D8h]
  unsigned int v58; // [esp+134h] [ebp-1D4h]
  int v59; // [esp+138h] [ebp-1D0h]
  unsigned int v60; // [esp+13Ch] [ebp-1CCh]
  int v61[4]; // [esp+140h] [ebp-1C8h] BYREF
  _DWORD v62[4]; // [esp+150h] [ebp-1B8h] BYREF
  int v63[4]; // [esp+160h] [ebp-1A8h] BYREF
  int v64; // [esp+170h] [ebp-198h]
  int v65; // [esp+174h] [ebp-194h]
  int v66; // [esp+178h] [ebp-190h]
  int v67; // [esp+17Ch] [ebp-18Ch]
  int v68[5]; // [esp+180h] [ebp-188h] BYREF
  int v69; // [esp+194h] [ebp-174h]
  int v70; // [esp+198h] [ebp-170h]
  int v71; // [esp+19Ch] [ebp-16Ch]
  int v72; // [esp+1A0h] [ebp-168h]
  char v73[4]; // [esp+1A4h] [ebp-164h] BYREF
  TFont *v74; // [esp+1A8h] [ebp-160h]
  char *v75; // [esp+1ACh] [ebp-15Ch]
  TBrush *v76; // [esp+1B0h] [ebp-158h]
  _BOOL1 v77; // [esp+1B7h] [ebp-151h]
  _DWORD *v78; // [esp+1B8h] [ebp-150h]
  unsigned int v79; // [esp+1BCh] [ebp-14Ch]
  int v80; // [esp+1C0h] [ebp-148h]
  int v81; // [esp+1C4h] [ebp-144h]
  char *v82; // [esp+1C8h] [ebp-140h]
  char *v83; // [esp+1CCh] [ebp-13Ch]
  char v84[4]; // [esp+1D0h] [ebp-138h] BYREF
  TFont *v85; // [esp+1D4h] [ebp-134h]
  int *v86; // [esp+1D8h] [ebp-130h]
  int v87; // [esp+1DCh] [ebp-12Ch]
  int v88; // [esp+1E0h] [ebp-128h]
  int *v89; // [esp+1E4h] [ebp-124h]
  int v90; // [esp+1E8h] [ebp-120h]
  int *v91; // [esp+1ECh] [ebp-11Ch]
  int v92; // [esp+1F0h] [ebp-118h]
  int *v93; // [esp+1F4h] [ebp-114h]
  _BOOL1 v94; // [esp+1FAh] [ebp-10Eh]
  _BOOL1 v95; // [esp+1FBh] [ebp-10Dh]
  double v96; // [esp+1FCh] [ebp-10Ch]
  int v97[2]; // [esp+204h] [ebp-104h] BYREF
  _DWORD v98[5]; // [esp+20Ch] [ebp-FCh] BYREF
  int v99; // [esp+220h] [ebp-E8h]
  int v100; // [esp+224h] [ebp-E4h]
  int v101; // [esp+228h] [ebp-E0h]
  int v102; // [esp+22Ch] [ebp-DCh] BYREF
  int v103; // [esp+230h] [ebp-D8h] BYREF
  int v104; // [esp+234h] [ebp-D4h]
  int v105; // [esp+238h] [ebp-D0h]
  int v106; // [esp+23Ch] [ebp-CCh]
  int v107; // [esp+240h] [ebp-C8h]
  int i; // [esp+244h] [ebp-C4h]
  _BOOL1 v109; // [esp+24Bh] [ebp-BDh]
  TPalette *v110; // [esp+24Ch] [ebp-BCh]
  TPalette *v111; // [esp+250h] [ebp-B8h]
  TPalette *v112; // [esp+254h] [ebp-B4h]
  TPalette *v113; // [esp+258h] [ebp-B0h]
  _DWORD *v114; // [esp+25Ch] [ebp-ACh]
  _BOOL1 v115; // [esp+262h] [ebp-A6h]
  _BOOL1 v116; // [esp+263h] [ebp-A5h]
  TRect *v117; // [esp+264h] [ebp-A4h]
  _BOOL1 v118; // [esp+26Ah] [ebp-9Eh]
  _BOOL1 v119; // [esp+26Bh] [ebp-9Dh]
  int v120[4]; // [esp+26Ch] [ebp-9Ch] BYREF
  __int16 v121; // [esp+27Ch] [ebp-8Ch]
  int v122; // [esp+288h] [ebp-80h]
  _BYTE v123[8]; // [esp+290h] [ebp-78h] BYREF
  _BYTE v124[8]; // [esp+298h] [ebp-70h] BYREF
  char v125[4]; // [esp+2A0h] [ebp-68h] BYREF
  char v126[4]; // [esp+2A4h] [ebp-64h] BYREF
  _BYTE v127[8]; // [esp+2B0h] [ebp-58h] BYREF
  _BYTE v128[8]; // [esp+2B8h] [ebp-50h] BYREF
  HDC v129; // [esp+2C0h] [ebp-48h] BYREF
  int v130; // [esp+2C5h] [ebp-43h]
  HDC v131; // [esp+2E4h] [ebp-24h] BYREF
  int v132; // [esp+2E9h] [ebp-1Fh]

  __InitExceptBlockLDTC();
  if ( !*((_BYTE *)a1 + 421) && !*((_BYTE *)a1 + 422) )
  {
    v4 = *((_DWORD *)a1 + 66) >= *((_DWORD *)a1 + 68) || *((_DWORD *)a1 + 67) >= *((_DWORD *)a1 + 69);
    v119 = v4;
    if ( v4 )
      sub_4334A6(a1);
    v5 = TRect::operator&=(a4, (char *)a1 + 264);
    v6 = 1;
    if ( *(_DWORD *)a4 < *((_DWORD *)a4 + 2) )
    {
      v5 = *((_DWORD *)a4 + 1);
      if ( v5 < *((_DWORD *)a4 + 3) )
        v6 = 0;
    }
    v118 = v6;
    if ( v6 )
    {
      LOBYTE(v5) = a3;
      TWindow::Paint(a1, a2, v5, a4);
    }
    else if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
    {
      *((_BYTE *)a1 + 422) = 1;
      v8 = *((_DWORD *)a1 + 70) >= *((_DWORD *)a1 + 72) || *((_DWORD *)a1 + 71) >= *((_DWORD *)a1 + 73);
      v116 = v8;
      if ( !v8 )
      {
        v9 = *((_DWORD *)a1 + 70) >= *(_DWORD *)a4
          && *((_DWORD *)a1 + 72) <= *((_DWORD *)a4 + 2)
          && *((_DWORD *)a1 + 71) >= *((_DWORD *)a4 + 1)
          && *((_DWORD *)a1 + 73) <= *((_DWORD *)a4 + 3);
        v115 = v9;
        if ( v9 )
        {
          v114 = (_DWORD *)((char *)a1 + 280);
          *((_DWORD *)a1 + 70) = 0;
          v114[1] = 0;
          v114[2] = 0;
          v114[3] = 0;
        }
      }
      if ( dword_44EC50 )
        v10 = *((_BYTE *)dword_44EC50 + 5);
      else
        v10 = 0;
      if ( v10 )
      {
        if ( (*(unsigned __int8 (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 170) + 12))(*(_DWORD *)((char *)a1 + 170)) )
        {
          sub_41BEC9(*(_DWORD *)((char *)a1 + 170), 1);
        }
        else
        {
          if ( dword_44EC54 )
            TDC::SelectObject(a2, dword_44EC54, 0);
          else
            TDC::SelectObject(a2, dword_44EC50, 0);
          RealizePalette(*(HDC *)a2);
        }
      }
      if ( *((_DWORD *)a1 + 64) && *(_DWORD *)(*((_DWORD *)a1 + 64) + 77) )
      {
        sub_419750(*((_DWORD **)a1 + 64), a2, (int *)a4);
        *((_BYTE *)a1 + 422) = 0;
        LOBYTE(v12) = a3;
        TWindow::Paint(a1, a2, v12, a4);
      }
      else
      {
        memset(v68, 0, 16);
        if ( *(_DWORD *)((char *)a1 + 178) )
          qmemcpy(v68, (const void *)(*(_DWORD *)((char *)a1 + 178) + 13), 0x10u);
        v121 = 8;
        TMemoryDC::TMemoryDC((TMemoryDC *)&v131, a2);
        v122 += 3;
        v121 = 32;
        v13 = TBitmap::TBitmap((TBitmap *)v128, a2, *((_DWORD *)a1 + 68), *((_DWORD *)a1 + 69), 0);
        v122 += 2;
        TMemoryDC::SelectObject((TMemoryDC *)&v131, v13);
        v122 -= 2;
        TBitmap::~TBitmap((TBitmap *)v128);
        v14 = (HDC)(*(int (__cdecl **)(HDC *))(v132 + 88))(&v131);
        if ( v14 != v131 )
          SetBkMode(v131, 1);
        v15 = (HDC)(*(int (__cdecl **)(HDC *))(v132 + 88))(&v131);
        SetBkMode(v15, 1);
        v16 = (HDC)(*(int (__cdecl **)(HDC *))(v132 + 88))(&v131);
        if ( v16 != v131 )
          SetStretchBltMode(v131, 3);
        v17 = (HDC)(*(int (__cdecl **)(HDC *))(v132 + 88))(&v131);
        SetStretchBltMode(v17, 3);
        if ( dword_44EC50 )
          v18 = *((_BYTE *)dword_44EC50 + 5);
        else
          v18 = 0;
        if ( v18 )
        {
          if ( dword_44EC54 )
          {
            v113 = dword_44EC54;
            TDC::SelectObject((TDC *)&v131, dword_44EC54, 0);
          }
          else
          {
            v112 = dword_44EC50;
            TDC::SelectObject((TDC *)&v131, dword_44EC50, 0);
          }
          RealizePalette(v131);
        }
        v121 = 44;
        TMemoryDC::TMemoryDC((TMemoryDC *)&v129, a2);
        v122 += 3;
        v121 = 20;
        v19 = (HDC)(*(int (__cdecl **)(HDC *))(v130 + 88))(&v129);
        if ( v19 != v129 )
          SetStretchBltMode(v129, 3);
        v20 = (HDC)(*(int (__cdecl **)(HDC *))(v130 + 88))(&v129);
        SetStretchBltMode(v20, 3);
        if ( dword_44EC50 )
          v21 = *((_BYTE *)dword_44EC50 + 5);
        else
          v21 = 0;
        if ( v21 )
        {
          if ( dword_44EC54 )
          {
            v111 = dword_44EC54;
            TDC::SelectObject((TDC *)&v129, dword_44EC54, 0);
          }
          else
          {
            v110 = dword_44EC50;
            TDC::SelectObject((TDC *)&v129, dword_44EC50, 0);
          }
          RealizePalette(v129);
        }
        v22 = !v68[0] && !v68[2] && !v68[1] && !v68[3];
        v109 = v22;
        if ( !v22 )
          ExcludeClipRect(v131, v68[0], v68[1], v68[2], v68[3]);
        if ( *(_DWORD *)((char *)a1 + 174) )
        {
          v105 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 174) + 5) + 8))(*(_DWORD *)((char *)a1 + 174));
          v104 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)((char *)a1 + 174) + 5) + 4))(*(_DWORD *)((char *)a1 + 174));
          v106 = v104;
          v107 = v105;
          TMemoryDC::SelectObject((TMemoryDC *)&v129, *(const TBitmap **)((char *)a1 + 174));
          for ( i = 0; i <= *((_DWORD *)a4 + 2); i += v106 )
          {
            for ( j = 0; j <= *((_DWORD *)a4 + 3); j += v107 )
            {
              v64 = i;
              v65 = j;
              v103 = v106 + i;
              if ( *((_DWORD *)a4 + 2) <= v106 + i )
                v24 = (int *)((char *)a4 + 8);
              else
                v24 = &v103;
              v66 = *v24;
              v102 = v107 + v65;
              if ( *((_DWORD *)a4 + 3) <= v107 + v65 )
                v25 = (int *)((char *)a4 + 12);
              else
                v25 = &v102;
              v67 = *v25;
              if ( *((_DWORD *)a4 + 2) > v64
                && *(_DWORD *)a4 < v66
                && *((_DWORD *)a4 + 3) > v65
                && *((_DWORD *)a4 + 1) < v67 )
              {
                v27 = !v68[0] && !v68[2] && !v68[1] && !v68[3];
                if ( v27
                  || (v64 >= v68[0] && v66 <= v68[2] && v65 >= v68[1] && v67 <= v68[3] ? (v28 = 1) : (v28 = 0), !v28) )
                {
                  v100 = 0;
                  v101 = 0;
                  BitBlt(v131, v64, v65, v66 - v64, v67 - v65, v129, 0, 0, 0xCC0020u);
                }
              }
            }
          }
        }
        else
        {
          v99 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 16);
          Value = TColor::GetValue(TColor::White);
          if ( Value == v99 )
          {
            v98[4] = a4;
            PatBlt(
              v131,
              *(_DWORD *)a4,
              *((_DWORD *)a4 + 1),
              *((_DWORD *)a4 + 2) - *(_DWORD *)a4,
              *((_DWORD *)a4 + 3) - *((_DWORD *)a4 + 1),
              0xFF0062u);
          }
          else
          {
            v30 = TColor::GetValue(TColor::Black);
            if ( v30 == v99 )
            {
              v98[3] = a4;
              PatBlt(
                v131,
                *(_DWORD *)a4,
                *((_DWORD *)a4 + 1),
                *((_DWORD *)a4 + 2) - *(_DWORD *)a4,
                *((_DWORD *)a4 + 3) - *((_DWORD *)a4 + 1),
                0x42u);
            }
            else
            {
              v121 = 56;
              v98[1] = v99;
              v98[0] = v99;
              v31 = TBrush::TBrush((TBrush *)v127, (const TColor *)v98);
              v122 += 2;
              v98[2] = v31;
              TDC::SelectObject((TDC *)&v131, v31);
              v122 -= 2;
              TBrush::~TBrush((TBrush *)v127);
              PatBlt(
                v131,
                *(_DWORD *)a4,
                *((_DWORD *)a4 + 1),
                *((_DWORD *)a4 + 2) - *(_DWORD *)a4,
                *((_DWORD *)a4 + 3) - *((_DWORD *)a4 + 1),
                0xF00021u);
              TDC::RestoreBrush((TDC *)&v131);
            }
          }
        }
        SelectClipRgn(v131, 0);
        sub_433569(v97, (int)a1);
        v121 = 20;
        v96 = sub_43353D((int)a1);
        if ( *(_DWORD *)((char *)a1 + 178) )
        {
          v32 = *((_DWORD *)a4 + 2) > v68[0]
             && *(_DWORD *)a4 < v68[2]
             && *((_DWORD *)a4 + 3) > v68[1]
             && *((_DWORD *)a4 + 1) < v68[3];
          v95 = v32;
          if ( v32 )
          {
            v33 = *((_DWORD *)a4 + 2) > v68[0]
               && *(_DWORD *)a4 < v68[2]
               && *((_DWORD *)a4 + 3) > v68[1]
               && *((_DWORD *)a4 + 1) < v68[3];
            v94 = v33;
            if ( v33 )
            {
              v93 = (int *)((char *)a4 + 12);
              if ( *((_DWORD *)a4 + 3) <= v68[3] )
                v34 = *v93;
              else
                v34 = v68[3];
              v92 = v34;
              v91 = (int *)((char *)a4 + 8);
              if ( *((_DWORD *)a4 + 2) <= v68[2] )
                v35 = *v91;
              else
                v35 = v68[2];
              v90 = v35;
              v89 = (int *)((char *)a4 + 4);
              if ( *((_DWORD *)a4 + 1) >= v68[1] )
                v36 = *v89;
              else
                v36 = v68[1];
              v88 = v36;
              if ( *(_DWORD *)a4 >= v68[0] )
                v37 = *(_DWORD *)a4;
              else
                v37 = v68[0];
              v87 = v37;
              v62[0] = v37;
              v62[1] = v88;
              v62[2] = v90;
              v62[3] = v92;
            }
            else
            {
              memset(v62, 0, sizeof(v62));
            }
            qmemcpy(v63, v62, sizeof(v63));
            qmemcpy(v61, v63, sizeof(v61));
            sub_405065((TRect *)v61, v96, v97);
            TMemoryDC::SelectObject((TMemoryDC *)&v129, *(const TBitmap **)((char *)a1 + 178));
            if ( *(double *)(*(_DWORD *)((char *)a1 + 178) + 29) == 1.0 )
            {
              v86 = v61;
              BitBlt(v131, v63[0], v63[1], v63[2] - v63[0], v63[3] - v63[1], v129, v61[0], v61[1], 0xCC0020u);
            }
            else if ( !StretchBlt(
                         v131,
                         v63[0],
                         v63[1],
                         v63[2] - v63[0],
                         v63[3] - v63[1],
                         v129,
                         v61[0],
                         v61[1],
                         v61[2] - v61[0],
                         v61[3] - v61[1],
                         0xCC0020u) )
            {
              sub_404ED9(0x6Bu);
            }
          }
        }
        if ( dword_44EC64 )
        {
          v85 = (TFont *)dword_44EC64;
          TDC::SelectObject((TDC *)&v131, (const TFont *)dword_44EC64);
        }
        (*(void (__cdecl **)(char *, HDC *, int *))(v132 + 36))(v84, &v131, &dword_44EC68);
        v83 = (char *)a1 + 380;
        v82 = (char *)a1 + 384;
        v57 = (char *)a1 + 384;
        v81 = (**(int (__cdecl ***)(char *))((char *)a1 + 385))((char *)a1 + 384);
        v59 = 0;
        v58 = 0;
        v60 = v81;
        while ( v58 < v60 )
        {
          v79 = v58;
          if ( !*(_DWORD *)(v57 + 9) || !*(_DWORD *)(v57 + 5) || *(_DWORD *)(v57 + 9) <= v79 )
          {
            xerror::MakeString((xerror *)v126, aPrecondition_98, aLim0Data0Index_21, aCBc5IncludeCla_34, 0x33Au);
            ++v122;
            xmsg::xmsg((xmsg *)v125, (const string *)v126);
            ++v122;
            v121 = 92;
            --v122;
            string::~string((string *)v126);
            v121 = 68;
            v122 += 2;
            v122 += 3;
            _ThrowExceptionLDTC(stru_403B88, v125, 0, sub_403BE0, 1u, 0, 0, 0, v120);
          }
          v80 = *(_DWORD *)(4 * v79 + *(_DWORD *)(v57 + 5));
          ++v58;
          v38 = v80;
          v121 = 20;
          (*(void (__cdecl **)(int, int, int, _DWORD, _DWORD))(*(_DWORD *)v80 + 16))(
            v80,
            v97[0],
            v97[1],
            LODWORD(v96),
            HIDWORD(v96));
          (*(void (__cdecl **)(int, HDC *))(*(_DWORD *)v38 + 12))(v38, &v131);
        }
        if ( dword_44EC64 )
          (*(void (__cdecl **)(HDC *))(v132 + 28))(&v131);
        if ( (**(unsigned __int8 (__cdecl ***)(char *))((char *)a1 + 182))((char *)a1 + 182) )
        {
          v78 = (_DWORD *)((char *)a1 + 296);
          v39 = *((_DWORD *)a4 + 2) > *((_DWORD *)a1 + 74)
             && *(_DWORD *)a4 < v78[2]
             && *((_DWORD *)a4 + 3) > v78[1]
             && *((_DWORD *)a4 + 1) < v78[3];
          v77 = v39;
          if ( v39 )
          {
            if ( (*(_BYTE *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 100) & 4) != 0 )
            {
              if ( (byte_44EC4C & 0x20) != 0
                && *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20)
                || (v40 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 16),
                    v40 != TColor::GetValue(TColor::White)) )
              {
                v41 = (HDC)(*(int (__cdecl **)(HDC *))(v132 + 88))(&v131);
                if ( v41 != v131 )
                  SetROP2(v131, 15);
                v42 = (HDC)(*(int (__cdecl **)(HDC *))(v132 + 88))(&v131);
                SetROP2(v42, 15);
                v121 = 104;
                v43 = TBrush::TBrush((TBrush *)v124, (const TBitmap *)dword_446AA0);
                v122 += 2;
                v76 = v43;
                TDC::SelectObject((TDC *)&v131, v43);
                v122 -= 2;
                TBrush::~TBrush((TBrush *)v124);
                (*(void (__cdecl **)(HDC *, int))(v132 + 24))(&v131, 8);
                v75 = (char *)a1 + 296;
                Rectangle(v131, *((_DWORD *)a1 + 74), *((_DWORD *)a1 + 75), *((_DWORD *)a1 + 76), *((_DWORD *)a1 + 77));
                TDC::RestoreBrush((TDC *)&v131);
              }
            }
            v45 = 1;
            if ( (byte_44EC4C & 0x20) == 0
              || !*(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20) )
            {
              v44 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 16);
              if ( v44 == TColor::GetValue(TColor::White) )
                v45 = 0;
            }
            sub_4200CF((int)a1 + 182, (int)&v131, (_DWORD *)a1 + 78, v45);
            if ( *((_DWORD *)a1 + 61) )
            {
              v53 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA4 + 4) + 5) + 8))(*(_DWORD *)(dword_446AA4 + 4));
              v46 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA4 + 4) + 5) + 4))(*(_DWORD *)(dword_446AA4 + 4));
              sub_41DB36(dword_446AA4, (TDC *)&v131, *((_DWORD *)a1 + 78), *((_DWORD *)a1 + 81), v46, v53);
            }
            if ( (unsigned int)((*(int (__cdecl **)(char *))(*(_DWORD *)((char *)a1 + 191) + 4))((char *)a1 + 190) - 1) > *((_DWORD *)a1 + 61) )
            {
              v54 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5) + 8))(*(_DWORD *)(dword_446AA8 + 4));
              v52 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5) + 4))(*(_DWORD *)(dword_446AA8 + 4));
              v51 = *((_DWORD *)a1 + 81);
              v47 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5) + 4))(*(_DWORD *)(dword_446AA8 + 4));
              sub_41DB36(dword_446AA8, (TDC *)&v131, *((_DWORD *)a1 + 80) - v47, v51, v52, v54);
            }
            if ( (unsigned int)(*(int (__cdecl **)(char *))(*(_DWORD *)((char *)a1 + 191) + 4))((char *)a1 + 190) > 1 )
            {
              sprintf(buffer, "Page %u", *((_DWORD *)a1 + 61) + 1);
              v121 = 116;
              v48 = TFont::TFont((TFont *)v123, aArial, -12, 0, 0, 0, 700, 0, 0, 0, 0, 1u, 0, 0, 0);
              v122 += 2;
              v74 = v48;
              TDC::SelectObject((TDC *)&v131, v48);
              v122 -= 2;
              v122 += 2;
              --v122;
              TGdiObject::~TGdiObject((TGdiObject *)v123);
              (*(void (__cdecl **)(char *, HDC *, TColor *))(v132 + 36))(v73, &v131, TColor::Black);
              v72 = (__int64)((long double)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5)
                                                                      + 8))(*(_DWORD *)(dword_446AA8 + 4))
                            * 1.33
                            + (long double)*((int *)a1 + 81));
              v71 = *((_DWORD *)a1 + 80);
              v70 = *((_DWORD *)a1 + 81);
              v69 = *((_DWORD *)a1 + 78);
              v55[0] = v69;
              v55[1] = v70;
              v55[2] = v71;
              v55[3] = v72;
              v49 = strlen(buffer);
              (*(void (__cdecl **)(HDC *, char *, size_t, _DWORD *))(v132 + 80))(&v131, buffer, v49, v55);
              (*(void (__cdecl **)(HDC *))(v132 + 28))(&v131);
            }
          }
        }
        v68[4] = (int)a4;
        BitBlt(
          *(HDC *)a2,
          *(_DWORD *)a4,
          *((_DWORD *)a4 + 1),
          *((_DWORD *)a4 + 2) - *(_DWORD *)a4,
          *((_DWORD *)a4 + 3) - *((_DWORD *)a4 + 1),
          v131,
          *(_DWORD *)a4,
          *((_DWORD *)a4 + 1),
          0xCC0020u);
        TMemoryDC::RestoreBitmap((TMemoryDC *)&v131);
        LOBYTE(v50) = a3;
        TWindow::Paint(a1, a2, v50, a4);
        *((_BYTE *)a1 + 422) = 0;
        v122 -= 3;
        TMemoryDC::~TMemoryDC((TMemoryDC *)&v129);
        v122 -= 3;
        TMemoryDC::~TMemoryDC((TMemoryDC *)&v131);
      }
    }
    else
    {
      v117 = a4;
      PatBlt(
        *(HDC *)a2,
        *(_DWORD *)a4,
        *((_DWORD *)a4 + 1),
        *((_DWORD *)a4 + 2) - *(_DWORD *)a4,
        *((_DWORD *)a4 + 3) - *((_DWORD *)a4 + 1),
        0x42u);
      LOBYTE(v7) = a3;
      TWindow::Paint(a1, a2, v7, a4);
    }
  }
}
// 42F349: variable 'v7' is possibly undefined
// 42F4C6: variable 'v12' is possibly undefined
// 430509: variable 'v50' is possibly undefined
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4390B4: using guessed type int __cdecl TRect::operator&=(_DWORD, _DWORD);
// 43963C: using guessed type TBrush *TBrush::TBrush(TBrush *__hidden this, const TBitmap *);
// 446AA0: using guessed type int dword_446AA0;
// 44EC4C: using guessed type char byte_44EC4C;
// 44EC64: using guessed type int dword_44EC64;
// 44EC68: using guessed type int dword_44EC68;

//----- (0043055C) --------------------------------------------------------
int __cdecl sub_43055C(TWindow *a1, int a2)
{
  int v3; // esi
  char v4; // cl
  _BYTE *v5; // esi
  int v6; // eax
  double v7; // [esp-Ch] [ebp-5Ch]
  _DWORD v8[2]; // [esp+Ch] [ebp-44h] BYREF
  double v9; // [esp+14h] [ebp-3Ch]
  struct tagPOINT Point; // [esp+1Ch] [ebp-34h] BYREF
  _DWORD v11[4]; // [esp+24h] [ebp-2Ch] BYREF
  __int16 v12; // [esp+34h] [ebp-1Ch]
  int v13; // [esp+40h] [ebp-10h]
  _BYTE v14[4]; // [esp+48h] [ebp-8h] BYREF
  _BYTE v15[4]; // [esp+4Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !(*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1)
    || *((_BYTE *)a1 + 421)
    || *((_BYTE *)a1 + 423)
    || *((_BYTE *)a1 + 424) )
  {
    return TWindow::IdleAction(a1, a2);
  }
  *((_BYTE *)a1 + 423) = 1;
  if ( !a2 )
  {
    if ( !*((_DWORD *)a1 + 65)
      || ((v3 = *((_DWORD *)a1 + 65), *(_DWORD *)(v3 + 4))
       && (*(unsigned __int8 (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(v3 + 4) + 20) + 4))(*(_DWORD *)(v3 + 4))
        ? (v4 = 1)
        : (v4 = 0),
          !v4) )
    {
      GetCursorPos(&Point);
      if ( WindowFromPoint(Point) == *((HWND *)a1 + 3) )
      {
        if ( !*((_DWORD *)a1 + 3) )
        {
          xerror::MakeString((xerror *)v15, aPrecondition_99, aGethandle_41, aCBc5IncludeOwl_44, 0x593u);
          ++v13;
          xmsg::xmsg((xmsg *)v14, (const string *)v15);
          ++v13;
          v12 = 12;
          --v13;
          string::~string((string *)v15);
          v13 += 2;
          v13 += 3;
          _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v11);
        }
        ScreenToClient(*((HWND *)a1 + 3), &Point);
        v9 = sub_43353D((int)a1);
        sub_433569(v8, (int)a1);
        v5 = 0;
        if ( *((_DWORD *)a1 + 63) && *(_DWORD *)(*((_DWORD *)a1 + 63) + 8) )
          v5 = (_BYTE *)sub_413B20(
                          (int *)(*(_DWORD *)(*((_DWORD *)a1 + 63) + 8) + 104),
                          (int)&Point,
                          v8,
                          SLODWORD(v9),
                          SHIDWORD(v9),
                          0);
        if ( !v5 )
        {
          v7 = v9;
          v6 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
          v5 = (_BYTE *)sub_413B20((int *)(v6 + 104), (int)&Point, v8, SLODWORD(v7), SHIDWORD(v7), 0);
        }
        if ( v5 != *(_BYTE **)((char *)a1 + 138) )
        {
          *(_DWORD *)((char *)a1 + 138) = v5;
          sub_433314((int)a1, 0);
          if ( v5 )
          {
            if ( (v5[49] & 4) == 0 )
              (*(void (__cdecl **)(_BYTE *, TWindow *, _DWORD))(*(_DWORD *)v5 + 8))(v5, a1, 0);
          }
        }
      }
      else if ( *(_DWORD *)((char *)a1 + 138) )
      {
        *(_DWORD *)((char *)a1 + 138) = 0;
        sub_433314((int)a1, 0);
      }
    }
  }
  *((_BYTE *)a1 + 423) = 0;
  return TWindow::IdleAction(a1, a2);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00430797) --------------------------------------------------------
int __cdecl sub_430797(int a1, int a2, int a3)
{
  _BYTE *v4; // edi

  if ( !(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) || !a3 || *(_BYTE *)(a1 + 424) )
    return 1;
  v4 = 0;
  if ( *(_DWORD *)(a1 + 158) && *(_DWORD *)(*(_DWORD *)(a1 + 158) + 18) == a3 )
  {
    v4 = *(_BYTE **)(a1 + 158);
  }
  else if ( *(_DWORD *)(a1 + 162) && *(_DWORD *)(*(_DWORD *)(a1 + 162) + 18) == a3 )
  {
    v4 = *(_BYTE **)(a1 + 162);
  }
  else if ( *(_DWORD *)(a1 + 166) && *(_DWORD *)(*(_DWORD *)(a1 + 166) + 18) == a3 )
  {
    v4 = *(_BYTE **)(a1 + 166);
  }
  else if ( *(_DWORD *)(a1 + 170) && *(_DWORD *)(*(_DWORD *)(a1 + 170) + 18) == a3 )
  {
    v4 = *(_BYTE **)(a1 + 170);
  }
  if ( v4 )
  {
    if ( a2 == 1 )
    {
      if ( (v4[26] & 2) != 0 )
      {
        if ( (*(unsigned __int8 (__cdecl **)(_BYTE *))(*(_DWORD *)v4 + 8))(v4) )
        {
          (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)v4 + 44))(v4);
          (*(void (__cdecl **)(_BYTE *, int, _DWORD, _DWORD))(*(_DWORD *)v4 + 32))(v4, 1, 0, 0);
        }
        return 1;
      }
      goto LABEL_24;
    }
    if ( a2 == 8 )
LABEL_24:
      (*(void (__cdecl **)(_BYTE *))(*(_DWORD *)v4 + 48))(v4);
  }
  return 1;
}

//----- (0043089A) --------------------------------------------------------
void __cdecl sub_43089A(int a1, int a2, int *a3)
{
  int v3; // esi
  char v4; // cl
  char v6; // dl
  char v7; // dl
  int v8; // eax
  int v9; // esi
  int v10; // edi
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  char v17; // dl
  double v18; // [esp-8h] [ebp-34h]
  int v19; // [esp+14h] [ebp-18h] BYREF
  double v20; // [esp+18h] [ebp-14h]
  _DWORD v21[2]; // [esp+20h] [ebp-Ch] BYREF
  char v22; // [esp+2Ah] [ebp-2h]
  char v23; // [esp+2Bh] [ebp-1h]

  if ( !*(_BYTE *)(a1 + 424) && !*(_BYTE *)(a1 + 421) && !*(_BYTE *)(a1 + 423) )
  {
    if ( !*(_DWORD *)(a1 + 256)
      || ((v3 = *(_DWORD *)(a1 + 256), *(_DWORD *)(v3 + 4))
       && (*(unsigned __int8 (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(v3 + 4) + 20) + 4))(*(_DWORD *)(v3 + 4))
        ? (v4 = 1)
        : (v4 = 0),
          !v4) )
    {
      if ( (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
      {
        *(_BYTE *)(a1 + 423) = 1;
        if ( *(_DWORD *)(a1 + 252) && (byte_44EC4D & 1) == 0 )
          sub_42D858(*(_DWORD *)(a1 + 252), 0);
        if ( (**(unsigned __int8 (__cdecl ***)(int))(a1 + 182))(a1 + 182)
          && (sub_421B26(a1 + 182, a3)
           || (unsigned int)(*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 191) + 4))(a1 + 190) > 1
           && (*(_DWORD *)(a1 + 244)
            && (*a3 >= *(_DWORD *)(a1 + 344)
             && *a3 < *(_DWORD *)(a1 + 352)
             && a3[1] >= *(_DWORD *)(a1 + 348)
             && a3[1] < *(_DWORD *)(a1 + 356)
              ? (v6 = 1)
              : (v6 = 0),
                (v23 = v6) != 0)
            || (unsigned int)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 191) + 4))(a1 + 190) - 1) > *(_DWORD *)(a1 + 244)
            && (*a3 >= *(_DWORD *)(a1 + 360)
             && *a3 < *(_DWORD *)(a1 + 368)
             && a3[1] >= *(_DWORD *)(a1 + 364)
             && a3[1] < *(_DWORD *)(a1 + 372)
              ? (v7 = 1)
              : (v7 = 0),
                (v22 = v7) != 0))) )
        {
          TWindow::SetCursor(a1, dword_44ECF1, 105);
          *(_BYTE *)(a1 + 423) = 0;
        }
        else if ( *(_DWORD *)(a1 + 260)
               && *(_DWORD *)(a1 + 178)
               && (v8 = sub_41A221(*(_DWORD **)(a1 + 260), a3), (v9 = v8) != 0) )
        {
          if ( (v8 & 4) != 0 )
            TWindow::SetCursor(a1, dword_44ECF1, 1);
          if ( (v9 & 1) != 0 )
            TWindow::SetCursor(a1, dword_44ECF1, 3);
          if ( (v9 & 8) != 0 )
            TWindow::SetCursor(a1, dword_44ECF1, 2);
          if ( (v9 & 2) != 0 )
            TWindow::SetCursor(a1, dword_44ECF1, 4);
          if ( *(_DWORD *)(*(_DWORD *)(a1 + 260) + 4) )
          {
            v10 = *(_DWORD *)(a1 + 260);
            if ( !*(_DWORD *)(v10 + 4)
              || !(*(unsigned __int8 (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(v10 + 4) + 20) + 4))(*(_DWORD *)(v10 + 4)) )
            {
              (*(void (__cdecl **)(_DWORD, _DWORD, int))(**(_DWORD **)(a1 + 260) + 24))(*(_DWORD *)(a1 + 260), 0, v9);
            }
          }
          *(_BYTE *)(a1 + 423) = 0;
        }
        else
        {
          sub_433569(v21, a1);
          v20 = sub_43353D(a1);
          if ( *(_DWORD *)(a1 + 252)
            && *(_DWORD *)(*(_DWORD *)(a1 + 252) + 8)
            && (v12 = sub_413B20(
                        (int *)(*(_DWORD *)(*(_DWORD *)(a1 + 252) + 8) + 104),
                        (int)a3,
                        v21,
                        SLODWORD(v20),
                        SHIDWORD(v20),
                        0)) != 0 )
          {
            if ( (*(_BYTE *)(v12 + 49) & 4) == 0 && *(_DWORD *)(v12 + 45) == 100 && *(_DWORD *)(a1 + 248) )
            {
              SetCursor(*(HCURSOR *)(a1 + 248));
            }
            else
            {
              if ( (*(_BYTE *)(v12 + 49) & 4) != 0 || *(_DWORD *)(v12 + 45) == 100 )
                v13 = *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 12);
              else
                v13 = *(_DWORD *)(v12 + 45);
              if ( v13 )
                TWindow::SetCursor(a1, dword_44ECF1, v13);
              else
                TWindow::SetCursor(a1, dword_44ECF1, 99);
            }
            *(_BYTE *)(a1 + 423) = 0;
          }
          else
          {
            v18 = v20;
            v14 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
            v15 = sub_413B20((int *)(v14 + 104), (int)a3, v21, SLODWORD(v18), SHIDWORD(v18), &v19);
            if ( v15 )
            {
              if ( (*(_BYTE *)(v15 + 49) & 4) == 0 && *(_DWORD *)(v15 + 45) == 100 && *(_DWORD *)(a1 + 248) )
              {
                SetCursor(*(HCURSOR *)(a1 + 248));
              }
              else
              {
                if ( (*(_BYTE *)(v15 + 49) & 4) != 0 || *(_DWORD *)(v15 + 45) == 100 )
                  v16 = *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 12);
                else
                  v16 = *(_DWORD *)(v15 + 45);
                if ( v16 )
                  TWindow::SetCursor(a1, dword_44ECF1, v16);
                else
                  TWindow::SetCursor(a1, dword_44ECF1, 99);
              }
              *(_BYTE *)(a1 + 423) = 0;
            }
            else if ( *(_DWORD *)(a1 + 256)
                   && *(_DWORD *)(a1 + 178)
                   && (*a3 >= *(_DWORD *)(*(_DWORD *)(a1 + 178) + 13)
                    && *a3 < *(_DWORD *)(*(_DWORD *)(a1 + 178) + 21)
                    && a3[1] >= *(_DWORD *)(*(_DWORD *)(a1 + 178) + 17)
                    && a3[1] < *(_DWORD *)(*(_DWORD *)(a1 + 178) + 25)
                     ? (v17 = 1)
                     : (v17 = 0),
                       v17) )
            {
              TWindow::SetCursor(a1, dword_44ECF1, 106);
              *(_BYTE *)(a1 + 423) = 0;
            }
            else
            {
              if ( *(_DWORD *)(a1 + 248) )
                SetCursor(*(HCURSOR *)(a1 + 248));
              else
                TWindow::SetCursor(a1, dword_44ECF1, 99);
              *(_BYTE *)(a1 + 423) = 0;
            }
          }
        }
      }
      else
      {
        TWindow::SetCursor(a1, dword_44ECF1, 99);
      }
    }
  }
}
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 44EC4D: using guessed type char byte_44EC4D;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00430DB0) --------------------------------------------------------
void __cdecl sub_430DB0(TWindow *a1, int a2, int *a3)
{
  int v3; // eax
  int v4; // edi
  int v5; // eax
  _BOOL1 v6; // dl
  _BOOL1 v7; // dl
  _BYTE *v8; // eax
  int v9; // eax
  _BYTE *v10; // eax
  char v11; // dl
  double v12; // [esp-Ch] [ebp-78h]
  RECT Rect; // [esp+Ch] [ebp-60h] BYREF
  char v14; // [esp+1Fh] [ebp-4Dh]
  int v15; // [esp+20h] [ebp-4Ch] BYREF
  double v16; // [esp+24h] [ebp-48h]
  _DWORD v17[2]; // [esp+2Ch] [ebp-40h] BYREF
  _BOOL1 v18; // [esp+35h] [ebp-37h]
  _BOOL1 v19; // [esp+36h] [ebp-36h]
  char v20; // [esp+37h] [ebp-35h]
  _DWORD v21[4]; // [esp+38h] [ebp-34h] BYREF
  __int16 v22; // [esp+48h] [ebp-24h]
  int v23; // [esp+54h] [ebp-18h]
  _BYTE v24[4]; // [esp+5Ch] [ebp-10h] BYREF
  _BYTE v25[4]; // [esp+60h] [ebp-Ch] BYREF
  _BYTE v26[4]; // [esp+64h] [ebp-8h] BYREF
  _BYTE v27[4]; // [esp+68h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !*((_BYTE *)a1 + 424)
    && !*((_BYTE *)a1 + 421)
    && !*((_BYTE *)a1 + 423)
    && (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
  {
    *((_BYTE *)a1 + 423) = 1;
    *((_BYTE *)a1 + 423) = 1;
    if ( !(**(unsigned __int8 (__cdecl ***)(char *))((char *)a1 + 182))((char *)a1 + 182) )
      goto LABEL_31;
    v3 = sub_421E48((int)a1 + 182, a3);
    v4 = v3;
    if ( v3 > 0 )
    {
      v5 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      sub_4268F8(a1, *(_DWORD *)(v5 + 80) + v4, 0, 0);
      *((_BYTE *)a1 + 423) = 0;
      return;
    }
    if ( v3 )
    {
LABEL_31:
      if ( !(**(unsigned __int8 (__cdecl ***)(char *))((char *)a1 + 182))((char *)a1 + 182)
        || (unsigned int)(*(int (__cdecl **)(char *))(*(_DWORD *)((char *)a1 + 191) + 4))((char *)a1 + 190) <= 1 )
      {
        goto LABEL_37;
      }
      v20 = 0;
      if ( *((_DWORD *)a1 + 61) )
      {
        v6 = *a3 >= *((_DWORD *)a1 + 86)
          && *a3 < *((_DWORD *)a1 + 88)
          && a3[1] >= *((_DWORD *)a1 + 87)
          && a3[1] < *((_DWORD *)a1 + 89);
        v19 = v6;
        if ( v6 )
        {
          --*((_DWORD *)a1 + 61);
          qmemcpy(&Rect, (char *)a1 + 312, sizeof(Rect));
          Rect.bottom += *((_DWORD *)a1 + 89) - *((_DWORD *)a1 + 87);
          v20 = 1;
        }
      }
      if ( (unsigned int)((*(int (__cdecl **)(char *))(*(_DWORD *)((char *)a1 + 191) + 4))((char *)a1 + 190) - 1) > *((_DWORD *)a1 + 61) )
      {
        v7 = *a3 >= *((_DWORD *)a1 + 90)
          && *a3 < *((_DWORD *)a1 + 92)
          && a3[1] >= *((_DWORD *)a1 + 91)
          && a3[1] < *((_DWORD *)a1 + 93);
        v18 = v7;
        if ( v7 )
        {
          ++*((_DWORD *)a1 + 61);
          qmemcpy(&Rect, (char *)a1 + 312, sizeof(Rect));
          Rect.bottom += *((_DWORD *)a1 + 93) - *((_DWORD *)a1 + 91);
          v20 = 1;
        }
      }
      if ( v20 )
      {
        if ( !*((_DWORD *)a1 + 3) )
        {
          xerror::MakeString((xerror *)v27, aPrecondition_100, aGethandle_42, aCBc5IncludeOwl_45, 0x773u);
          ++v23;
          xmsg::xmsg((xmsg *)v26, (const string *)v27);
          ++v23;
          v22 = 12;
          --v23;
          string::~string((string *)v27);
          v23 += 2;
          v23 += 3;
          _ThrowExceptionLDTC(stru_403B88, v26, 0, sub_403BE0, 1u, 0, 0, 0, v21);
        }
        InvalidateRect(*((HWND *)a1 + 3), &Rect, 0);
        if ( !*((_DWORD *)a1 + 3) )
        {
          v22 = 24;
          xerror::MakeString((xerror *)v25, aPrecondition_101, aGethandle_43, aCBc5IncludeOwl_46, 0x7A5u);
          ++v23;
          xmsg::xmsg((xmsg *)v24, (const string *)v25);
          ++v23;
          v22 = 36;
          --v23;
          string::~string((string *)v25);
          v22 = 24;
          v23 += 2;
          v23 += 3;
          _ThrowExceptionLDTC(stru_403B88, v24, 0, sub_403BE0, 1u, 0, 0, 0, v21);
        }
        UpdateWindow(*((HWND *)a1 + 3));
        sub_4330F1((int)a1, a3);
        *((_BYTE *)a1 + 423) = 0;
      }
      else
      {
LABEL_37:
        sub_433569(v17, (int)a1);
        v16 = sub_43353D((int)a1);
        if ( *((_DWORD *)a1 + 63)
          && *(_DWORD *)(*((_DWORD *)a1 + 63) + 8)
          && (v8 = (_BYTE *)sub_413B20(
                              (int *)(*(_DWORD *)(*((_DWORD *)a1 + 63) + 8) + 104),
                              (int)a3,
                              v17,
                              SLODWORD(v16),
                              SHIDWORD(v16),
                              0)) != 0 )
        {
          if ( (v8[49] & 4) == 0 )
            (*(void (__cdecl **)(_BYTE *, TWindow *, int))(*(_DWORD *)v8 + 8))(v8, a1, 1);
          *((_BYTE *)a1 + 423) = 0;
        }
        else
        {
          v12 = v16;
          v9 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
          v10 = (_BYTE *)sub_413B20((int *)(v9 + 104), (int)a3, v17, SLODWORD(v12), SHIDWORD(v12), &v15);
          if ( v10 )
          {
            if ( (v10[49] & 4) == 0 )
              (*(void (__cdecl **)(_BYTE *, TWindow *, int))(*(_DWORD *)v10 + 8))(v10, a1, 1);
            *((_BYTE *)a1 + 423) = 0;
          }
          else if ( *((_DWORD *)a1 + 65)
                 && !*(_DWORD *)(*((_DWORD *)a1 + 65) + 4)
                 && (*(unsigned __int8 (__cdecl **)(_DWORD, int *, _DWORD))(**((_DWORD **)a1 + 65) + 24))(
                      *((_DWORD *)a1 + 65),
                      a3,
                      0) )
          {
            sub_4330F1((int)a1, a3);
            *((_BYTE *)a1 + 423) = 0;
          }
          else if ( *((_DWORD *)a1 + 64)
                 && (*a3 >= *(_DWORD *)(*(_DWORD *)((char *)a1 + 178) + 13)
                  && *a3 < *(_DWORD *)(*(_DWORD *)((char *)a1 + 178) + 21)
                  && a3[1] >= *(_DWORD *)(*(_DWORD *)((char *)a1 + 178) + 17)
                  && a3[1] < *(_DWORD *)(*(_DWORD *)((char *)a1 + 178) + 25)
                   ? (v11 = 1)
                   : (v11 = 0),
                     (v14 = v11) != 0) )
          {
            if ( *((_DWORD *)a1 + 63) && *(_DWORD *)(*((_DWORD *)a1 + 64) + 4) )
              sub_42D858(*((_DWORD *)a1 + 63), 0);
            sub_419E29(*((_BYTE **)a1 + 64), (int)a3);
            qmemcpy((char *)a1 + 328, (char *)a1 + 264, 0x10u);
            *((_BYTE *)a1 + 423) = 0;
          }
          else
          {
            *((_BYTE *)a1 + 423) = 0;
          }
        }
      }
    }
    else
    {
      sub_432DAA(a1);
      *((_BYTE *)a1 + 423) = 0;
    }
  }
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004312CB) --------------------------------------------------------
_BYTE *__cdecl sub_4312CB(_BYTE *a1)
{
  _BYTE *result; // eax

  result = a1;
  if ( !a1[421] && !a1[423] && !a1[424] )
  {
    a1[423] = 1;
    a1[423] = 0;
  }
  return result;
}

//----- (004312FC) --------------------------------------------------------
void __cdecl sub_4312FC(int a1, int a2, int *a3)
{
  if ( !*(_BYTE *)(a1 + 421) && !*(_BYTE *)(a1 + 423) && !*(_BYTE *)(a1 + 424) )
  {
    *(_BYTE *)(a1 + 423) = 1;
    if ( *(_DWORD *)(a1 + 256) && *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77) )
    {
      (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 256) + 16))(*(_DWORD *)(a1 + 256));
      if ( *(_DWORD *)(a1 + 252) )
        sub_42D858(*(_DWORD *)(a1 + 252), 1);
      sub_4330F1(a1, a3);
    }
    *(_BYTE *)(a1 + 423) = 0;
  }
}

//----- (0043138B) --------------------------------------------------------
void __cdecl sub_43138B(int a1, int a2, int a3)
{
  if ( !*(_BYTE *)(a1 + 421)
    && !*(_BYTE *)(a1 + 423)
    && !*(_BYTE *)(a1 + 424)
    && (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) )
  {
    *(_BYTE *)(a1 + 423) = 1;
    if ( *(_DWORD *)(a1 + 256) && *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77) )
    {
      if ( *(_DWORD *)(a1 + 252) )
        sub_42D858(*(_DWORD *)(a1 + 252), 0);
      sub_419E43(*(_BYTE **)(a1 + 256), a3);
      *(_BYTE *)(a1 + 423) = 0;
    }
    else
    {
      if ( *(_DWORD *)(a1 + 252) )
        sub_42D858(*(_DWORD *)(a1 + 252), 1);
      *(_BYTE *)(a1 + 423) = 0;
    }
  }
}

//----- (00431451) --------------------------------------------------------
void __cdecl sub_431451(int a1, int a2, int *a3)
{
  if ( !*(_BYTE *)(a1 + 421) && !*(_BYTE *)(a1 + 423) && !*(_BYTE *)(a1 + 424) )
  {
    *(_BYTE *)(a1 + 423) = 1;
    if ( *(_DWORD *)(a1 + 256) && *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77) )
    {
      (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 256) + 16))(*(_DWORD *)(a1 + 256));
      if ( *(_DWORD *)(a1 + 252) )
        sub_42D858(*(_DWORD *)(a1 + 252), 1);
      sub_4330F1(a1, a3);
    }
    *(_BYTE *)(a1 + 423) = 0;
  }
}

//----- (004314E0) --------------------------------------------------------
int __cdecl sub_4314E0(TWindow *a1, int a2)
{
  int result; // eax

  result = TWindow::DefaultProcessing(a1);
  *((_BYTE *)a1 + 423) = 1;
  if ( a2 == 27 )
    result = sub_432FD3((int)a1);
  *((_BYTE *)a1 + 423) = 0;
  return result;
}

//----- (0043150C) --------------------------------------------------------
_BOOL1 __cdecl sub_43150C(HCURSOR *a1, HCURSOR a2, int a3)
{
  if ( a2 != a1[3] || a3 != 1 )
    return TWindow::DefaultProcessing((TWindow *)a1) != 0;
  if ( a1[62] )
  {
    SetCursor(a1[62]);
    return 1;
  }
  if ( !a1[22] )
    return TWindow::DefaultProcessing((TWindow *)a1) != 0;
  SetCursor(a1[22]);
  return 1;
}

//----- (0043155F) --------------------------------------------------------
char __cdecl sub_43155F(TWindow *a1, int a2, int a3)
{
  char result; // al
  int v4; // eax

  TWindow::EvSize(a1, a2, a3);
  result = sub_4334A6(a1);
  if ( result )
  {
    if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
    {
      v4 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      *(_DWORD *)(v4 + 56) = 0;
      *(_DWORD *)(v4 + 60) = 0;
    }
    return sub_42EC92(a1, 1);
  }
  return result;
}
// 43955E: using guessed type int __cdecl TWindow::EvSize(_DWORD, _DWORD, _DWORD);

//----- (004315BD) --------------------------------------------------------
char __cdecl sub_4315BD(int a1, char a2)
{
  char v2; // cl
  _BOOL1 v3; // al
  _DWORD v5[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v6; // [esp+14h] [ebp-1Ch]
  int v7; // [esp+20h] [ebp-10h]
  _BYTE v8[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( dword_44EC50 )
    v2 = *((_BYTE *)dword_44EC50 + 5);
  else
    v2 = 0;
  if ( !v2 )
    return 0;
  if ( dword_44EC54 )
    TDC::SelectObject(*(TDC **)(a1 + 134), dword_44EC54, 1);
  else
    TDC::SelectObject(*(TDC **)(a1 + 134), dword_44EC50, 1);
  v3 = (int)RealizePalette(**(HDC **)(a1 + 134)) > 0;
  if ( a2 || v3 )
  {
    if ( !*(_DWORD *)(a1 + 12) )
    {
      xerror::MakeString((xerror *)v9, aPrecondition_102, aGethandle_44, aCBc5IncludeOwl_47, 0x769u);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 12;
      --v7;
      string::~string((string *)v9);
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    InvalidateRect(*(HWND *)(a1 + 12), 0, 0);
  }
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004316F3) --------------------------------------------------------
char __cdecl sub_4316F3(int a1, int a2)
{
  char result; // al

  result = a1;
  if ( a2 != *(_DWORD *)(a1 + 12) )
    return sub_4315BD(a1, 0);
  return result;
}

//----- (0043170E) --------------------------------------------------------
char __cdecl sub_43170E(int a1)
{
  return sub_4315BD(a1, 1);
}

//----- (00431721) --------------------------------------------------------
int __cdecl sub_431721(TWindow *a1, int a2)
{
  int result; // eax
  int v3; // eax

  result = TWindow::DefaultProcessing(a1);
  if ( !*((_BYTE *)a1 + 424) )
  {
    result = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( result )
    {
      if ( a2 == *((_DWORD *)a1 + 94) )
      {
        result = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        if ( *(_DWORD *)(result + 145) )
        {
          v3 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
          return (*(int (__cdecl **)(_DWORD, TWindow *))(*(_DWORD *)(*(_DWORD *)(v3 + 145) + 33) + 12))(
                   *(_DWORD *)(v3 + 145),
                   a1);
        }
      }
    }
  }
  return result;
}

//----- (0043177D) --------------------------------------------------------
int __cdecl sub_43177D(TWindow *a1, int a2, char *a3)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  const char *v8; // edi
  const char *v9; // esi
  _BOOL1 v10; // bl
  int v11; // edx
  TFont *v12; // edx
  int v13; // [esp-8h] [ebp-B8h]
  int v14; // [esp-4h] [ebp-B4h]
  int v15; // [esp-4h] [ebp-B4h]
  RECT Rect; // [esp+Ch] [ebp-A4h] BYREF
  _DWORD v17[4]; // [esp+1Ch] [ebp-94h] BYREF
  unsigned __int8 v18; // [esp+2Dh] [ebp-83h]
  unsigned __int8 v19; // [esp+2Eh] [ebp-82h]
  unsigned __int8 v20; // [esp+2Fh] [ebp-81h]
  int v21[2]; // [esp+30h] [ebp-80h] BYREF
  double v22; // [esp+38h] [ebp-78h]
  _BYTE v23[4]; // [esp+40h] [ebp-70h] BYREF
  _BYTE v24[4]; // [esp+44h] [ebp-6Ch] BYREF
  _BYTE v25[4]; // [esp+48h] [ebp-68h] BYREF
  _DWORD v26[4]; // [esp+4Ch] [ebp-64h] BYREF
  __int16 v27; // [esp+5Ch] [ebp-54h]
  int v28; // [esp+68h] [ebp-48h]
  void *v29; // [esp+74h] [ebp-3Ch]
  TFont *v30; // [esp+78h] [ebp-38h]
  TGdiObject *v31; // [esp+7Ch] [ebp-34h]
  int v32[3]; // [esp+80h] [ebp-30h] BYREF
  _BYTE v33[4]; // [esp+8Ch] [ebp-24h] BYREF
  _BYTE v34[4]; // [esp+90h] [ebp-20h] BYREF
  _BYTE v35[4]; // [esp+94h] [ebp-1Ch] BYREF
  _BYTE v36[4]; // [esp+98h] [ebp-18h] BYREF
  _BYTE v37[4]; // [esp+9Ch] [ebp-14h] BYREF
  _BYTE v38[4]; // [esp+A0h] [ebp-10h] BYREF
  _BYTE v39[4]; // [esp+A8h] [ebp-8h] BYREF
  _BYTE v40[4]; // [esp+ACh] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *((_BYTE *)a1 + 424) || !(*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
    return 0;
  switch ( a2 )
  {
    case 6:
      if ( a3 )
      {
        sub_4268F8(a1, *((_DWORD *)a3 + 1), a3[8], 0);
        operator delete(a3);
      }
      break;
    case 7:
      if ( a3 )
        sub_426B62((int)a1, *((_DWORD *)a3 + 1));
      break;
    case 8:
      if ( a3 )
        sub_426D33((int)a1, (int)(a3 + 4));
      break;
    case 9:
      if ( a3 )
      {
        sub_42703A((int *)a1, (int)(a3 + 4), *((_DWORD *)a3 + 2), (_DWORD *)a3 + 3);
      }
      else
      {
        memset(v17, 0, sizeof(v17));
        v13 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 84);
        v4 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        sub_42703A((int *)a1, v4 + 32, v13, v17);
      }
      break;
    case 10:
      if ( a3 )
        sub_4275F6((int)a1, (int)(a3 + 4), *((_DWORD *)a3 + 2), a3 + 12, (int)(a3 + 28));
      break;
    case 11:
      if ( a3 )
      {
        sub_427B56((int)a1, (int)(a3 + 4), *((_DWORD *)a3 + 2));
      }
      else
      {
        v14 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 88);
        v5 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        sub_427B56((int)a1, v5 + 40, v14);
      }
      break;
    case 12:
      if ( a3 )
      {
        sub_427C42((int)a1, (int)(a3 + 4), *((_DWORD *)a3 + 2));
      }
      else
      {
        v15 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 92);
        v6 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        sub_427C42((int)a1, v6 + 44, v15);
      }
      break;
    case 13:
      if ( a3 )
        sub_427D34((int)a1, (int)(a3 + 4), *((_DWORD *)a3 + 2), a3 + 12);
      break;
    case 16:
      if ( a3 )
      {
        TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
        sub_405010(*((_DWORD *)a3 + 1));
      }
      break;
    case 17:
      if ( a3 )
        sub_427FAE((int)a1, (int)(a3 + 4), (int)(a3 + 8));
      break;
    case 18:
      if ( a3 )
        sub_4280EA((int)a1, (int)(a3 + 4));
      break;
    case 19:
      if ( a3 )
        sub_427EFF((int)a1, *((_DWORD *)a3 + 1), *((_DWORD *)a3 + 2), *((_DWORD *)a3 + 3));
      else
        sub_427EFF((int)a1, 0, 0, 0);
      break;
    case 21:
      if ( a3 )
        (*(void (__cdecl **)(char *, TWindow *))(*(_DWORD *)a3 + 8))(a3, a1);
      break;
    case 22:
      if ( a3 )
        (*(void (__cdecl **)(char *, int *, _BYTE *))(*(_DWORD *)a3 + 8))(a3, dword_44ECCE, v25);
      break;
    case 23:
      if ( a3 )
        (*(void (__cdecl **)(char *, int *, _BYTE *))(*(_DWORD *)a3 + 8))(a3, dword_44ECCE, v24);
      break;
    case 24:
      if ( a3 )
        (*(void (__cdecl **)(char *, int *, _BYTE *))(*(_DWORD *)a3 + 8))(a3, dword_44ECCE, v23);
      break;
    case 25:
      if ( a3 )
      {
        qmemcpy(&Rect, a3 + 4, sizeof(Rect));
        if ( Rect.left >= Rect.right || Rect.top >= Rect.bottom )
        {
          qmemcpy(&Rect, (char *)a1 + 264, sizeof(Rect));
        }
        else
        {
          v22 = sub_43353D((int)a1);
          sub_433569(v21, (int)a1);
          sub_405119((TRect *)&Rect, v22, v21);
        }
        if ( !*((_DWORD *)a1 + 3) )
        {
          xerror::MakeString((xerror *)v40, aPrecondition_103, aGethandle_45, aCBc5IncludeOwl_48, 0x773u);
          ++v28;
          xmsg::xmsg((xmsg *)v39, (const string *)v40);
          ++v28;
          v27 = 12;
          --v28;
          string::~string((string *)v40);
          v28 += 2;
          v28 += 3;
          _ThrowExceptionLDTC(stru_403B88, v39, 0, sub_403BE0, 1u, 0, 0, 0, v26);
        }
        InvalidateRect(*((HWND *)a1 + 3), &Rect, 0);
        TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
      }
      break;
    case 26:
      if ( a3 )
        sub_428154((int)a1, (unsigned int)(a3 + 4));
      break;
    case 27:
      if ( a3 )
        sub_428373((int)a1, (string *)(a3 + 32), (int)(a3 + 4), *((_DWORD *)a3 + 2), a3 + 12, (int)(a3 + 28));
      break;
    case 28:
    case 42:
      if ( a3 )
        sub_428F57((int)a1, (string *)(a3 + 4));
      break;
    case 29:
    case 43:
      if ( a3 )
        sub_428E06((int)a1, (string *)(a3 + 4), 1);
      break;
    case 30:
    case 44:
      if ( a3 )
        sub_428E06((int)a1, (string *)(a3 + 4), 0);
      break;
    case 31:
      if ( a3 )
      {
        sub_42908F(a1, (int)(a3 + 4), *((_DWORD *)a3 + 2));
        v28 += 2;
        string::~string((string *)(a3 + 4));
        operator delete(a3);
        v27 = 24;
      }
      break;
    case 32:
      TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
      break;
    case 33:
      if ( a3 )
        sub_4294C9((int)a1, (int)(a3 + 4), (int)(a3 + 8));
      break;
    case 34:
      if ( a3 )
      {
        MessageBeep(1u);
        v8 = *(const char **)(dword_44ECA1 + 2);
        v9 = *(const char **)(*((_DWORD *)a3 + 1) + 2);
        if ( !*((_DWORD *)a1 + 26) )
        {
          v27 = 48;
          xerror::MakeString((xerror *)v38, aPrecondition_104, aGetapplication, aCBc5IncludeOwl_49, 0x959u);
          ++v28;
          xmsg::xmsg((xmsg *)v37, (const string *)v38);
          ++v28;
          v27 = 60;
          --v28;
          string::~string((string *)v38);
          v27 = 48;
          v28 += 2;
          v28 += 3;
          _ThrowExceptionLDTC(stru_403B88, v37, 0, sub_403BE0, 1u, 0, 0, 0, v26);
        }
        if ( !*((_DWORD *)a1 + 3) )
        {
          xerror::MakeString((xerror *)v36, aPrecondition_105, aGethandle_46, aCBc5IncludeOwl_50, 0x95Au);
          ++v28;
          xmsg::xmsg((xmsg *)v35, (const string *)v36);
          ++v28;
          v27 = 72;
          --v28;
          string::~string((string *)v36);
          v27 = 48;
          v28 += 2;
          v28 += 3;
          _ThrowExceptionLDTC(stru_403B88, v35, 0, sub_403BE0, 1u, 0, 0, 0, v26);
        }
        TApplication::MessageBox(*((TApplication **)a1 + 26), *((HWND *)a1 + 3), v9, v8, 0);
      }
      break;
    case 35:
      if ( a3 )
      {
        string::string((string *)v34, a3);
        sub_40B594(v32, (string *)v34);
        v27 = 84;
        sub_40B990((int)a1, (int)v32, (HWND *)a1);
        string::~string((string *)v33);
        v28 -= 6;
        string::~string((string *)v34);
      }
      break;
    case 36:
      if ( *(_DWORD *)((char *)a1 + 158) )
        (*(void (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 158) + 48))(*(_DWORD *)((char *)a1 + 158));
      break;
    case 37:
      sub_429865((int)a1);
      break;
    case 38:
      if ( a3 )
        sub_4274B0(a1, (int)(a3 + 4), *((_WORD *)a3 + 12), a3 + 8);
      break;
    case 39:
      if ( a3 )
      {
        v10 = (a3[8] & 1) != 0;
        v20 = (a3[8] & 2) != 0;
        v19 = (a3[8] & 4) != 0;
        v18 = (a3[8] & 8) != 0;
        v31 = (TGdiObject *)dword_44EC64;
        if ( dword_44EC64 )
        {
          ++v28;
          TGdiObject::~TGdiObject(v31);
          operator delete(v31);
          v27 = 120;
        }
        v30 = (TFont *)operator new(5u);
        if ( v30 )
        {
          v27 = 156;
          v11 = 700;
          if ( !v10 )
            v11 = 400;
          TFont::TFont(
            v30,
            *(const char **)(*((_DWORD *)a3 + 4) + 2),
            -*((_DWORD *)a3 + 1),
            0,
            0,
            0,
            v11,
            0,
            v20,
            v19,
            v18,
            1u,
            0,
            0,
            0);
          v27 = 144;
          v12 = v30;
        }
        else
        {
          v12 = 0;
        }
        dword_44EC64 = (int)v12;
        dword_44EC68 = *((_DWORD *)a3 + 3);
      }
      break;
    case 41:
      if ( a3 )
        sub_428AAD((int)a1, (string *)(a3 + 26), (string *)(a3 + 4), *((_WORD *)a3 + 12), *(_DWORD *)(a3 + 30), a3 + 8);
      break;
    case 45:
      if ( a3 )
      {
        *((_BYTE *)a1 + 424) = 1;
        sub_42999A(a1, (int)(a3 + 4));
        v29 = a3;
        ++v28;
        string::~string((string *)((char *)v29 + 4));
        operator delete(v29);
        v27 = 168;
        *((_BYTE *)a1 + 424) = 0;
        sub_42EC92(a1, 1);
      }
      break;
    case 46:
      if ( a3 )
      {
        sub_429F02((int)a1, (int)(a3 + 4));
        ++v28;
        string::~string((string *)(a3 + 4));
        operator delete(a3);
        v27 = 192;
      }
      break;
    case 47:
      if ( *(_DWORD *)((char *)a1 + 170) )
        (*(void (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 170) + 48))(*(_DWORD *)((char *)a1 + 170));
      break;
    case 48:
      if ( *(_DWORD *)((char *)a1 + 162) )
        (*(void (__cdecl **)(_DWORD))(**(_DWORD **)((char *)a1 + 162) + 48))(*(_DWORD *)((char *)a1 + 162));
      break;
    default:
      return 0;
  }
  return 0;
}
// 43212A: conditional instruction was optimized away because esi.4!=0
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC64: using guessed type int dword_44EC64;
// 44EC68: using guessed type int dword_44EC68;
// 44ECA1: using guessed type int dword_44ECA1;
// 44ECCE: using guessed type int dword_44ECCE[8];

//----- (004321C9) --------------------------------------------------------
int __cdecl sub_4321C9(int a1, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  struct tagPOINT Point; // [esp+4h] [ebp-34h] BYREF
  _DWORD v7[4]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v8; // [esp+1Ch] [ebp-1Ch]
  int v9; // [esp+28h] [ebp-10h]
  _BYTE v10[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 260) )
  {
    v3 = *(_DWORD *)(a1 + 260);
    if ( *(_DWORD *)(v3 + 4) )
      *(_BYTE *)(*(_DWORD *)(v3 + 4) + 28) = 1;
    *(_DWORD *)(*(_DWORD *)(a1 + 260) + 24) = 0;
    GetCursorPos(&Point);
    if ( !*(_DWORD *)(a1 + 12) )
    {
      xerror::MakeString((xerror *)v11, aPrecondition_106, aGethandle_47, aCBc5IncludeOwl_51, 0x593u);
      ++v9;
      xmsg::xmsg((xmsg *)v10, (const string *)v11);
      ++v9;
      v8 = 12;
      --v9;
      string::~string((string *)v11);
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    ScreenToClient(*(HWND *)(a1 + 12), &Point);
    if ( !(*(unsigned __int8 (__cdecl **)(_DWORD, int, struct tagPOINT *))(**(_DWORD **)(a1 + 260) + 12))(
            *(_DWORD *)(a1 + 260),
            a3,
            &Point) )
      sub_4330F1(a1, &Point.x);
    v4 = *(_DWORD *)(a1 + 260);
    if ( *(_DWORD *)(v4 + 4) )
      *(_BYTE *)(*(_DWORD *)(v4 + 4) + 28) = 0;
  }
  return 0;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004322E7) --------------------------------------------------------
int __cdecl sub_4322E7(int a1, int a2, int a3)
{
  int v3; // eax
  int v4; // eax
  struct tagPOINT Point; // [esp+4h] [ebp-34h] BYREF
  _DWORD v7[4]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v8; // [esp+1Ch] [ebp-1Ch]
  int v9; // [esp+28h] [ebp-10h]
  _BYTE v10[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v11[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( *(_DWORD *)(a1 + 256) )
  {
    v3 = *(_DWORD *)(a1 + 256);
    if ( *(_DWORD *)(v3 + 4) )
      *(_BYTE *)(*(_DWORD *)(v3 + 4) + 28) = 1;
    *(_DWORD *)(*(_DWORD *)(a1 + 256) + 24) = 0;
    GetCursorPos(&Point);
    if ( !*(_DWORD *)(a1 + 12) )
    {
      xerror::MakeString((xerror *)v11, aPrecondition_107, aGethandle_48, aCBc5IncludeOwl_52, 0x593u);
      ++v9;
      xmsg::xmsg((xmsg *)v10, (const string *)v11);
      ++v9;
      v8 = 12;
      --v9;
      string::~string((string *)v11);
      v9 += 2;
      v9 += 3;
      _ThrowExceptionLDTC(stru_403B88, v10, 0, sub_403BE0, 1u, 0, 0, 0, v7);
    }
    ScreenToClient(*(HWND *)(a1 + 12), &Point);
    if ( !(*(unsigned __int8 (__cdecl **)(_DWORD, int, struct tagPOINT *))(**(_DWORD **)(a1 + 256) + 12))(
            *(_DWORD *)(a1 + 256),
            a3,
            &Point) )
    {
      if ( *(_DWORD *)(a1 + 252) )
        sub_42D858(*(_DWORD *)(a1 + 252), 1);
      sub_4330F1(a1, &Point.x);
    }
    v4 = *(_DWORD *)(a1 + 256);
    if ( *(_DWORD *)(v4 + 4) )
      *(_BYTE *)(*(_DWORD *)(v4 + 4) + 28) = 0;
  }
  return 0;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0043241E) --------------------------------------------------------
int __cdecl sub_43241E(TWindow *a1, int a2)
{
  sub_42ECB9(a1, a2 != 0);
  return 0;
}

//----- (0043243C) --------------------------------------------------------
char __cdecl sub_43243C(TWindow *a1, string *a2)
{
  if ( string::compare(a2, (const string *)&unk_44EC34) )
    return sub_42908F(a1, (int)a2, *((_DWORD *)a2 + 1));
  else
    return sub_4268F8(a1, *((_DWORD *)a2 + 1), 0, 0);
}

//----- (00432480) --------------------------------------------------------
char __cdecl sub_432480(TWindow *a1)
{
  char result; // al
  string *v2; // eax

  result = *(_DWORD *)((char *)a1 + 146) - 1 < *(_DWORD *)((char *)a1 + 150) && *(_DWORD *)((char *)a1 + 146) - 1 >= 0;
  if ( result )
  {
    v2 = (string *)sub_43614B((TWindow *)((char *)a1 + 142));
    return sub_43243C(a1, v2);
  }
  return result;
}

//----- (004324C5) --------------------------------------------------------
int __cdecl sub_4324C5(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // eax

  v2 = *(_DWORD *)(a1 + 146) - 1 < *(_DWORD *)(a1 + 150) && *(_DWORD *)(a1 + 146) - 1 >= 0;
  return (**a2)(a2, v2);
}

//----- (004324F9) --------------------------------------------------------
char __cdecl sub_4324F9(TWindow *a1)
{
  char result; // al
  string *v2; // eax

  result = *(_DWORD *)((char *)a1 + 146) + 1 < *(_DWORD *)((char *)a1 + 150) && *(_DWORD *)((char *)a1 + 146) + 1 >= 0;
  if ( result )
  {
    v2 = (string *)sub_436086((TWindow *)((char *)a1 + 142));
    return sub_43243C(a1, v2);
  }
  return result;
}

//----- (0043253E) --------------------------------------------------------
int __cdecl sub_43253E(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // eax

  v2 = *(_DWORD *)(a1 + 146) + 1 < *(_DWORD *)(a1 + 150) && *(_DWORD *)(a1 + 146) + 1 >= 0;
  return (**a2)(a2, v2);
}

//----- (00432572) --------------------------------------------------------
char __cdecl sub_432572(TWindow *a1)
{
  _DWORD *v1; // eax
  int v2; // edi
  int v3; // ebx
  int v4; // eax
  int v6; // [esp-4h] [ebp-4Ch]
  unsigned int v7; // [esp+Ch] [ebp-3Ch]
  _DWORD v8[4]; // [esp+1Ch] [ebp-2Ch] BYREF
  __int16 v9; // [esp+2Ch] [ebp-1Ch]
  int v10; // [esp+38h] [ebp-10h]
  _BYTE v11[4]; // [esp+40h] [ebp-8h] BYREF
  _BYTE v12[4]; // [esp+44h] [ebp-4h] BYREF

  LOBYTE(v1) = __InitExceptBlockLDTC();
  if ( dword_44ECB1 )
  {
    v6 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    v2 = dword_44ECB1;
    v3 = dword_44ECB1 + 1;
    if ( dword_44ECB1 + 1 >= dword_44EC70 )
    {
      if ( dword_44EC7D == -1 )
        v4 = 0x7FFFFFFF;
      else
        v4 = dword_44EC70 + dword_44EC7D;
      if ( v3 >= v4 )
        sub_406954((int)&unk_44EC74, v3 - dword_44EC70, 0);
    }
    else
    {
      sub_406954((int)&unk_44EC74, dword_44EC7D + v3 - dword_44EC70, 0);
    }
    v7 = v2 - dword_44EC70;
    if ( dword_44EC7D && (!dword_44EC79 || v7 >= dword_44EC7D) )
    {
      xerror::MakeString((xerror *)v12, aPrecondition_108, aLim0Data0Index_22, aCBc5IncludeCla_35, 0x334u);
      ++v10;
      xmsg::xmsg((xmsg *)v11, (const string *)v12);
      ++v10;
      v9 = 12;
      --v10;
      string::~string((string *)v12);
      v10 += 2;
      v10 += 3;
      _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
    }
    v1 = (_DWORD *)(dword_44EC79 + 4 * v7);
    if ( v6 != *v1 )
      LOBYTE(v1) = sub_4268F8(a1, dword_44ECB1, 0, 0);
  }
  return (char)v1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC70: using guessed type int dword_44EC70;
// 44EC79: using guessed type int dword_44EC79;
// 44EC7D: using guessed type int dword_44EC7D;
// 44ECB1: using guessed type int;

//----- (004326CE) --------------------------------------------------------
int __cdecl sub_4326CE(int a1, int (__cdecl ***a2)(_DWORD, int))
{
  int v2; // edi
  int v3; // ebx
  int v4; // eax
  int v5; // ecx
  int v7; // [esp-4h] [ebp-4Ch]
  unsigned int v8; // [esp+Ch] [ebp-3Ch]
  _DWORD v9[4]; // [esp+1Ch] [ebp-2Ch] BYREF
  __int16 v10; // [esp+2Ch] [ebp-1Ch]
  int v11; // [esp+38h] [ebp-10h]
  _BYTE v12[4]; // [esp+40h] [ebp-8h] BYREF
  _BYTE v13[4]; // [esp+44h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( !dword_44ECB1 )
    goto LABEL_14;
  v7 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
  v2 = dword_44ECB1;
  v3 = dword_44ECB1 + 1;
  if ( dword_44ECB1 + 1 >= dword_44EC70 )
  {
    if ( dword_44EC7D == -1 )
      v4 = 0x7FFFFFFF;
    else
      v4 = dword_44EC70 + dword_44EC7D;
    if ( v3 >= v4 )
      sub_406954((int)&unk_44EC74, v3 - dword_44EC70, 0);
  }
  else
  {
    sub_406954((int)&unk_44EC74, dword_44EC7D + v3 - dword_44EC70, 0);
  }
  v8 = v2 - dword_44EC70;
  if ( dword_44EC7D && (!dword_44EC79 || v8 >= dword_44EC7D) )
  {
    xerror::MakeString((xerror *)v13, aPrecondition_109, aLim0Data0Index_23, aCBc5IncludeCla_36, 0x334u);
    ++v11;
    xmsg::xmsg((xmsg *)v12, (const string *)v13);
    ++v11;
    v10 = 12;
    --v11;
    string::~string((string *)v13);
    v11 += 2;
    v11 += 3;
    _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v9);
  }
  if ( v7 != *(_DWORD *)(dword_44EC79 + 4 * v8) )
    v5 = 1;
  else
LABEL_14:
    v5 = 0;
  return (**a2)(a2, v5);
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC70: using guessed type int dword_44EC70;
// 44EC79: using guessed type int dword_44EC79;
// 44EC7D: using guessed type int dword_44EC7D;
// 44ECB1: using guessed type int dword_44ECB1;

//----- (0043282A) --------------------------------------------------------
char __cdecl sub_43282A(TWindow *a1)
{
  int v1; // eax
  int v2; // eax

  v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  if ( v1 )
  {
    v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(v1 + 149) )
    {
      v1 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 149);
      if ( *(_DWORD *)(v1 + 12) )
      {
        v2 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        LOBYTE(v1) = sub_4268F8(a1, *(_DWORD *)(*(_DWORD *)(v2 + 149) + 12), 0, 0);
      }
    }
  }
  return v1;
}

//----- (00432883) --------------------------------------------------------
int __cdecl sub_432883(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // edx

  v2 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1)
    && *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149)
    && *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149) + 12);
  return (**a2)(a2, v2);
}

//----- (004328D3) --------------------------------------------------------
char __cdecl sub_4328D3(TWindow *a1)
{
  int v1; // eax
  int v2; // eax

  v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  if ( v1 )
  {
    v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(v1 + 149) )
    {
      v1 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 149);
      if ( *(_DWORD *)(v1 + 16) )
      {
        v2 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        LOBYTE(v1) = sub_4268F8(a1, *(_DWORD *)(*(_DWORD *)(v2 + 149) + 16), 0, 0);
      }
    }
  }
  return v1;
}

//----- (0043292C) --------------------------------------------------------
int __cdecl sub_43292C(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // edx

  v2 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1)
    && *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149)
    && *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149) + 16);
  return (**a2)(a2, v2);
}

//----- (0043297C) --------------------------------------------------------
char __cdecl sub_43297C(TWindow *a1)
{
  int v1; // eax
  int v2; // eax

  v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  if ( v1 )
  {
    v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(v1 + 149) )
    {
      v1 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 149);
      if ( *(_DWORD *)(v1 + 20) )
      {
        v2 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        LOBYTE(v1) = sub_4268F8(a1, *(_DWORD *)(*(_DWORD *)(v2 + 149) + 20), 0, 0);
      }
    }
  }
  return v1;
}

//----- (004329D5) --------------------------------------------------------
int __cdecl sub_4329D5(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // edx

  v2 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1)
    && *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149)
    && *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149) + 20);
  return (**a2)(a2, v2);
}

//----- (00432A25) --------------------------------------------------------
char __cdecl sub_432A25(TWindow *a1)
{
  int v1; // eax
  int v2; // eax

  v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  if ( v1 )
  {
    v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(v1 + 149) )
    {
      v1 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 149);
      if ( *(_DWORD *)(v1 + 24) )
      {
        v2 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        LOBYTE(v1) = sub_4268F8(a1, *(_DWORD *)(*(_DWORD *)(v2 + 149) + 24), 0, 0);
      }
    }
  }
  return v1;
}

//----- (00432A7E) --------------------------------------------------------
int __cdecl sub_432A7E(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // edx

  v2 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1)
    && *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149)
    && *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149) + 24);
  return (**a2)(a2, v2);
}

//----- (00432ACE) --------------------------------------------------------
char __cdecl sub_432ACE(TWindow *a1)
{
  int v1; // eax
  int v2; // eax

  v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  if ( v1 )
  {
    v1 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(v1 + 149) )
    {
      v1 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 149);
      if ( *(_DWORD *)(v1 + 28) )
      {
        v2 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        LOBYTE(v1) = sub_4268F8(a1, *(_DWORD *)(*(_DWORD *)(v2 + 149) + 28), 0, 0);
      }
    }
  }
  return v1;
}

//----- (00432B27) --------------------------------------------------------
int __cdecl sub_432B27(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // edx

  v2 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1)
    && *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149)
    && *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 149) + 28);
  return (**a2)(a2, v2);
}

//----- (00432B77) --------------------------------------------------------
int __cdecl sub_432B77(int a1)
{
  int result; // eax
  int v2; // eax
  _DWORD v3[2]; // [esp+Ch] [ebp-8h] BYREF

  result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
  if ( result && *(_DWORD *)(a1 + 256) )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77) )
    {
      return (*(int (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 256) + 20))(*(_DWORD *)(a1 + 256));
    }
    else
    {
      v2 = *(_DWORD *)(a1 + 276);
      v3[0] = *(_DWORD *)(a1 + 272) / 2;
      v3[1] = v2 / 2;
      result = sub_419E29(*(_BYTE **)(a1 + 256), (int)v3);
      qmemcpy((void *)(a1 + 328), (const void *)(a1 + 264), 0x10u);
    }
  }
  return result;
}

//----- (00432C21) --------------------------------------------------------
int __cdecl sub_432C21(int a1, int a2)
{
  bool v2; // ecx
  bool v3; // ecx

  v2 = *(_DWORD *)(a1 + 256) && *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77);
  (*(void (__cdecl **)(int, bool))(*(_DWORD *)a2 + 8))(a2, v2);
  v3 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) && *(_DWORD *)(a1 + 256);
  return (**(int (__cdecl ***)(int, bool))a2)(a2, v3);
}

//----- (00432C87) --------------------------------------------------------
int __cdecl sub_432C87(TWindow *a1)
{
  return TWindow::HandleMessage(a1, dword_446A8C, 0xBu, 0);
}

//----- (00432CA2) --------------------------------------------------------
int __cdecl sub_432CA2(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // edx

  v2 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1)
    && *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 40) + 6)
    && (byte_44EC4C & 1) != 0;
  return (**a2)(a2, v2);
}
// 44EC4C: using guessed type char byte_44EC4C;

//----- (00432CF3) --------------------------------------------------------
int __cdecl sub_432CF3(TWindow *a1)
{
  _DWORD *v1; // esi
  int result; // eax
  bool v3; // [esp+4h] [ebp-114h]
  int v4; // [esp+14h] [ebp-104h] BYREF
  __int16 v5; // [esp+28h] [ebp-F0h]
  int v6; // [esp+34h] [ebp-E4h]
  _DWORD v7[55]; // [esp+3Ch] [ebp-DCh] BYREF

  __InitExceptBlockLDTC();
  v5 = 8;
  v4 = dword_44EC48 & dword_44EC44;
  v1 = sub_42AE50(v7, 0, (int)a1, (int)&byte_44EC4C, (int)&v4, 1000, dword_44ECF1);
  v6 += 5;
  v3 = (*(int (__cdecl **)(_DWORD *))(v1[3] + 20))(v1) == 1;
  v6 -= 5;
  sub_42AF80((TDialog *)v7, 2);
  result = v3;
  if ( v3 )
    return sub_42EC92(a1, 1);
  return result;
}
// 44EC44: using guessed type int dword_44EC44;
// 44EC48: using guessed type int dword_44EC48;
// 44EC4C: using guessed type char byte_44EC4C;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00432DAA) --------------------------------------------------------
char __cdecl sub_432DAA(TWindow *a1)
{
  int v1; // ebx
  int v3; // ebx
  int v4; // eax
  int v6; // [esp-4h] [ebp-58h]
  unsigned int v7; // [esp+Ch] [ebp-48h]
  int v8; // [esp+1Ch] [ebp-38h]
  _DWORD v9[4]; // [esp+20h] [ebp-34h] BYREF
  __int16 v10; // [esp+30h] [ebp-24h]
  int v11; // [esp+3Ch] [ebp-18h]
  _BYTE v12[4]; // [esp+44h] [ebp-10h] BYREF
  _BYTE v13[4]; // [esp+48h] [ebp-Ch] BYREF
  _BYTE v14[4]; // [esp+4Ch] [ebp-8h] BYREF
  _BYTE v15[4]; // [esp+50h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v1 = unk_44ECAD;
  if ( unk_44ECAD >= 1 && v1 <= (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) )
  {
    v6 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    v8 = unk_44ECAD;
    v3 = unk_44ECAD + 1;
    if ( unk_44ECAD + 1 >= dword_44EC70 )
    {
      if ( dword_44EC7D == -1 )
        v4 = 0x7FFFFFFF;
      else
        v4 = dword_44EC70 + dword_44EC7D;
      if ( v3 >= v4 )
        sub_406954((int)&unk_44EC74, v3 - dword_44EC70, 0);
    }
    else
    {
      sub_406954((int)&unk_44EC74, dword_44EC7D + v3 - dword_44EC70, 0);
    }
    v7 = v8 - dword_44EC70;
    if ( dword_44EC7D && (!dword_44EC79 || v7 >= dword_44EC7D) )
    {
      xerror::MakeString((xerror *)v15, aPrecondition_110, aLim0Data0Index_24, aCBc5IncludeCla_37, 0x334u);
      ++v11;
      xmsg::xmsg((xmsg *)v14, (const string *)v15);
      ++v11;
      v10 = 12;
      --v11;
      string::~string((string *)v15);
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v14, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    if ( v6 != *(_DWORD *)(dword_44EC79 + 4 * v7) )
      return sub_4268F8(a1, unk_44ECAD, 0, 0);
  }
  if ( !*((_DWORD *)a1 + 3) )
  {
    v10 = 24;
    xerror::MakeString((xerror *)v13, aPrecondition_111, aGethandle_49, aCBc5IncludeOwl_53, 0x53Cu);
    ++v11;
    xmsg::xmsg((xmsg *)v12, (const string *)v13);
    ++v11;
    v10 = 36;
    --v11;
    string::~string((string *)v13);
    v10 = 24;
    v11 += 2;
    v11 += 3;
    _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v9);
  }
  return PostMessageA(*((HWND *)a1 + 3), 0x12u, 0, 0);
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC70: using guessed type int dword_44EC70;
// 44EC75: using guessed type int dword_44EC75;
// 44EC79: using guessed type int dword_44EC79;
// 44EC7D: using guessed type int dword_44EC7D;

//----- (00432FD3) --------------------------------------------------------
BOOL __cdecl sub_432FD3(int a1)
{
  BOOL result; // eax
  _DWORD v2[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v3; // [esp+14h] [ebp-1Ch]
  int v4; // [esp+20h] [ebp-10h]
  _BYTE v5[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  result = *(_DWORD *)(a1 + 256) && *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77);
  if ( result )
  {
    (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 256) + 20))(*(_DWORD *)(a1 + 256));
    if ( !*(_DWORD *)(a1 + 12) )
    {
      xerror::MakeString((xerror *)v6, aPrecondition_112, aGethandle_50, aCBc5IncludeOwl_54, 0x7A5u);
      ++v4;
      xmsg::xmsg((xmsg *)v5, (const string *)v6);
      ++v4;
      v3 = 12;
      --v4;
      string::~string((string *)v6);
      v4 += 2;
      v4 += 3;
      _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
    }
    return UpdateWindow(*(HWND *)(a1 + 12));
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004330B7) --------------------------------------------------------
int __cdecl sub_4330B7(int a1, int (__cdecl ***a2)(_DWORD, bool))
{
  bool v2; // ecx

  v2 = *(_DWORD *)(a1 + 256) && *(_DWORD *)(*(_DWORD *)(a1 + 256) + 77);
  return (**a2)(a2, v2);
}

//----- (004330F1) --------------------------------------------------------
void __cdecl sub_4330F1(int a1, int *a2)
{
  sub_43089A(a1, 0, a2);
}

//----- (00433107) --------------------------------------------------------
void __cdecl sub_433107(int a1)
{
  struct tagPOINT Point; // [esp+4h] [ebp-34h] BYREF
  _DWORD v2[4]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v3; // [esp+1Ch] [ebp-1Ch]
  int v4; // [esp+28h] [ebp-10h]
  _BYTE v5[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  GetCursorPos(&Point);
  if ( !*(_DWORD *)(a1 + 12) )
  {
    xerror::MakeString((xerror *)v6, aPrecondition_113, aGethandle_51, aCBc5IncludeOwl_55, 0x593u);
    ++v4;
    xmsg::xmsg((xmsg *)v5, (const string *)v6);
    ++v4;
    v3 = 12;
    --v4;
    string::~string((string *)v6);
    v4 += 2;
    v4 += 3;
    _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
  }
  ScreenToClient(*(HWND *)(a1 + 12), &Point);
  sub_4330F1(a1, &Point.x);
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004331CB) --------------------------------------------------------
_DWORD *__cdecl sub_4331CB(_DWORD *a1)
{
  a1[74] = 0;
  a1[75] = 0;
  a1[76] = 0;
  a1[77] = 0;
  a1[78] = 0;
  a1[79] = 0;
  a1[80] = 0;
  a1[81] = 0;
  a1[86] = 0;
  a1[87] = 0;
  a1[88] = 0;
  a1[89] = 0;
  a1[90] = 0;
  a1[91] = 0;
  a1[92] = 0;
  a1[93] = 0;
  return a1 + 90;
}

//----- (00433236) --------------------------------------------------------
int __cdecl sub_433236(_DWORD *a1, const void *a2)
{
  if ( a1[82] >= a1[84] || a1[83] >= a1[85] )
    qmemcpy(a1 + 82, a2, 0x10u);
  else
    TRect::operator|=(a1 + 82, a2);
  return TRect::operator&=(a1 + 82, a1 + 66);
}
// 4390B4: using guessed type int __cdecl TRect::operator&=(_DWORD, _DWORD);
// 43911A: using guessed type int __cdecl TRect::operator|=(_DWORD, _DWORD);

//----- (004332A5) --------------------------------------------------------
int __cdecl sub_4332A5(_DWORD *a1, const void *a2)
{
  if ( a1[70] >= a1[72] || a1[71] >= a1[73] )
    qmemcpy(a1 + 70, a2, 0x10u);
  else
    TRect::operator|=(a1 + 70, a2);
  return TRect::operator&=(a1 + 70, a1 + 66);
}
// 4390B4: using guessed type int __cdecl TRect::operator&=(_DWORD, _DWORD);
// 43911A: using guessed type int __cdecl TRect::operator|=(_DWORD, _DWORD);

//----- (00433314) --------------------------------------------------------
int __cdecl sub_433314(int a1, _BOOL1 a2)
{
  int result; // eax
  _DWORD v4[4]; // [esp+Ch] [ebp-34h] BYREF
  __int16 v5; // [esp+1Ch] [ebp-24h]
  int v6; // [esp+28h] [ebp-18h]
  _BYTE v7[4]; // [esp+30h] [ebp-10h] BYREF
  _BYTE v8[4]; // [esp+34h] [ebp-Ch] BYREF
  _BYTE v9[4]; // [esp+38h] [ebp-8h] BYREF
  _BYTE v10[4]; // [esp+3Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  result = a1 + 280;
  if ( *(_DWORD *)(a1 + 280) < *(_DWORD *)(a1 + 288) && *(_DWORD *)(a1 + 284) < *(_DWORD *)(a1 + 292) )
  {
    if ( !*(_DWORD *)(a1 + 12) )
    {
      xerror::MakeString((xerror *)v10, aPrecondition_114, aGethandle_52, aCBc5IncludeOwl_56, 0x773u);
      ++v6;
      xmsg::xmsg((xmsg *)v9, (const string *)v10);
      ++v6;
      v5 = 12;
      --v6;
      string::~string((string *)v10);
      v6 += 2;
      v6 += 3;
      _ThrowExceptionLDTC(stru_403B88, v9, 0, sub_403BE0, 1u, 0, 0, 0, v4);
    }
    InvalidateRect(*(HWND *)(a1 + 12), (const RECT *)(a1 + 280), a2);
    *(_DWORD *)(a1 + 280) = 0;
    *(_DWORD *)(a1 + 284) = 0;
    *(_DWORD *)(a1 + 288) = 0;
    *(_DWORD *)(a1 + 292) = 0;
    if ( !*(_DWORD *)(a1 + 12) )
    {
      v5 = 24;
      xerror::MakeString((xerror *)v8, aPrecondition_115, aGethandle_53, aCBc5IncludeOwl_57, 0x7A5u);
      ++v6;
      xmsg::xmsg((xmsg *)v7, (const string *)v8);
      ++v6;
      v5 = 36;
      --v6;
      string::~string((string *)v8);
      v5 = 24;
      v6 += 2;
      v6 += 3;
      _ThrowExceptionLDTC(stru_403B88, v7, 0, sub_403BE0, 1u, 0, 0, 0, v4);
    }
    return UpdateWindow(*(HWND *)(a1 + 12));
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (004334A6) --------------------------------------------------------
char __cdecl sub_4334A6(TWindow *a1)
{
  _DWORD v3[4]; // [esp+Ch] [ebp-10h] BYREF

  TWindow::GetClientRect(a1, (TRect *)v3);
  qmemcpy((char *)a1 + 328, (char *)a1 + 264, 0x10u);
  if ( *((_DWORD *)a1 + 66) == v3[0]
    && *((_DWORD *)a1 + 67) == v3[1]
    && *((_DWORD *)a1 + 68) == v3[2]
    && *((_DWORD *)a1 + 69) == v3[3] )
  {
    return 0;
  }
  qmemcpy((char *)a1 + 264, v3, 0x10u);
  qmemcpy((char *)a1 + 328, v3, 0x10u);
  return 1;
}

//----- (0043353D) --------------------------------------------------------
long double __cdecl sub_43353D(int a1)
{
  if ( *(_DWORD *)(a1 + 178) )
    return *(double *)(*(_DWORD *)(a1 + 178) + 29);
  else
    return 1.0;
}

//----- (00433569) --------------------------------------------------------
_DWORD *__cdecl sub_433569(_DWORD *a1, int a2)
{
  _DWORD *result; // eax
  _DWORD *v3; // ecx
  _DWORD v4[2]; // [esp+0h] [ebp-8h] BYREF

  result = a1;
  if ( *(_DWORD *)(a2 + 178) )
  {
    v3 = (_DWORD *)(*(_DWORD *)(a2 + 178) + 13);
  }
  else
  {
    v4[0] = 0;
    v4[1] = 0;
    v3 = v4;
  }
  *a1 = *v3;
  a1[1] = v3[1];
  return result;
}

//----- (004335A4) --------------------------------------------------------
int __cdecl sub_4335A4(int a1, _DWORD *a2)
{
  int result; // eax
  int v3; // eax
  _BOOL1 v4; // cl
  int v5; // eax
  int v6; // eax
  int v7; // eax
  long double v8; // fst7
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  _BOOL1 v13; // al
  long double v14; // fst7
  int v15; // edi
  int v16; // [esp+1Ch] [ebp-148h]
  int v17; // [esp+1Ch] [ebp-148h]
  int v18; // [esp+1Ch] [ebp-148h]
  _DWORD v19[4]; // [esp+20h] [ebp-144h] BYREF
  _DWORD v20[4]; // [esp+30h] [ebp-134h] BYREF
  _DWORD v21[4]; // [esp+40h] [ebp-124h] BYREF
  _DWORD v22[4]; // [esp+50h] [ebp-114h] BYREF
  char v23; // [esp+60h] [ebp-104h]
  char v24; // [esp+61h] [ebp-103h]
  char v25; // [esp+62h] [ebp-102h]
  char v26; // [esp+63h] [ebp-101h]
  int v27; // [esp+64h] [ebp-100h]
  int v28; // [esp+68h] [ebp-FCh]
  int v29; // [esp+6Ch] [ebp-F8h]
  int v30; // [esp+70h] [ebp-F4h]
  int v31; // [esp+74h] [ebp-F0h]
  int v32; // [esp+78h] [ebp-ECh]
  int v33; // [esp+7Ch] [ebp-E8h]
  int v34; // [esp+80h] [ebp-E4h]
  int v35; // [esp+84h] [ebp-E0h]
  int v36; // [esp+88h] [ebp-DCh]
  int v37; // [esp+8Ch] [ebp-D8h]
  int v38; // [esp+90h] [ebp-D4h]
  int v39; // [esp+94h] [ebp-D0h]
  int v40; // [esp+98h] [ebp-CCh]
  int v41; // [esp+9Ch] [ebp-C8h]
  int v42; // [esp+A0h] [ebp-C4h]
  int v43; // [esp+A4h] [ebp-C0h]
  int v44; // [esp+A8h] [ebp-BCh]
  int v45; // [esp+ACh] [ebp-B8h]
  int v46; // [esp+B0h] [ebp-B4h]
  int v47; // [esp+B4h] [ebp-B0h]
  int v48; // [esp+B8h] [ebp-ACh]
  int v49; // [esp+BCh] [ebp-A8h]
  int v50; // [esp+C0h] [ebp-A4h]
  int v51; // [esp+C4h] [ebp-A0h]
  int v52; // [esp+C8h] [ebp-9Ch]
  int v53; // [esp+CCh] [ebp-98h]
  int v54; // [esp+D0h] [ebp-94h]
  int v55; // [esp+D4h] [ebp-90h]
  int v56; // [esp+D8h] [ebp-8Ch]
  int v57[2]; // [esp+DCh] [ebp-88h] BYREF
  _BOOL1 v58; // [esp+E7h] [ebp-7Dh]
  int v59; // [esp+E8h] [ebp-7Ch]
  int v60; // [esp+ECh] [ebp-78h]
  int v61; // [esp+F0h] [ebp-74h]
  int v62[2]; // [esp+F4h] [ebp-70h] BYREF
  int v63; // [esp+FCh] [ebp-68h]
  int v64; // [esp+100h] [ebp-64h] BYREF
  int v65; // [esp+104h] [ebp-60h]
  double v66; // [esp+108h] [ebp-5Ch]
  double v67; // [esp+110h] [ebp-54h]
  _BOOL1 v68; // [esp+11Bh] [ebp-49h]
  int v69; // [esp+11Ch] [ebp-48h]
  int v70; // [esp+120h] [ebp-44h]
  int v71; // [esp+124h] [ebp-40h]
  int v72; // [esp+128h] [ebp-3Ch]
  int v73; // [esp+12Ch] [ebp-38h]
  int v74; // [esp+130h] [ebp-34h]
  int v75; // [esp+134h] [ebp-30h]
  int v76; // [esp+138h] [ebp-2Ch]
  int v77; // [esp+13Ch] [ebp-28h]
  double v78; // [esp+140h] [ebp-24h]
  double v79; // [esp+148h] [ebp-1Ch]
  int v80; // [esp+150h] [ebp-14h]
  int v81; // [esp+154h] [ebp-10h]
  int v82; // [esp+158h] [ebp-Ch]
  int v83; // [esp+15Ch] [ebp-8h]
  int v84; // [esp+160h] [ebp-4h]

  sub_4331CB((_DWORD *)a1);
  result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
  if ( result )
  {
    if ( *(_DWORD *)(a1 + 178) )
    {
      v84 = a1 + 264;
      qmemcpy(v22, (const void *)(a1 + 264), sizeof(v22));
      v81 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178));
      v82 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178));
      v83 = v81;
      v80 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
      if ( *(char *)(v80 + 4) >= 0 )
      {
        if ( (**(unsigned __int8 (__cdecl ***)(int))(a1 + 182))(a1 + 182) )
        {
          v3 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
          v69 = v3 + 64;
          v4 = *(_DWORD *)(v3 + 64) >= *(_DWORD *)(v3 + 72) || *(_DWORD *)(v69 + 4) >= *(_DWORD *)(v69 + 12);
          v68 = v4;
          if ( v4 )
          {
            v22[0] = 10;
            v22[1] = 10;
            v22[2] = (*(_DWORD *)(a1 + 272) - 10) / 2;
            v22[3] = *(_DWORD *)(a1 + 276) - 10;
          }
        }
        if ( (*(_BYTE *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 96) & 1) != 0
          || (v5 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178)),
              v5 > v22[2] - v22[0])
          || (v6 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178)),
              v6 > v22[3] - v22[1]) )
        {
          v7 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178));
          v67 = (long double)(v22[2] - v22[0]) / (long double)v7;
          v8 = (long double)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178));
          v66 = (long double)(v22[3] - v22[1]) / v8;
          if ( v67 <= (long double)v66 )
          {
            v82 = v22[2] - v22[0];
            v10 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178));
            v83 = (__int64)((long double)v10 * v67);
          }
          else
          {
            v9 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178));
            v82 = (__int64)((long double)v9 * v66);
            v83 = v22[3] - v22[1];
          }
        }
      }
      else if ( (*(_BYTE *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 96) & 1) != 0
             && ((*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178)) < *(_DWORD *)(a1 + 272)
              || (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178)) < *(_DWORD *)(a1 + 276)) )
      {
        v79 = (long double)*(int *)(a1 + 272)
            / (long double)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178));
        v78 = (long double)*(int *)(a1 + 276)
            / (long double)(*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178));
        if ( v79 <= (long double)v78 )
        {
          v73 = *(_DWORD *)(a1 + 276);
          v17 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178));
          v72 = (__int64)((long double)v17 * v78);
          v70 = v72;
          v71 = v73;
          v82 = v72;
          v83 = v73;
        }
        else
        {
          v16 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 8))(*(_DWORD *)(a1 + 178));
          v77 = (__int64)((long double)v16 * v79);
          v76 = *(_DWORD *)(a1 + 272);
          v74 = v76;
          v75 = v77;
          v82 = v76;
          v83 = v77;
        }
      }
      v63 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
      if ( *(char *)(v63 + 4) < 0
        && (*(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 56)
         || *(_DWORD *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 60)) )
      {
        v11 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
        v64 = *(_DWORD *)(v11 + 56);
        v65 = *(_DWORD *)(v11 + 60);
        v62[0] = 0;
        v62[1] = 0;
        v18 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(a1 + 178) + 5) + 4))(*(_DWORD *)(a1 + 178));
        sub_4050D1(&v64, (long double)v82 / (long double)v18, v62);
      }
      else
      {
        if ( (*(_BYTE *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 96) & 4) != 0 )
        {
          v64 = v22[0];
        }
        else if ( (*(_BYTE *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 96) & 8) != 0 )
        {
          v64 = v22[2] - v82;
        }
        else
        {
          v64 = v22[0] + (v22[2] - v22[0] - v82) / 2;
        }
        if ( (*(_BYTE *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 96) & 0x10) != 0 )
        {
          v65 = v22[1];
        }
        else if ( (*(_BYTE *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 96) & 0x20) != 0 )
        {
          v65 = v22[3] - v83;
        }
        else
        {
          v65 = v22[1] + (v22[3] - v22[1] - v83) / 2;
        }
      }
      v61 = v83;
      v60 = v82;
      v22[0] = v64;
      v22[1] = v65;
      v22[2] = v82 + v64;
      v22[3] = v83 + v65;
      sub_41DEBB(*(_DWORD *)(a1 + 178), v22);
    }
    if ( (**(unsigned __int8 (__cdecl ***)(int))(a1 + 182))(a1 + 182) )
    {
      v12 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
      v59 = v12 + 64;
      v13 = *(_DWORD *)(v12 + 64) >= *(_DWORD *)(v12 + 72) || *(_DWORD *)(v59 + 4) >= *(_DWORD *)(v59 + 12);
      v58 = v13;
      if ( v13 )
      {
        *(_DWORD *)(a1 + 296) = 10;
        *(_DWORD *)(a1 + 300) = 10;
        *(_DWORD *)(a1 + 304) = *(_DWORD *)(a1 + 272) - 10;
        *(_DWORD *)(a1 + 308) = *(_DWORD *)(a1 + 276) - 10;
        if ( *(_DWORD *)(a1 + 178) )
          *(_DWORD *)(a1 + 296) = (*(_DWORD *)(a1 + 272) + 10) / 2;
      }
      else
      {
        qmemcpy(
          (void *)(a1 + 296),
          (const void *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 64),
          0x10u);
        sub_433569(v57, a1);
        v14 = sub_43353D(a1);
        sub_405119((TRect *)(a1 + 296), v14, v57);
      }
      v56 = -10;
      v55 = -10;
      v54 = a1 + 296;
      v53 = *(_DWORD *)(a1 + 308) - 10;
      v52 = *(_DWORD *)(a1 + 304) - 10;
      v51 = *(_DWORD *)(a1 + 300) + 10;
      v50 = *(_DWORD *)(a1 + 296) + 10;
      v21[0] = v50;
      v21[1] = v51;
      v21[2] = v52;
      v21[3] = v53;
      qmemcpy((void *)(a1 + 312), v21, 0x10u);
      *(_DWORD *)(a1 + 324) -= (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA4 + 4) + 5) + 8))(*(_DWORD *)(dword_446AA4 + 4));
      v15 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA4 + 4) + 5) + 8))(*(_DWORD *)(dword_446AA4 + 4));
      v49 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA4 + 4) + 5) + 4))(*(_DWORD *)(dword_446AA4 + 4));
      v47 = v49;
      v48 = v15;
      v46 = *(_DWORD *)(a1 + 324);
      v45 = *(_DWORD *)(a1 + 312);
      v43 = v45;
      v44 = v46;
      v42 = v15 + v46;
      v41 = v49 + v45;
      v40 = v46;
      v39 = v45;
      v20[0] = v45;
      v20[1] = v46;
      v20[2] = v49 + v45;
      v20[3] = v15 + v46;
      qmemcpy((void *)(a1 + 344), v20, 0x10u);
      v38 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5) + 8))(*(_DWORD *)(dword_446AA8 + 4));
      v37 = (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5) + 4))(*(_DWORD *)(dword_446AA8 + 4));
      v35 = v37;
      v36 = v38;
      v34 = *(_DWORD *)(a1 + 324);
      v33 = *(_DWORD *)(a1 + 320)
          - (*(int (__cdecl **)(_DWORD))(*(_DWORD *)(*(_DWORD *)(dword_446AA8 + 4) + 5) + 4))(*(_DWORD *)(dword_446AA8 + 4));
      v31 = v33;
      v32 = v34;
      v30 = v36 + v34;
      v29 = v35 + v33;
      v28 = v34;
      v27 = v33;
      v19[0] = v33;
      v19[1] = v34;
      v19[2] = v35 + v33;
      v19[3] = v36 + v34;
      qmemcpy((void *)(a1 + 360), v19, 0x10u);
    }
    *a2 = 0;
    a2[1] = 0;
    a2[2] = 0;
    a2[3] = 0;
    result = *(_DWORD *)(a1 + 296) >= *(_DWORD *)(a1 + 304) || *(_DWORD *)(a1 + 300) >= *(_DWORD *)(a1 + 308);
    v26 = result;
    if ( !(_BYTE)result )
    {
      result = *a2 >= a2[2] || a2[1] >= a2[3];
      v25 = result;
      if ( (_BYTE)result )
        qmemcpy(a2, (const void *)(a1 + 296), 0x10u);
      else
        result = TRect::operator|=(a2, a1 + 296);
    }
    if ( *(_DWORD *)(a1 + 178) )
    {
      result = *(_DWORD *)(*(_DWORD *)(a1 + 178) + 13) >= *(_DWORD *)(*(_DWORD *)(a1 + 178) + 21)
            || *(_DWORD *)(*(_DWORD *)(a1 + 178) + 17) >= *(_DWORD *)(*(_DWORD *)(a1 + 178) + 25);
      v24 = result;
      if ( !(_BYTE)result )
      {
        result = *a2 >= a2[2] || a2[1] >= a2[3];
        v23 = result;
        if ( (_BYTE)result )
          qmemcpy(a2, (const void *)(*(_DWORD *)(a1 + 178) + 13), 0x10u);
        else
          return TRect::operator|=(a2, *(_DWORD *)(a1 + 178) + 13);
      }
    }
  }
  return result;
}
// 43911A: using guessed type int __cdecl TRect::operator|=(_DWORD, _DWORD);

//----- (00433F55) --------------------------------------------------------
int __cdecl sub_433F55(int a1)
{
  int result; // eax
  int *v2; // eax
  long double v3; // fst7
  int v4; // eax
  int v5[2]; // [esp+14h] [ebp-10h] BYREF
  int v6; // [esp+1Ch] [ebp-8h] BYREF
  int v7; // [esp+20h] [ebp-4h]

  result = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
  if ( result )
  {
    if ( *(_DWORD *)(a1 + 256) )
      (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 256) + 20))(*(_DWORD *)(a1 + 256));
    if ( *(_DWORD *)(a1 + 260) )
      (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 260) + 20))(*(_DWORD *)(a1 + 260));
    if ( *(_DWORD *)(a1 + 178) && *(char *)((*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1) + 4) < 0 )
    {
      v2 = (int *)(*(_DWORD *)(a1 + 178) + 13);
      v6 = *v2;
      v7 = v2[1];
      if ( v6 && v7 )
      {
        v5[0] = 0;
        v5[1] = 0;
        v3 = sub_43353D(a1);
        sub_40501D(&v6, v3, v5);
      }
      v4 = (*(int (__cdecl **)(int))(*(_DWORD *)(a1 + 8) + 124))(a1);
      *(_DWORD *)(v4 + 56) = v6;
      *(_DWORD *)(v4 + 60) = v7;
    }
    sub_42E2E6((_DWORD *)a1);
    if ( *(_DWORD *)(a1 + 170) )
      (*(void (__cdecl **)(_DWORD))(**(_DWORD **)(a1 + 170) + 48))(*(_DWORD *)(a1 + 170));
    *(_DWORD *)(a1 + 138) = 0;
    sub_435BC3(a1 + 384, 1, 0xFFFFFFFF, 0);
    *(_DWORD *)(a1 + 397) = 0;
    return 0;
  }
  return result;
}

//----- (00434070) --------------------------------------------------------
int __cdecl sub_434070(TWindow *a1, int a2, char a3)
{
  int v3; // edx
  _BOOL1 v5; // al
  char v6; // dl
  TPalette *v7; // ecx
  TPalette *v9; // edx
  TBitmap *v10; // edx
  TBitmap *v11; // edx
  HPALETTE *v12; // ebx
  TBitmap *v13; // eax
  string *v14; // edi
  int v15; // eax
  int v16; // edx
  int v17; // eax
  _DWORD *v18; // ecx
  _DWORD *v19; // ecx
  int v20; // eax
  unsigned int v21; // esi
  unsigned int v22; // esi
  unsigned int v23; // esi
  unsigned int v24; // esi
  int v25; // [esp+4h] [ebp-1E0h]
  int v26; // [esp+4h] [ebp-1E0h]
  int v27; // [esp+4h] [ebp-1E0h]
  int v28; // [esp+4h] [ebp-1E0h]
  bool v29; // [esp+Ch] [ebp-1D8h]
  bool v30; // [esp+Ch] [ebp-1D8h]
  const CHAR *v31; // [esp+Ch] [ebp-1D8h]
  const CHAR *v32; // [esp+Ch] [ebp-1D8h]
  int v33; // [esp+1Ch] [ebp-1C8h]
  unsigned int v34; // [esp+20h] [ebp-1C4h]
  unsigned int v35; // [esp+28h] [ebp-1BCh]
  int v36; // [esp+2Ch] [ebp-1B8h]
  unsigned int v37; // [esp+30h] [ebp-1B4h]
  unsigned int v38; // [esp+38h] [ebp-1ACh]
  int v39; // [esp+3Ch] [ebp-1A8h]
  unsigned int v40; // [esp+40h] [ebp-1A4h]
  unsigned int v41; // [esp+48h] [ebp-19Ch]
  int v42; // [esp+4Ch] [ebp-198h]
  unsigned int v43; // [esp+50h] [ebp-194h]
  unsigned int v44; // [esp+58h] [ebp-18Ch]
  RECT Rect; // [esp+5Ch] [ebp-188h] BYREF
  int v46; // [esp+6Ch] [ebp-178h]
  int v47; // [esp+70h] [ebp-174h]
  int v48; // [esp+74h] [ebp-170h]
  int v49; // [esp+78h] [ebp-16Ch]
  int v50; // [esp+7Ch] [ebp-168h]
  int v51; // [esp+80h] [ebp-164h]
  UINT uElapse; // [esp+84h] [ebp-160h]
  _DWORD *v53; // [esp+88h] [ebp-15Ch]
  int v54; // [esp+8Ch] [ebp-158h]
  int v55; // [esp+90h] [ebp-154h]
  int v56; // [esp+94h] [ebp-150h]
  int v57; // [esp+98h] [ebp-14Ch]
  int v58; // [esp+9Ch] [ebp-148h]
  int v59; // [esp+A0h] [ebp-144h]
  int v60; // [esp+A4h] [ebp-140h]
  int v61; // [esp+A8h] [ebp-13Ch]
  int v62; // [esp+ACh] [ebp-138h]
  char *v63; // [esp+B0h] [ebp-134h]
  int v64; // [esp+B4h] [ebp-130h]
  int v65; // [esp+B8h] [ebp-12Ch]
  int v66; // [esp+BCh] [ebp-128h]
  string *v67; // [esp+C0h] [ebp-124h]
  int v68; // [esp+C4h] [ebp-120h]
  string *v69; // [esp+C8h] [ebp-11Ch]
  int v70; // [esp+D0h] [ebp-114h]
  int v71; // [esp+D4h] [ebp-110h]
  int v72; // [esp+D8h] [ebp-10Ch]
  int v73; // [esp+DCh] [ebp-108h]
  int v74; // [esp+E0h] [ebp-104h]
  int v75; // [esp+E4h] [ebp-100h]
  int v76; // [esp+E8h] [ebp-FCh]
  int v77; // [esp+ECh] [ebp-F8h]
  int v78; // [esp+F0h] [ebp-F4h]
  int v79; // [esp+F4h] [ebp-F0h]
  int v80; // [esp+FCh] [ebp-E8h]
  string *v81; // [esp+100h] [ebp-E4h]
  int v82; // [esp+104h] [ebp-E0h]
  string *v83; // [esp+108h] [ebp-DCh]
  int v84; // [esp+10Ch] [ebp-D8h]
  HPALETTE *v85; // [esp+110h] [ebp-D4h]
  char v86; // [esp+117h] [ebp-CDh]
  int v87; // [esp+118h] [ebp-CCh]
  _DWORD *v88; // [esp+11Ch] [ebp-C8h]
  _BOOL1 v89; // [esp+123h] [ebp-C1h]
  _DWORD v90[4]; // [esp+124h] [ebp-C0h] BYREF
  __int16 v91; // [esp+134h] [ebp-B0h]
  int v92; // [esp+140h] [ebp-A4h]
  char v93[4]; // [esp+148h] [ebp-9Ch] BYREF
  char v94[4]; // [esp+14Ch] [ebp-98h] BYREF
  char v95[4]; // [esp+158h] [ebp-8Ch] BYREF
  char v96[4]; // [esp+15Ch] [ebp-88h] BYREF
  TGdiObject *v97; // [esp+168h] [ebp-7Ch]
  TGdiObject *v98; // [esp+16Ch] [ebp-78h]
  char v99[4]; // [esp+170h] [ebp-74h] BYREF
  char v100[4]; // [esp+174h] [ebp-70h] BYREF
  char v101[4]; // [esp+178h] [ebp-6Ch] BYREF
  char v102[4]; // [esp+17Ch] [ebp-68h] BYREF
  char v103[4]; // [esp+188h] [ebp-5Ch] BYREF
  char v104[4]; // [esp+18Ch] [ebp-58h] BYREF
  _DWORD *v105; // [esp+198h] [ebp-4Ch]
  _DWORD *v106; // [esp+19Ch] [ebp-48h]
  int v107; // [esp+1A0h] [ebp-44h]
  int v108; // [esp+1A4h] [ebp-40h]
  int v109; // [esp+1A8h] [ebp-3Ch] BYREF
  TBitmap *v110; // [esp+1B0h] [ebp-34h]
  TBitmap *v111; // [esp+1B4h] [ebp-30h]
  TBitmap *v112; // [esp+1B8h] [ebp-2Ch]
  int v113; // [esp+1BCh] [ebp-28h]
  TGdiObject *v114; // [esp+1C0h] [ebp-24h]
  TPalette *v115; // [esp+1C4h] [ebp-20h]
  TGdiObject *v116; // [esp+1C8h] [ebp-1Ch]
  char v117[4]; // [esp+1CCh] [ebp-18h] BYREF
  char v118[4]; // [esp+1D0h] [ebp-14h] BYREF
  char v119[4]; // [esp+1D4h] [ebp-10h] BYREF
  TPalette *v120; // [esp+1D8h] [ebp-Ch]
  void (__cdecl ***v121)(_DWORD, int); // [esp+1DCh] [ebp-8h]

  __InitExceptBlockLDTC();
  if ( !a2 )
    return v3;
  v5 = *((_DWORD *)a1 + 66) >= *((_DWORD *)a1 + 68) || *((_DWORD *)a1 + 67) >= *((_DWORD *)a1 + 69);
  v89 = v5;
  if ( v5 )
    sub_4334A6(a1);
  *((_BYTE *)a1 + 421) = 1;
  TWindow::SetCursor(a1, dword_44ECF1, 98);
  if ( *((_DWORD *)a1 + 63) && (*(_BYTE *)(a2 + 4) & 1) == 0 )
  {
    v121 = (void (__cdecl ***)(_DWORD, int))*((_DWORD *)a1 + 63);
    if ( v121 )
    {
      v91 = 20;
      (**v121)(v121, 3);
      v91 = 8;
    }
    *((_DWORD *)a1 + 63) = 0;
  }
  v88 = (_DWORD *)(*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  v87 = 0;
  (*(void (__cdecl **)(TWindow *, int))(*((_DWORD *)a1 + 2) + 128))(a1, a2);
  v86 = 0;
  v85 = (HPALETTE *)dword_44EC54;
  if ( dword_44EC50 )
    v6 = *((_BYTE *)dword_44EC50 + 5);
  else
    v6 = 0;
  if ( v6 && dword_44EC60 )
  {
    v120 = (TPalette *)operator new(5u);
    if ( v120 )
    {
      v91 = 44;
      TPalette::TPalette(v120, *(const tagPALETTEENTRY **)(dword_44EC60 + 4), *(unsigned __int16 *)(dword_44EC60 + 8));
      v91 = 32;
      v7 = v120;
    }
    else
    {
      v7 = 0;
    }
    dword_44EC54 = v7;
    v84 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(*(_DWORD *)(v84 + 36) + 6)
      && (v83 = (string *)(v84 + 36),
          v91 = 56,
          string::string((string *)v119, aSystem_0),
          v29 = string::compare((string *)(v84 + 36), (const string *)v119) == 0,
          string::~string((string *)v119),
          !v29) )
    {
      v82 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      v81 = (string *)(v82 + 36);
      v91 = 68;
      string::string((string *)v118, aSystem_1);
      v30 = string::compare((string *)(v82 + 36), (const string *)v118) == 0;
      string::~string((string *)v118);
      if ( v30 )
      {
        sub_41CC49(dword_44EC60, (HGDIOBJ *)dword_44EC50);
        v116 = dword_44EC54;
        if ( dword_44EC54 )
        {
          ++v92;
          TGdiObject::~TGdiObject(v116);
          operator delete(v116);
          v91 = 104;
        }
        dword_44EC54 = 0;
      }
      else
      {
        v91 = 92;
        v31 = *(const CHAR **)(dword_44EC20 + 2);
        v80 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
        sub_40411C((string *)v117, v80 + 36, v31);
        ++v92;
        v91 = 80;
        v86 = sub_41CCDD(dword_44EC60, (int)v117);
        if ( dword_44EC54 )
          sub_41CC29(dword_44EC60, (HPALETTE *)dword_44EC54);
        v86 = 1;
        --v92;
        string::~string((string *)v117);
      }
    }
    else if ( !dword_44EC54 )
    {
      v115 = (TPalette *)operator new(5u);
      if ( v115 )
      {
        v91 = 140;
        TPalette::TPalette(v115, *(const tagPALETTEENTRY **)(dword_44EC60 + 4), *(unsigned __int16 *)(dword_44EC60 + 8));
        v91 = 128;
        v9 = v115;
      }
      else
      {
        v9 = 0;
      }
      dword_44EC54 = v9;
    }
  }
  else
  {
    v114 = dword_44EC54;
    if ( dword_44EC54 )
    {
      ++v92;
      TGdiObject::~TGdiObject(v114);
      operator delete(v114);
      v91 = 152;
    }
    dword_44EC54 = 0;
  }
  if ( a3 || !v88 || *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20) != v88[5] )
  {
    v87 |= 1u;
    v113 = *(_DWORD *)((char *)a1 + 174);
    if ( v113 )
    {
      v91 = 188;
      (**(void (__cdecl ***)(int, int))(v113 + 5))(v113, 3);
      v91 = 176;
    }
    *(_DWORD *)((char *)a1 + 174) = 0;
    if ( (byte_44EC4C & 0x20) != 0 && *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20) )
    {
      v91 = 200;
      if ( dword_44EC54 && v86 )
      {
        v112 = (TBitmap *)operator new(0xDu);
        if ( v112 )
        {
          v91 = 224;
          v79 = (int)dword_44EC54;
          v78 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20) + 100;
          v77 = v78;
          v76 = *(_DWORD *)(dword_44ECF1 + 8);
          sub_41D4F4(v112, v76, v78, (const TPalette *)v79);
          v92 += 3;
          *(_DWORD *)((char *)v112 + 5) = &off_44CFF4;
          v91 = 212;
          v10 = v112;
        }
        else
        {
          v10 = 0;
        }
        *(_DWORD *)((char *)a1 + 174) = v10;
      }
      else if ( dword_44EC54 )
      {
        v111 = (TBitmap *)operator new(0xDu);
        if ( v111 )
        {
          v91 = 248;
          v75 = (int)dword_44EC54;
          v74 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20) + 100;
          v73 = v74;
          v72 = *(_DWORD *)(dword_44ECF1 + 8);
          sub_41D6AE(v111, v72, v74, (HPALETTE *)v75, 0, 0x10u);
          v92 += 3;
          *(_DWORD *)((char *)v111 + 5) = &off_44CFF4;
          v91 = 236;
          v11 = v111;
        }
        else
        {
          v11 = 0;
        }
        *(_DWORD *)((char *)a1 + 174) = v11;
      }
      else
      {
        v110 = (TBitmap *)operator new(0xDu);
        if ( v110 )
        {
          v91 = 272;
          v12 = (HPALETTE *)dword_44EC50;
          v71 = *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 20) + 100;
          sub_41D6AE(v110, *(_DWORD *)(dword_44ECF1 + 8), v71, v12, 0, 0x10u);
          v92 += 3;
          *(_DWORD *)((char *)v110 + 5) = &off_44CFF4;
          v91 = 260;
          v13 = v110;
        }
        else
        {
          v13 = 0;
        }
        *(_DWORD *)((char *)a1 + 174) = v13;
      }
      v91 = 0;
    }
  }
  if ( a3
    || !v88
    || (v14 = (string *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 52),
        string::compare(v14, (const string *)(v88 + 13))) )
  {
    v87 |= 2u;
    if ( *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 52) + 6) )
    {
      v91 = 320;
      v32 = *(const CHAR **)(dword_44EC30 + 2);
      v70 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      sub_40411C((string *)&v109, v70 + 52, v32);
      ++v92;
      v91 = 308;
      v15 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      if ( !(unsigned __int8)sub_41F6AE((int)a1 + 182, (int)&v109, *(_DWORD *)(v15 + 100)) )
        sub_404F9C(0x67u, *(_DWORD *)(v109 + 2));
      --v92;
      string::~string((string *)&v109);
    }
    else
    {
      sub_421AAF((int)a1 + 182);
    }
  }
  if ( a3
    || !v88
    || (v69 = (string *)(v88 + 12),
        v68 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1),
        v67 = (string *)(v68 + 48),
        string::compare((string *)(v68 + 48), (const string *)(v88 + 12))) )
  {
    v108 = *(_DWORD *)((char *)a1 + 178);
    if ( v108 )
    {
      v91 = 344;
      (**(void (__cdecl ***)(int, int))(v108 + 5))(v108, 3);
      v91 = 332;
    }
    *(_DWORD *)((char *)a1 + 178) = 0;
    v66 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    if ( *(_DWORD *)(*(_DWORD *)(v66 + 48) + 6) )
    {
      v65 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      *(_DWORD *)((char *)a1 + 178) = sub_42CC94(v65 + 48, v86);
    }
  }
  v64 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
  if ( (*(_BYTE *)(v64 + 4) & 1) != 0
    && *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 149) )
  {
    if ( !*((_DWORD *)a1 + 63) )
    {
      v107 = operator new(0x11u);
      if ( v107 )
      {
        sub_42D422(v107, (int)a1);
        v91 = 356;
        v16 = v107;
      }
      else
      {
        v16 = 0;
      }
      *((_DWORD *)a1 + 63) = v16;
    }
    v17 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    sub_42D4D8(*((_DWORD *)a1 + 63), *(_DWORD *)(*(_DWORD *)(v17 + 149) + 8));
    sub_42D858(*((_DWORD *)a1 + 63), (byte_44EC4D & 1) != 0);
  }
  v63 = (char *)a1 + 328;
  qmemcpy(&Rect, (char *)a1 + 328, sizeof(Rect));
  sub_4335A4((int)a1, (_DWORD *)a1 + 82);
  if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
  {
    if ( *(_DWORD *)((char *)a1 + 178) )
    {
      v62 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      if ( (*(_BYTE *)(v62 + 4) & 4) != 0 )
      {
        v106 = (_DWORD *)operator new(0x55u);
        if ( v106 )
        {
          v91 = 392;
          sub_41930A(v106, (int)a1, *(_DWORD *)((char *)a1 + 178));
          v91 = 380;
          v18 = v106;
        }
        else
        {
          v18 = 0;
        }
        *((_DWORD *)a1 + 64) = v18;
        sub_419256(*((_DWORD **)a1 + 64), (byte_44EC4C & 0x40) != 0, (int)sub_42E9EB);
      }
    }
    if ( *(_DWORD *)((char *)a1 + 178) )
    {
      v61 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
      if ( *(char *)(v61 + 4) < 0
        || (v60 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1), (*(_BYTE *)(v60 + 4) & 4) != 0) )
      {
        v105 = (_DWORD *)operator new(0x28u);
        if ( v105 )
        {
          v91 = 416;
          sub_41A04F(v105, (int)a1, *(_DWORD *)((char *)a1 + 178));
          v91 = 404;
          v19 = v105;
        }
        else
        {
          v19 = 0;
        }
        *((_DWORD *)a1 + 65) = v19;
        sub_419256(*((_DWORD **)a1 + 65), byte_44EC4C < 0, (int)sub_42E9EB);
      }
    }
  }
  if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
  {
    v20 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1);
    v59 = v20 + 104;
    v58 = v20 + 108;
    v42 = v20 + 108;
    v57 = (**(int (__cdecl ***)(int))(v20 + 109))(v20 + 108);
    v43 = 0;
    v44 = v57;
    while ( v43 < v44 )
    {
      v21 = v43;
      if ( !*(_DWORD *)(v42 + 9) || !*(_DWORD *)(v42 + 5) || v43 >= *(_DWORD *)(v42 + 9) )
      {
        xerror::MakeString((xerror *)v104, aPrecondition_117, aLim0Data0Index_25, aCBc5IncludeCla_39, 0x33Au);
        ++v92;
        xmsg::xmsg((xmsg *)v103, (const string *)v104);
        ++v92;
        v91 = 452;
        --v92;
        string::~string((string *)v104);
        v91 = 428;
        v92 += 2;
        v92 += 3;
        _ThrowExceptionLDTC(stru_403B88, v103, 0, sub_403BE0, 1u, 0, 0, 0, v90);
      }
      ++v43;
      v25 = *(_DWORD *)(4 * v21 + *(_DWORD *)(v42 + 5));
      (*(void (__cdecl **)(int, TWindow *, int))(*(_DWORD *)v25 + 8))(v25, a1, 2);
    }
  }
  if ( *((_DWORD *)a1 + 63) && *(_DWORD *)(*((_DWORD *)a1 + 63) + 8) )
  {
    v56 = *(_DWORD *)(*((_DWORD *)a1 + 63) + 8) + 104;
    v55 = v56 + 4;
    v39 = v56 + 4;
    v54 = (**(int (__cdecl ***)(int))(v56 + 5))(v56 + 4);
    v40 = 0;
    v41 = v54;
    while ( v40 < v41 )
    {
      v22 = v40;
      if ( !*(_DWORD *)(v39 + 9) || !*(_DWORD *)(v39 + 5) || v40 >= *(_DWORD *)(v39 + 9) )
      {
        xerror::MakeString((xerror *)v102, aPrecondition_119, aLim0Data0Index_26, aCBc5IncludeCla_41, 0x33Au);
        ++v92;
        xmsg::xmsg((xmsg *)v101, (const string *)v102);
        ++v92;
        v91 = 488;
        --v92;
        string::~string((string *)v102);
        v91 = 464;
        v92 += 2;
        v92 += 3;
        _ThrowExceptionLDTC(stru_403B88, v101, 0, sub_403BE0, 1u, 0, 0, 0, v90);
      }
      ++v40;
      v26 = *(_DWORD *)(4 * v22 + *(_DWORD *)(v39 + 5));
      (*(void (__cdecl **)(int, TWindow *, int))(*(_DWORD *)v26 + 8))(v26, a1, 2);
    }
  }
  if ( (v87 & 1) != 0 || a3 )
  {
    qmemcpy(&Rect, (char *)a1 + 264, sizeof(Rect));
  }
  else
  {
    TRect::operator|=(&Rect, (char *)a1 + 328);
    TRect::operator&=(&Rect, (char *)a1 + 264);
  }
  if ( !*((_DWORD *)a1 + 3) )
  {
    v91 = 500;
    xerror::MakeString((xerror *)v100, aPrecondition_120, aGethandle_54, aCBc5IncludeOwl_58, 0x773u);
    ++v92;
    xmsg::xmsg((xmsg *)v99, (const string *)v100);
    ++v92;
    v91 = 512;
    --v92;
    string::~string((string *)v100);
    v91 = 500;
    v92 += 2;
    v92 += 3;
    _ThrowExceptionLDTC(stru_403B88, v99, 0, sub_403BE0, 1u, 0, 0, 0, v90);
  }
  InvalidateRect(*((HWND *)a1 + 3), &Rect, 0);
  *((_BYTE *)a1 + 421) = 0;
  if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
  {
    TWindow::HandleMessage(a1, dword_446A8C, 0xCu, 0);
    TWindow::HandleMessage(a1, dword_446A8C, 0xBu, 0);
    if ( *(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 145) )
    {
      v53 = (_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 145);
      if ( (*(unsigned __int8 (__cdecl **)(_DWORD))(*(_DWORD *)(*v53 + 33) + 8))(*v53) )
      {
        uElapse = *(_DWORD *)(*(_DWORD *)((*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 145) + 37);
        *((_DWORD *)a1 + 94) = SetTimer(*((HWND *)a1 + 3), 1u, uElapse, 0);
      }
    }
    TWindow::HandleMessage(a1, dword_446A8C, 9u, 0);
  }
  if ( v85 )
  {
    if ( dword_44EC54 )
    {
      sub_41CC49(dword_44EC60, (HGDIOBJ *)dword_44EC54);
      v98 = dword_44EC54;
      if ( dword_44EC54 )
      {
        v91 = 536;
        v92 += 2;
        --v92;
        TGdiObject::~TGdiObject(v98);
        operator delete(v98);
        v91 = 524;
      }
      dword_44EC54 = (TPalette *)v85;
      sub_41CC29(dword_44EC60, v85);
    }
    else
    {
      v97 = (TGdiObject *)v85;
      v91 = 560;
      v92 += 2;
      --v92;
      TGdiObject::~TGdiObject(v97);
      operator delete(v97);
      v91 = 548;
      v85 = 0;
    }
  }
  TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
  if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
  {
    v51 = (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) + 104;
    v50 = v51 + 4;
    v36 = v51 + 4;
    v49 = (**(int (__cdecl ***)(int))(v51 + 5))(v51 + 4);
    v37 = 0;
    v38 = v49;
    while ( v37 < v38 )
    {
      v23 = v37;
      if ( !*(_DWORD *)(v36 + 9) || !*(_DWORD *)(v36 + 5) || v37 >= *(_DWORD *)(v36 + 9) )
      {
        xerror::MakeString((xerror *)v96, aPrecondition_122, aLim0Data0Index_27, aCBc5IncludeCla_43, 0x33Au);
        ++v92;
        xmsg::xmsg((xmsg *)v95, (const string *)v96);
        ++v92;
        v91 = 596;
        --v92;
        string::~string((string *)v96);
        v91 = 572;
        v92 += 2;
        v92 += 3;
        _ThrowExceptionLDTC(stru_403B88, v95, 0, sub_403BE0, 1u, 0, 0, 0, v90);
      }
      ++v37;
      v27 = *(_DWORD *)(4 * v23 + *(_DWORD *)(v36 + 5));
      (*(void (__cdecl **)(int, TWindow *, int))(*(_DWORD *)v27 + 8))(v27, a1, 3);
    }
  }
  if ( *((_DWORD *)a1 + 63) && *(_DWORD *)(*((_DWORD *)a1 + 63) + 8) )
  {
    v48 = *(_DWORD *)(*((_DWORD *)a1 + 63) + 8) + 104;
    v47 = v48 + 4;
    v33 = v48 + 4;
    v46 = (**(int (__cdecl ***)(int))(v48 + 5))(v48 + 4);
    v34 = 0;
    v35 = v46;
    while ( v34 < v35 )
    {
      v24 = v34;
      if ( !*(_DWORD *)(v33 + 9) || !*(_DWORD *)(v33 + 5) || v34 >= *(_DWORD *)(v33 + 9) )
      {
        xerror::MakeString((xerror *)v94, aPrecondition_124, aLim0Data0Index_28, aCBc5IncludeCla_45, 0x33Au);
        ++v92;
        xmsg::xmsg((xmsg *)v93, (const string *)v94);
        ++v92;
        v91 = 632;
        --v92;
        string::~string((string *)v94);
        v91 = 608;
        v92 += 2;
        v92 += 3;
        _ThrowExceptionLDTC(stru_403B88, v93, 0, sub_403BE0, 1u, 0, 0, 0, v90);
      }
      ++v34;
      v28 = *(_DWORD *)(4 * v24 + *(_DWORD *)(v33 + 5));
      (*(void (__cdecl **)(int, TWindow *, int))(*(_DWORD *)v28 + 8))(v28, a1, 3);
    }
  }
  sub_433107((int)a1);
  return TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
}
// 4352EB: conditional instruction was optimized away because %var_D4.4!=0
// 43409A: variable 'v3' is possibly undefined
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4390B4: using guessed type int __cdecl TRect::operator&=(_DWORD, _DWORD);
// 43911A: using guessed type int __cdecl TRect::operator|=(_DWORD, _DWORD);
// 439468: using guessed type int __cdecl TWindow::SetCursor(_DWORD, _DWORD, _DWORD);
// 44CFF4: using guessed type int (__cdecl *off_44CFF4)(TBitmap *, char);
// 44EC20: using guessed type int dword_44EC20;
// 44EC30: using guessed type int dword_44EC30;
// 44EC4C: using guessed type char byte_44EC4C;
// 44EC4D: using guessed type char byte_44EC4D;
// 44EC60: using guessed type int dword_44EC60;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (004357CF) --------------------------------------------------------
int __cdecl sub_4357CF(TWindow *a1)
{
  int v1; // esi
  int v2; // edi

  if ( (*(unsigned __int8 (__cdecl **)(int *))(dword_44EC9D + 4))(&dword_44EC70) )
  {
    if ( (*(int (__cdecl **)(TWindow *))(*((_DWORD *)a1 + 2) + 124))(a1) )
    {
      sub_42EC92(a1, 1);
    }
    else
    {
      v1 = *(_DWORD *)arglist;
      v2 = *(_DWORD *)arglist;
      if ( *(int *)arglist < 1 || v2 > (*(int (__cdecl **)(void *))(dword_44EC75 + 4))(&unk_44EC74) )
        v1 = 1;
      sub_4268F8(a1, v1, 0, 1);
    }
  }
  else
  {
    sub_434070(a1, 0, 1);
  }
  return TMsgThread::PumpWaitingMessages((TMsgThread *)(*((_DWORD *)a1 + 26) + 25));
}
// 44EC70: using guessed type int dword_44EC70;
// 44EC75: using guessed type int dword_44EC75;
// 44EC9D: using guessed type int dword_44EC9D;

//----- (00435863) --------------------------------------------------------
UINT sub_435863()
{
  UINT result; // eax

  dword_44A5E8 = RegisterWindowMessageA(aWmVncommand);
  dword_44A600 = RegisterWindowMessageA(aWmScroll);
  dword_44A618 = RegisterWindowMessageA(aWmZoom);
  result = RegisterWindowMessageA(aWmFullscreen);
  dword_44A630 = result;
  return result;
}
// 44A5E8: using guessed type int dword_44A5E8;
// 44A600: using guessed type int dword_44A600;
// 44A618: using guessed type int dword_44A618;
// 44A630: using guessed type int dword_44A630;

//----- (004358A4) --------------------------------------------------------
_DWORD *__cdecl sub_4358A4(_DWORD *a1)
{
  __InitExceptBlockLDTC();
  *a1 = 0;
  return a1;
}

//----- (0043591A) --------------------------------------------------------
char sub_43591A()
{
  return 1;
}

//----- (004359A0) --------------------------------------------------------
int __cdecl sub_4359A0(int a1, unsigned int a2, int a3)
{
  unsigned int i; // eax
  void (__cdecl ***v5)(_DWORD, int); // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  if ( a2 >= *(_DWORD *)(a1 + 9) )
    return 0;
  if ( a3 )
  {
    v5 = *(void (__cdecl ****)(_DWORD, int))(*(_DWORD *)(a1 + 5) + 4 * a2);
    if ( v5 )
      (**v5)(v5, 3);
  }
  if ( a2 < *(_DWORD *)(a1 + 13) )
  {
    --*(_DWORD *)(a1 + 13);
    for ( i = a2; i < *(_DWORD *)(a1 + 13); ++i )
      *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i) = *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * (i + 1));
    (*(void (__cdecl **)(int, _DWORD, int))(*(_DWORD *)(a1 + 1) + 12))(
      a1,
      *(_DWORD *)(a1 + 13),
      *(_DWORD *)(a1 + 13) + 1);
    return 1;
  }
  else
  {
    (*(void (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, a2, a2 + 1);
    return 1;
  }
}

//----- (00435A6A) --------------------------------------------------------
int __cdecl sub_435A6A(int a1, int a2)
{
  unsigned int v2; // esi
  int v4; // eax
  _BYTE v5[16]; // [esp+Ch] [ebp-2Ch] BYREF
  __int16 v6; // [esp+1Ch] [ebp-1Ch]
  int v7; // [esp+28h] [ebp-10h]
  _BYTE v8[4]; // [esp+30h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+34h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  while ( *(_DWORD *)(a1 + 13) < *(_DWORD *)(a1 + 9) )
  {
    v2 = *(_DWORD *)(a1 + 13);
    if ( *(_DWORD *)(a1 + 9) && (!*(_DWORD *)(a1 + 5) || v2 >= *(_DWORD *)(a1 + 9)) )
    {
      xerror::MakeString((xerror *)v9, aPrecondition_125, aLim0Data0Index_29, aCBc5IncludeCla_46, 0x334u);
      ++v7;
      xmsg::xmsg((xmsg *)v8, (const string *)v9);
      ++v7;
      v6 = 12;
      --v7;
      string::~string((string *)v9);
      v7 += 2;
      v7 += 3;
      _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v5);
    }
    if ( !*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v2) )
      break;
    ++*(_DWORD *)(a1 + 13);
  }
  if ( *(_DWORD *)(a1 + 13) >= *(_DWORD *)(a1 + 9) && !sub_406954(a1, *(_DWORD *)(a1 + 13) + 1, 0) )
    return 0;
  v4 = *(_DWORD *)(a1 + 13);
  *(_DWORD *)(a1 + 13) = v4 + 1;
  *(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * v4) = a2;
  return 1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00435B80) --------------------------------------------------------
int __cdecl sub_435B80(int (__cdecl ***a1)(_DWORD, int))
{
  int result; // eax

  result = __InitExceptBlockLDTC();
  if ( a1 )
    return (**a1)(a1, 3);
  return result;
}

//----- (00435BC3) --------------------------------------------------------
int __cdecl sub_435BC3(int a1, int a2, unsigned int a3, unsigned int a4)
{
  unsigned int v4; // esi
  unsigned int *v5; // ecx
  unsigned int v7; // [esp+8h] [ebp-4h] BYREF

  v4 = a4;
  v7 = *(_DWORD *)(a1 + 9);
  if ( a3 >= v7 )
    v5 = &v7;
  else
    v5 = &a3;
  a3 = *v5;
  if ( a2 )
    sub_435C17(a1, (int (__cdecl *)(_DWORD, int))sub_435B80, 0, a4, a3);
  return (*(int (__cdecl **)(int, unsigned int, unsigned int))(*(_DWORD *)(a1 + 1) + 12))(a1, v4, a3);
}

//----- (00435C17) --------------------------------------------------------
int __cdecl sub_435C17(int a1, int (__cdecl *a2)(_DWORD, int), int a3, unsigned int a4, unsigned int a5)
{
  unsigned int i; // ebx
  int result; // eax

  for ( i = a4; a5 > i; ++i )
  {
    result = *(_DWORD *)(a1 + 5);
    if ( *(_DWORD *)(result + 4 * i) )
      result = a2(*(_DWORD *)(*(_DWORD *)(a1 + 5) + 4 * i), a3);
  }
  return result;
}

//----- (00435C4C) --------------------------------------------------------
unsigned int __cdecl sub_435C4C(int a1, unsigned int a2, unsigned int a3)
{
  unsigned int result; // eax
  int *v4; // edx
  unsigned int v5; // [esp+8h] [ebp-4h] BYREF

  for ( result = a2; ; ++result )
  {
    v5 = *(_DWORD *)(a1 + 9);
    v4 = (int *)(v5 >= a3 ? &a3 : &v5);
    if ( result >= *v4 )
      break;
    *(_DWORD *)(4 * result + *(_DWORD *)(a1 + 5)) = 0;
  }
  return result;
}

//----- (00435C88) --------------------------------------------------------
_DWORD *__cdecl sub_435C88(_DWORD *a1, int a2)
{
  int v2; // eax
  _DWORD v4[4]; // [esp+0h] [ebp-30h] BYREF
  __int16 v5; // [esp+10h] [ebp-20h]
  int v6; // [esp+1Ch] [ebp-14h]
  void *v7; // [esp+24h] [ebp-Ch]
  _BYTE v8[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v9[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v5 = 8;
  a1[1] = -1;
  a1[2] = 0;
  a1[3] = a2;
  if ( !a1[3] )
  {
    v5 = 20;
    xerror::MakeString((xerror *)v9, aPrecondition_126, aSize0, aHistqueuH, 0x33u);
    ++v6;
    xmsg::xmsg((xmsg *)v8, (const string *)v9);
    ++v6;
    v5 = 32;
    --v6;
    string::~string((string *)v9);
    v5 = 20;
    v6 += 2;
    v6 += 3;
    _ThrowExceptionLDTC(stru_403B88, v8, 0, sub_403BE0, 1u, 0, 0, 0, v4);
  }
  v7 = (void *)operator new[](8 * a1[3] + 4);
  if ( v7 )
  {
    v5 = 56;
    v2 = _vector_new_ldtc_(v7, 8u, a1[3], 0x211u, sub_435DAF, 1u, sub_42A738);
    v5 = 44;
  }
  else
  {
    v2 = 0;
  }
  *a1 = v2;
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00435DAF) --------------------------------------------------------
string *__cdecl sub_435DAF(string *a1)
{
  __InitExceptBlockLDTC();
  string::string(a1, &byte_44CFAF);
  *((_DWORD *)a1 + 1) = -1;
  return a1;
}

//----- (00435E38) --------------------------------------------------------
void __cdecl sub_435E38(void **a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    _vector_delete_ldtc_(*a1, 8u, 0, 0x19u, sub_42A738);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00435E93) --------------------------------------------------------
unsigned int __cdecl sub_435E93(int a1, unsigned int a2)
{
  unsigned int result; // eax
  void *v3; // eax
  int v4; // edi
  int i; // ebx

  result = __InitExceptBlockLDTC();
  if ( a2 > *(_DWORD *)(a1 + 12) )
  {
    v3 = (void *)operator new[](8 * a2 + 4);
    if ( v3 )
      v4 = _vector_new_ldtc_(v3, 8u, a2, 0x211u, sub_435DAF, 1u, sub_42A738);
    else
      v4 = 0;
    for ( i = 0; i < *(_DWORD *)(a1 + 8); ++i )
      sub_42D23A((string *)(v4 + 8 * i), (string *)(*(_DWORD *)a1 + 8 * i));
    _vector_delete_ldtc_(*(void **)a1, 8u, 0, 0x19u, sub_42A738);
    *(_DWORD *)a1 = v4;
    *(_DWORD *)(a1 + 12) = a2;
    return a2;
  }
  return result;
}

//----- (00435F60) --------------------------------------------------------
int __cdecl sub_435F60(int a1)
{
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 4) = -1;
  return a1;
}

//----- (00435F74) --------------------------------------------------------
string *__cdecl sub_435F74(_DWORD *a1, string *a2)
{
  string *v2; // edi
  char v3; // dl
  string *result; // eax
  string *v5; // edi
  _BOOL1 v6; // dl
  int i; // esi

  if ( a1[1] == -1
    || ((v2 = (string *)(*a1 + 8 * a1[1]), v2 == a2)
     || *((_DWORD *)v2 + 1) == *((_DWORD *)a2 + 1) && !string::compare(v2, a2)
      ? (v3 = 1)
      : (v3 = 0),
        result = (string *)(v3 == 0),
        !v3) )
  {
    if ( a1[1] + 1 >= a1[3] )
    {
      for ( i = 0; i < a1[3] - 1; ++i )
        sub_42D23A((string *)(*a1 + 8 * i), (string *)(*a1 + 8 * (i + 1)));
      a1[1] = a1[3] - 1;
      a1[2] = a1[1] + 1;
      return sub_42D23A((string *)(*a1 + 8 * a1[1]), a2);
    }
    else
    {
      ++a1[1];
      v5 = (string *)(*a1 + 8 * a1[1]);
      v6 = v5 == a2 || *((_DWORD *)v5 + 1) == *((_DWORD *)a2 + 1) && !string::compare(v5, a2);
      result = (string *)!v6;
      if ( !v6 )
      {
        result = sub_42D23A((string *)(*a1 + 8 * a1[1]), a2);
        a1[2] = a1[1] + 1;
      }
    }
  }
  return result;
}

//----- (00436086) --------------------------------------------------------
int __cdecl sub_436086(_DWORD *a1)
{
  _DWORD v2[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v3; // [esp+14h] [ebp-1Ch]
  int v4; // [esp+20h] [ebp-10h]
  _BYTE v5[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a1[1] + 1 >= a1[2] || a1[1] + 1 < 0 )
  {
    v3 = 8;
    xerror::MakeString((xerror *)v6, aPrecondition_127, aCandonext, aHistqueuH_0, 0x77u);
    ++v4;
    xmsg::xmsg((xmsg *)v5, (const string *)v6);
    ++v4;
    v3 = 20;
    --v4;
    string::~string((string *)v6);
    v3 = 8;
    v4 += 2;
    v4 += 3;
    _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
  }
  ++a1[1];
  return *a1 + 8 * a1[1];
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (0043614B) --------------------------------------------------------
int __cdecl sub_43614B(_DWORD *a1)
{
  _DWORD v2[4]; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v3; // [esp+14h] [ebp-1Ch]
  int v4; // [esp+20h] [ebp-10h]
  _BYTE v5[4]; // [esp+28h] [ebp-8h] BYREF
  _BYTE v6[4]; // [esp+2Ch] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  if ( a1[1] - 1 >= a1[2] || a1[1] - 1 < 0 )
  {
    v3 = 8;
    xerror::MakeString((xerror *)v6, aPrecondition_128, aCandoprev, aHistqueuH_1, 0x80u);
    ++v4;
    xmsg::xmsg((xmsg *)v5, (const string *)v6);
    ++v4;
    v3 = 20;
    --v4;
    string::~string((string *)v6);
    v3 = 8;
    v4 += 2;
    v4 += 3;
    _ThrowExceptionLDTC(stru_403B88, v5, 0, sub_403BE0, 1u, 0, 0, 0, v2);
  }
  --a1[1];
  return *a1 + 8 * a1[1];
}
// 403B88: using guessed type _tpidc stru_403B88[1];

//----- (00436213) --------------------------------------------------------
int __cdecl sub_436213(_DWORD *a1, ipstream *a2)
{
  unsigned int Word; // edi
  unsigned int i; // ebx
  int result; // eax

  sub_435F60((int)a1);
  Word = ipstream::readWord(a2);
  sub_435E93((int)a1, Word);
  for ( i = 0; Word > i; ++i )
    sub_42D269((string *)(*a1 + 8 * i), (int)a2);
  a1[2] = Word;
  result = ipstream::readWord(a2);
  a1[1] = result;
  return result;
}

//----- (00436271) --------------------------------------------------------
int __cdecl sub_436271(_DWORD *a1, opstream *a2)
{
  unsigned int i; // ebx

  opstream::writeWord32(a2, a1[2]);
  for ( i = 0; i < a1[2]; ++i )
    sub_42D318((string *)(*a1 + 8 * i), (int)a2);
  return opstream::writeWord32(a2, a1[1]);
}

//----- (004365C4) --------------------------------------------------------
void __cdecl sub_4365C4(TBitmap *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_41D898(a1, 0);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0043660B) --------------------------------------------------------
void __cdecl sub_43660B(std::strstreambuf *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(*(_DWORD *)((char *)a1 + 31) - 4) -= 20;
    TWindow::~TWindow((std::strstreambuf *)((char *)a1 + 31));
    *(_DWORD *)(*(_DWORD *)((char *)a1 + 31) - 4) += 20;
    std::strstreambuf::~strstreambuf(a1);
    if ( (a2 & 2) != 0 )
      TStreamableBase::~TStreamableBase((std::strstreambuf *)((char *)a1 + 193));
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (0043669D) --------------------------------------------------------
void __cdecl sub_43669D(int a1, char a2)
{
  sub_43660B((std::strstreambuf *)(a1 - 193), a2);
}

//----- (004366BF) --------------------------------------------------------
bool __cdecl sub_4366BF(int a1, int a2, int a3)
{
  return sub_41BA0F(a1 - 31, a2, a3);
}

//----- (004366C9) --------------------------------------------------------
void __cdecl sub_4366C9(int a1, char a2)
{
  sub_43660B((std::strstreambuf *)(a1 - 31), a2);
}

//----- (004366D3) --------------------------------------------------------
void __cdecl sub_4366D3(std::strstreambuf *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    std::strstreambuf::~strstreambuf(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00436722) --------------------------------------------------------
int __cdecl sub_436722(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (0043672D) --------------------------------------------------------
int __cdecl sub_43672D(int a1)
{
  return *(_DWORD *)(a1 + 13);
}

//----- (00436738) --------------------------------------------------------
int __cdecl sub_436738(int a1)
{
  return *(_DWORD *)(a1 + 17);
}

//----- (00436743) --------------------------------------------------------
void __cdecl sub_436743(int a1, char a2)
{
  sub_42DEBC((TWindow *)(a1 - 433), a2);
}

//----- (00436765) --------------------------------------------------------
void __cdecl sub_436765(TBitmap *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    sub_41D898(a1, 0);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (004367F8) --------------------------------------------------------
void __cdecl sub_4367F8(TWindowDC *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TWindowDC::~TWindowDC(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00436840) --------------------------------------------------------
bool __cdecl sub_436840(int a1, int a2, int a3)
{
  *(_DWORD *)(a2 + 8) = a1;
  return (unsigned __int8)TEventHandler::SearchEntries(*(_DWORD *)(a1 + 4), &unk_44D234, a2, a3)
      || (unsigned __int8)TFrameWindow::Find(a1, a2, a3);
}
// 4393A2: using guessed type int __cdecl TFrameWindow::Find(_DWORD, _DWORD, _DWORD);
// 439480: using guessed type int __cdecl TEventHandler::SearchEntries(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00436885) --------------------------------------------------------
_DWORD *__cdecl sub_436885(_DWORD *a1, int a2, const char *a3, TWindow *a4)
{
  __InitExceptBlockLDTC();
  if ( !a2 )
  {
    *a1 = (char *)a1 + 85;
    *(_DWORD *)((char *)a1 + 85) = (char *)a1 + 73;
    *(_DWORD *)((char *)a1 + 89) = (char *)a1 + 77;
    a1[1] = (char *)a1 + 73;
    a1[2] = (char *)a1 + 77;
    *(_DWORD *)((char *)a1 + 69) = 0;
    *(_DWORD *)((char *)a1 + 81) = 0;
    *(_DWORD *)((char *)a1 + 73) = &off_444030;
    *(_DWORD *)((char *)a1 + 77) = &off_444020;
    *(_DWORD *)(a1[1] - 4) += 150;
    TWindow::TWindow((TWindow *)((char *)a1 + 85));
    *(_DWORD *)(a1[1] - 4) -= 150;
  }
  TFrameWindow::TFrameWindow((TFrameWindow *)a1, (TWindow *)1, a3, a4, 0, 0);
  a1[3] = &off_44D388;
  *(_DWORD *)a1[1] = &off_44D3D4;
  *(_DWORD *)a1[2] = &off_44D3E0;
  *(_DWORD *)(*a1 + 8) = off_44D3EC;
  *(_DWORD *)(*a1 + 24) = -1845493760;
  *(_DWORD *)(*a1 + 36) = 0;
  *(_DWORD *)(*a1 + 32) = 0;
  *(_DWORD *)(*a1 + 40) = GetSystemMetrics(TUIMetric::CxScreen);
  *(_DWORD *)(*a1 + 44) = GetSystemMetrics(TUIMetric::CyScreen);
  *(_DWORD *)(*a1 + 92) = TColor::Black;
  return a1;
}
// 43942C: using guessed type TFrameWindow *TFrameWindow::TFrameWindow(TFrameWindow *__hidden this, TWindow *, const char *, TWindow *, bool, TModule *);
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 44D388: using guessed type int (__cdecl *off_44D388)(TFrameWindow *, int);
// 44D3D4: using guessed type _UNKNOWN *off_44D3D4;
// 44D3E0: using guessed type int (__cdecl *off_44D3E0)(int);
// 44D3EC: using guessed type int (__cdecl *off_44D3EC[3])(TFrameWindow *);

//----- (004369DC) --------------------------------------------------------
int __cdecl sub_4369DC(TWindow **a1)
{
  int v1; // ebx
  void *v2; // edx
  int v3; // eax
  int v4; // ebx

  v1 = *((_DWORD *)*a1 + 26);
  if ( v1 )
    v2 = *(void **)(v1 + 86);
  else
    v2 = 0;
  v3 = __DynamicCast((void *)v1, v2, stru_436A47, stru_436AC7, 0);
  v4 = v3;
  if ( v3 && sub_437EB1(v3) )
    return sub_437EB1(v4);
  else
    return TWindow::GetClassNameA(*a1);
}
// 436A47: using guessed type _tpidc stru_436A47[1];
// 436AC7: using guessed type _tpidc stru_436AC7[1];

//----- (00436C07) --------------------------------------------------------
void __cdecl sub_436C07(TFrameWindow *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TFrameWindow::~TFrameWindow(a1);
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TFrameWindow *)((char *)a1 + 85));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TFrameWindow *)((char *)a1 + 77));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00436C94) --------------------------------------------------------
bool __cdecl sub_436C94(int a1, int a2, int a3)
{
  return sub_436840(*(_DWORD *)(a1 - 4) + a1 - 85, a2, a3);
}

//----- (00436CA7) --------------------------------------------------------
int __cdecl sub_436CA7(int a1, TWindow *a2)
{
  return TFrameWindow::RemoveChild((TFrameWindow *)(*(_DWORD *)(a1 - 4) + a1 - 85), a2);
}
// 439348: using guessed type _DWORD TFrameWindow::RemoveChild(TFrameWindow *__hidden this, TWindow *);

//----- (00436CBA) --------------------------------------------------------
int __cdecl sub_436CBA(TFrameWindow *a1)
{
  return TFrameWindow::CleanupWindow((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85));
}

//----- (00436CCD) --------------------------------------------------------
int __cdecl sub_436CCD(TFrameWindow *a1)
{
  return TFrameWindow::SetupWindow((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85));
}

//----- (00436CE0) --------------------------------------------------------
int __cdecl sub_436CE0(int a1)
{
  return sub_4369DC((TWindow **)(*(_DWORD *)(a1 - 4) + a1 - 85));
}

//----- (00436CF3) --------------------------------------------------------
int __cdecl sub_436CF3(int a1)
{
  return TFrameWindow::EvCommandEnable(*(_DWORD *)(a1 - 4) + a1 - 85);
}
// 4393B4: using guessed type int __cdecl TFrameWindow::EvCommandEnable(_DWORD);

//----- (00436D06) --------------------------------------------------------
int __cdecl sub_436D06(TFrameWindow *a1, unsigned int a2, HWND a3, unsigned int a4)
{
  return TFrameWindow::EvCommand((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2, a3, a4);
}

//----- (00436D19) --------------------------------------------------------
int __cdecl sub_436D19(TFrameWindow *a1, const char *a2, int a3)
{
  return TFrameWindow::SetDocTitle((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2, a3);
}

//----- (00436D2C) --------------------------------------------------------
int __cdecl sub_436D2C(TFrameWindow *a1, HWND a2, HWND a3)
{
  return TFrameWindow::HoldFocusHWnd((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2, a3);
}

//----- (00436D3F) --------------------------------------------------------
int __cdecl sub_436D3F(TFrameWindow *a1, int a2)
{
  return TFrameWindow::IdleAction((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2);
}

//----- (00436D52) --------------------------------------------------------
int __cdecl sub_436D52(TFrameWindow *a1, tagMSG *a2)
{
  return TFrameWindow::PreProcessMsg((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2);
}

//----- (00436D65) --------------------------------------------------------
void __cdecl sub_436D65(TFrameWindow *a1, char a2)
{
  sub_436C07((TFrameWindow *)((char *)a1 + *((_DWORD *)a1 - 1) - 85), a2);
}

//----- (00436D78) --------------------------------------------------------
void __cdecl sub_436D78(int a1, char a2)
{
  sub_436C07((TFrameWindow *)(a1 - 77), a2);
}

//----- (00436E05) --------------------------------------------------------
void __cdecl sub_436E05(TThread *a1, char a2)
{
  TSystem *v2; // [esp+0h] [ebp-30h]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    if ( (unsigned __int8)TSystem::SupportsThreads(v2) && a1 != (TThread *)-24 )
    {
      *((_DWORD *)a1 + 6) = &off_44D474;
      CloseHandle(*((HANDLE *)a1 + 7));
    }
    TThread::~TThread(a1);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 436E28: variable 'v2' is possibly undefined
// 44D474: using guessed type int (*off_44D474)();

//----- (00436F85) --------------------------------------------------------
void __cdecl sub_436F85(HANDLE *a1, char a2)
{
  if ( a1 )
  {
    *a1 = &off_44D474;
    CloseHandle(a1[1]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44D474: using guessed type int (*off_44D474)();

//----- (00436FFE) --------------------------------------------------------
void __cdecl sub_436FFE(HANDLE *a1, char a2)
{
  TSystem *v2; // [esp+0h] [ebp-2Ch]

  __InitExceptBlockLDTC();
  if ( a1 )
  {
    if ( (unsigned __int8)TSystem::SupportsThreads(v2) )
    {
      *a1 = &off_44D474;
      CloseHandle(a1[1]);
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 437026: conditional instruction was optimized away because ebx.4!=0
// 437016: variable 'v2' is possibly undefined
// 44D474: using guessed type int (*off_44D474)();

//----- (0043706E) --------------------------------------------------------
void __cdecl sub_43706E(HANDLE *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *a1 = &off_44D474;
    CloseHandle(a1[1]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44D474: using guessed type int (*off_44D474)();

//----- (004370B8) --------------------------------------------------------
int __cdecl sub_4370B8(int a1, int a2)
{
  DWORD FileVersionInfoSizeA; // eax
  DWORD v3; // ebx
  CHAR Filename[256]; // [esp+4h] [ebp-138h] BYREF
  unsigned int puLen; // [esp+104h] [ebp-38h] BYREF
  DWORD dwHandle; // [esp+108h] [ebp-34h] BYREF
  _DWORD v8[4]; // [esp+10Ch] [ebp-30h] BYREF
  __int16 v9; // [esp+11Ch] [ebp-20h]
  int v10; // [esp+128h] [ebp-14h]
  _BYTE v11[4]; // [esp+130h] [ebp-Ch] BYREF
  _BYTE v12[4]; // [esp+134h] [ebp-8h] BYREF
  char *dest; // [esp+138h] [ebp-4h]

  __InitExceptBlockLDTC();
  *(_DWORD *)a1 = &off_44D984;
  dest = (char *)operator new[](0xFFu);
  ++v10;
  v9 = 20;
  *(_DWORD *)(a1 + 8) = 0;
  if ( *(_DWORD *)(a2 + 8) <= 0x20u )
  {
    v9 = 44;
    xerror::MakeString((xerror *)v12, aPrecondition_129, aHandleHinstanc_2, aCBc5IncludeOwl_59, 0x3DAu);
    ++v10;
    xmsg::xmsg((xmsg *)v11, (const string *)v12);
    ++v10;
    v9 = 56;
    --v10;
    string::~string((string *)v12);
    v9 = 44;
    v10 += 2;
    v10 += 3;
    _ThrowExceptionLDTC(stru_403B88, v11, 0, sub_403BE0, 1u, 0, 0, 0, v8);
  }
  GetModuleFileNameA(*(HMODULE *)(a2 + 8), Filename, 0xFFu);
  OemToCharA(Filename, Filename);
  FileVersionInfoSizeA = GetFileVersionInfoSizeA(Filename, &dwHandle);
  v3 = FileVersionInfoSizeA;
  v9 = 20;
  if ( FileVersionInfoSizeA )
  {
    *(_DWORD *)(a1 + 8) = operator new[](FileVersionInfoSizeA);
    if ( GetFileVersionInfoA(Filename, dwHandle, v3, *(LPVOID *)(a1 + 8)) )
    {
      strcpy(dest, aVarfileinfoTra);
      if ( VerQueryValueA(*(const LPVOID *)(a1 + 8), dest, (LPVOID *)(a1 + 4), &puLen) )
      {
        **(_DWORD **)(a1 + 4) = (**(unsigned __int16 **)(a1 + 4) << 16)
                              | (unsigned __int16)HIWORD(**(_DWORD **)(a1 + 4));
      }
      else
      {
        operator delete[](*(void **)(a1 + 8));
        *(_DWORD *)(a1 + 8) = 0;
      }
    }
  }
  --v10;
  operator delete[](dest);
  return a1;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44D984: using guessed type int (__cdecl *off_44D984)(void *, char);

//----- (00437289) --------------------------------------------------------
void __cdecl sub_437289(void **a1, char a2)
{
  if ( a1 )
  {
    *a1 = &off_44D984;
    if ( a1[2] )
      operator delete[](a1[2]);
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 44D984: using guessed type int (__cdecl *off_44D984)(void *, char);

//----- (004372B9) --------------------------------------------------------
bool __cdecl sub_4372B9(int a1, LPVOID *lplpBuffer)
{
  BOOL v2; // eax
  bool v4; // [esp-4h] [ebp-34h]
  unsigned int puLen; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v6; // [esp+18h] [ebp-18h]
  int v7; // [esp+24h] [ebp-Ch]
  char *buffer; // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  buffer = (char *)operator new[](0xFFu);
  ++v7;
  v6 = 8;
  if ( *(_DWORD *)(a1 + 8) )
  {
    sprintf(buffer, "\\StringFileInfo\\%08lx\\%s", **(_DWORD **)(a1 + 4), aProductname);
    if ( *(_DWORD *)(a1 + 8) )
      v2 = VerQueryValueA(*(const LPVOID *)(a1 + 8), buffer, lplpBuffer, &puLen);
    else
      v2 = 0;
    v4 = v2;
    --v7;
    operator delete[](buffer);
    return v4;
  }
  else
  {
    operator delete[](buffer);
    return 0;
  }
}

//----- (00437367) --------------------------------------------------------
bool __cdecl sub_437367(int a1, LPVOID *lplpBuffer)
{
  BOOL v2; // eax
  bool v4; // [esp-4h] [ebp-34h]
  unsigned int puLen; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v6; // [esp+18h] [ebp-18h]
  int v7; // [esp+24h] [ebp-Ch]
  char *buffer; // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  buffer = (char *)operator new[](0xFFu);
  ++v7;
  v6 = 8;
  if ( *(_DWORD *)(a1 + 8) )
  {
    sprintf(buffer, "\\StringFileInfo\\%08lx\\%s", **(_DWORD **)(a1 + 4), aProductversion);
    if ( *(_DWORD *)(a1 + 8) )
      v2 = VerQueryValueA(*(const LPVOID *)(a1 + 8), buffer, lplpBuffer, &puLen);
    else
      v2 = 0;
    v4 = v2;
    --v7;
    operator delete[](buffer);
    return v4;
  }
  else
  {
    operator delete[](buffer);
    return 0;
  }
}

//----- (00437415) --------------------------------------------------------
bool __cdecl sub_437415(int a1, LPVOID *lplpBuffer)
{
  BOOL v2; // eax
  bool v4; // [esp-4h] [ebp-34h]
  unsigned int puLen; // [esp+4h] [ebp-2Ch] BYREF
  __int16 v6; // [esp+18h] [ebp-18h]
  int v7; // [esp+24h] [ebp-Ch]
  char *buffer; // [esp+2Ch] [ebp-4h]

  __InitExceptBlockLDTC();
  buffer = (char *)operator new[](0xFFu);
  ++v7;
  v6 = 8;
  if ( *(_DWORD *)(a1 + 8) )
  {
    sprintf(buffer, "\\StringFileInfo\\%08lx\\%s", **(_DWORD **)(a1 + 4), aLegalcopyright);
    if ( *(_DWORD *)(a1 + 8) )
      v2 = VerQueryValueA(*(const LPVOID *)(a1 + 8), buffer, lplpBuffer, &puLen);
    else
      v2 = 0;
    v4 = v2;
    --v7;
    operator delete[](buffer);
    return v4;
  }
  else
  {
    operator delete[](buffer);
    return 0;
  }
}

//----- (004374C3) --------------------------------------------------------
void __cdecl sub_4374C3(TDialog *a1)
{
  TStatic *v1; // edx
  TStatic *v2; // esi
  TStatic *v3; // edx
  const CHAR *v4; // ebx
  const CHAR *v5; // ebx
  CHAR String[128]; // [esp+Ch] [ebp-1F0h] BYREF
  char buffer[256]; // [esp+8Ch] [ebp-170h] BYREF
  TStatic *v8; // [esp+18Ch] [ebp-70h]
  TStatic *v9; // [esp+190h] [ebp-6Ch]
  LPCSTR v10; // [esp+194h] [ebp-68h] BYREF
  LPVOID lpBuffer; // [esp+198h] [ebp-64h] BYREF
  LPCSTR lpString; // [esp+19Ch] [ebp-60h] BYREF
  _BYTE v13[16]; // [esp+1A0h] [ebp-5Ch] BYREF
  __int16 v14; // [esp+1B0h] [ebp-4Ch]
  int v15; // [esp+1BCh] [ebp-40h]
  _BYTE v16[4]; // [esp+1C4h] [ebp-38h] BYREF
  _BYTE v17[4]; // [esp+1C8h] [ebp-34h] BYREF
  _BYTE v18[4]; // [esp+1CCh] [ebp-30h] BYREF
  _BYTE v19[4]; // [esp+1D0h] [ebp-2Ch] BYREF
  _BYTE v20[4]; // [esp+1D4h] [ebp-28h] BYREF
  _BYTE v21[4]; // [esp+1D8h] [ebp-24h] BYREF
  _BYTE v22[4]; // [esp+1DCh] [ebp-20h] BYREF
  _BYTE v23[4]; // [esp+1E0h] [ebp-1Ch] BYREF
  TStatic *v24; // [esp+1E4h] [ebp-18h]
  TStatic *v25; // [esp+1E8h] [ebp-14h]
  TStatic *v26; // [esp+1ECh] [ebp-10h]
  int v27[3]; // [esp+1F0h] [ebp-Ch] BYREF

  __InitExceptBlockLDTC();
  lpString = 0;
  lpBuffer = 0;
  v10 = 0;
  v26 = (TStatic *)operator new(0xAEu);
  if ( v26 )
  {
    v14 = 20;
    TStatic::TStatic(v26, 0, *(_DWORD *)a1, 0x55F3u, (TModule *)0xFF);
    v14 = 8;
    v1 = v26;
  }
  else
  {
    v1 = 0;
  }
  v9 = v1;
  v25 = (TStatic *)operator new(0xAEu);
  if ( v25 )
  {
    v14 = 44;
    TStatic::TStatic(v25, 0, *(_DWORD *)a1, 0x55F1u, (TModule *)0xFF);
    v14 = 32;
    v2 = v25;
  }
  else
  {
    v2 = 0;
  }
  v24 = (TStatic *)operator new(0xAEu);
  if ( v24 )
  {
    v14 = 68;
    TStatic::TStatic(v24, 0, *(_DWORD *)a1, 0x55F2u, (TModule *)0xFF);
    v14 = 56;
    v3 = v24;
  }
  else
  {
    v3 = 0;
  }
  v8 = v3;
  sub_4266F0(a1);
  v14 = 80;
  sub_4370B8((int)v27, dword_446AB8);
  ++v15;
  v14 = 92;
  if ( sub_4372B9((int)v27, (LPVOID *)&lpString) )
  {
    v4 = lpString;
    if ( !*(_DWORD *)(*(_DWORD *)v9 + 12) )
    {
      v14 = 104;
      xerror::MakeString((xerror *)v23, aPrecondition_130, aGethandle_55, aCBc5IncludeOwl_60, 0xBFu);
      ++v15;
      xmsg::xmsg((xmsg *)v22, (const string *)v23);
      ++v15;
      v14 = 116;
      --v15;
      string::~string((string *)v23);
      v14 = 104;
      v15 += 2;
      v15 += 3;
      _ThrowExceptionLDTC(stru_403B88, v22, 0, sub_403BE0, 1u, 0, 0, 0, v13);
    }
    SetWindowTextA(*(HWND *)(*(_DWORD *)v9 + 12), v4);
  }
  if ( sub_437367((int)v27, &lpBuffer) )
  {
    buffer[0] = 0;
    String[0] = 0;
    if ( !*(_DWORD *)(*(_DWORD *)v2 + 12) )
    {
      v14 = 128;
      xerror::MakeString((xerror *)v21, aPrecondition_131, aGethandle_56, aCBc5IncludeOwl_61, 0xB7u);
      ++v15;
      xmsg::xmsg((xmsg *)v20, (const string *)v21);
      ++v15;
      v14 = 140;
      --v15;
      string::~string((string *)v21);
      v14 = 128;
      v15 += 2;
      v15 += 3;
      _ThrowExceptionLDTC(stru_403B88, v20, 0, sub_403BE0, 1u, 0, 0, 0, v13);
    }
    GetWindowTextA(*(HWND *)(*(_DWORD *)v2 + 12), String, 128);
    sprintf(buffer, "%s %s", String, (const char *)lpBuffer);
    if ( !*(_DWORD *)(*(_DWORD *)v2 + 12) )
    {
      v14 = 152;
      xerror::MakeString((xerror *)v19, aPrecondition_132, aGethandle_57, aCBc5IncludeOwl_62, 0xBFu);
      ++v15;
      xmsg::xmsg((xmsg *)v18, (const string *)v19);
      ++v15;
      v14 = 164;
      --v15;
      string::~string((string *)v19);
      v14 = 152;
      v15 += 2;
      v15 += 3;
      _ThrowExceptionLDTC(stru_403B88, v18, 0, sub_403BE0, 1u, 0, 0, 0, v13);
    }
    SetWindowTextA(*(HWND *)(*(_DWORD *)v2 + 12), buffer);
  }
  if ( sub_437415((int)v27, (LPVOID *)&v10) )
  {
    v5 = v10;
    if ( !*(_DWORD *)(*(_DWORD *)v8 + 12) )
    {
      v14 = 176;
      xerror::MakeString((xerror *)v17, aPrecondition_133, aGethandle_58, aCBc5IncludeOwl_63, 0xBFu);
      ++v15;
      xmsg::xmsg((xmsg *)v16, (const string *)v17);
      ++v15;
      v14 = 188;
      --v15;
      string::~string((string *)v17);
      v14 = 176;
      v15 += 2;
      v15 += 3;
      _ThrowExceptionLDTC(stru_403B88, v16, 0, sub_403BE0, 1u, 0, 0, 0, v13);
    }
    SetWindowTextA(*(HWND *)(*(_DWORD *)v8 + 12), v5);
  }
  --v15;
  sub_437289((void **)v27, 2);
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 43965A: using guessed type TStatic *TStatic::TStatic(TStatic *__hidden this, TWindow *, int, unsigned int, TModule *);
// 446AB8: using guessed type int dword_446AB8;

//----- (00437A4D) --------------------------------------------------------
_DWORD *__cdecl sub_437A4D(_DWORD *a1)
{
  *a1 = 0;
  return a1;
}

//----- (00437A59) --------------------------------------------------------
void __cdecl sub_437A59(void **a1, char a2)
{
  if ( a1 )
  {
    operator delete[](*a1);
    if ( (a2 & 1) != 0 )
      *a1 = 0;
  }
}

//----- (00437AB7) --------------------------------------------------------
void __cdecl sub_437AB7(TControl *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 4;
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 4;
    TControl::~TControl(a1);
    *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 4;
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 4;
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TControl *)((char *)a1 + 40));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TControl *)((char *)a1 + 32));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00437B60) --------------------------------------------------------
bool __cdecl sub_437B60(_DWORD *a1, int a2, int a3)
{
  *(_DWORD *)(a2 + 8) = a1;
  return (unsigned __int8)TEventHandler::SearchEntries(*a1, &unk_44D988, a2, a3)
      || (unsigned __int8)TApplication::Find(a1, a2, a3);
}
// 439480: using guessed type int __cdecl TEventHandler::SearchEntries(_DWORD, _DWORD, _DWORD, _DWORD);
// 43972C: using guessed type int __cdecl TApplication::Find(_DWORD, _DWORD, _DWORD);

//----- (00437BA4) --------------------------------------------------------
int __cdecl sub_437BA4(int a1, int a2)
{
  string *v2; // eax
  struct _SYSTEMTIME SystemTime; // [esp+Ch] [ebp-14Ch] BYREF
  CHAR Filename[260]; // [esp+1Ch] [ebp-13Ch] BYREF
  __int16 v6; // [esp+130h] [ebp-28h]
  int v7; // [esp+13Ch] [ebp-1Ch]
  _BYTE v8[4]; // [esp+144h] [ebp-14h] BYREF
  _BYTE v9[4]; // [esp+148h] [ebp-10h] BYREF
  int v10; // [esp+14Ch] [ebp-Ch] BYREF
  _BYTE v11[4]; // [esp+150h] [ebp-8h] BYREF
  int v12; // [esp+154h] [ebp-4h] BYREF

  __InitExceptBlockLDTC();
  v6 = 8;
  if ( !a2 )
  {
    *(_DWORD *)a1 = a1 + 172;
    *(_DWORD *)(a1 + 168) = 0;
    *(_DWORD *)(a1 + 172) = &off_444030;
  }
  *(_DWORD *)(*(_DWORD *)a1 - 4) -= 4;
  TApplication::TApplication(a1, 1, 0, &dword_44E204, 0);
  v7 += 8;
  *(_DWORD *)(*(_DWORD *)a1 - 4) += 4;
  *(_DWORD *)(a1 + 86) = &off_44E180;
  *(_DWORD *)(a1 + 4) = &off_44E1C4;
  *(_DWORD *)(a1 + 25) = &off_44E1D8;
  **(_DWORD **)a1 = &off_44E200;
  string::string((string *)(a1 + 164));
  ++v7;
  GetModuleFileNameA(*(HMODULE *)(a1 + 12), Filename, 0x104u);
  v6 = 20;
  string::string((string *)&v12, Filename);
  ++v7;
  sub_4048F9((string *)v11, (int)&v12);
  ++v7;
  string::assign((string *)&unk_446AB0, (const string *)v11, 0, 0xFFFFFFFF);
  --v7;
  string::~string((string *)v11);
  --v7;
  string::~string((string *)&v12);
  v6 = 32;
  string::string((string *)&v10, Filename);
  ++v7;
  sub_4047A7((string *)v9, (int)&v10);
  ++v7;
  string::assign((string *)(a1 + 164), (const string *)v9, 0, 0xFFFFFFFF);
  --v7;
  string::~string((string *)v9);
  --v7;
  string::~string((string *)&v10);
  dword_446AB8 = a1 + 4;
  if ( !dword_44ECF1 )
    sub_425227((int)byte_44EC10, dword_446AB8);
  v6 = 44;
  v2 = string::string((string *)v8, *(HINSTANCE *)(a1 + 12), 0x64u, 255);
  ++v7;
  TModule::SetName((TModule *)(a1 + 4), *(const char **)(*(_DWORD *)v2 + 2));
  --v7;
  string::~string((string *)v8);
  GetSystemTime(&SystemTime);
  v6 = 8;
  srand(SystemTime.wMilliseconds + 1000 * (SystemTime.wSecond + 60 * (SystemTime.wMinute + 60 * SystemTime.wHour)));
  return a1;
}
// 43948C: using guessed type int __cdecl TApplication::TApplication(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 444030: using guessed type _UNKNOWN *off_444030;
// 446AB8: using guessed type int dword_446AB8;
// 44E180: using guessed type int (__cdecl *off_44E180)(TApplication *, int);
// 44E1C4: using guessed type int (__cdecl *off_44E1C4)(int);
// 44E1D8: using guessed type _DWORD (*off_44E1D8)(TThread *__hidden this);
// 44E200: using guessed type _UNKNOWN *off_44E200;
// 44E204: using guessed type int dword_44E204;
// 44ECF1: using guessed type int dword_44ECF1;

//----- (00437DFD) --------------------------------------------------------
void __cdecl sub_437DFD(TApplication *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    *(_DWORD *)((char *)a1 + 86) = &off_44E180;
    *((_DWORD *)a1 + 1) = &off_44E1C4;
    *(_DWORD *)((char *)a1 + 25) = &off_44E1D8;
    **(_DWORD **)a1 = &off_44E200;
    dword_446AB8 = 0;
    string::~string((TApplication *)((char *)a1 + 164));
    *(_DWORD *)(*(_DWORD *)a1 - 4) -= 4;
    TApplication::~TApplication(a1);
    *(_DWORD *)(*(_DWORD *)a1 - 4) += 4;
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}
// 446AB8: using guessed type int dword_446AB8;
// 44E180: using guessed type int (__cdecl *off_44E180)(TApplication *, int);
// 44E1C4: using guessed type int (__cdecl *off_44E1C4)(int);
// 44E1D8: using guessed type _DWORD (*off_44E1D8)(TThread *__hidden this);
// 44E200: using guessed type _UNKNOWN *off_44E200;

//----- (00437EB1) --------------------------------------------------------
int __cdecl sub_437EB1(int a1)
{
  if ( **(_BYTE **)(*(_DWORD *)(a1 + 164) + 2) )
    return *(_DWORD *)(*(_DWORD *)(a1 + 164) + 2);
  else
    return 0;
}

//----- (00437ED4) --------------------------------------------------------
char __cdecl sub_437ED4(int a1)
{
  const CHAR *v1; // eax
  HWND WindowA; // eax
  HWND v3; // ebx

  if ( !sub_437EB1(a1) )
    return 0;
  v1 = (const CHAR *)sub_437EB1(a1);
  WindowA = FindWindowA(v1, 0);
  v3 = WindowA;
  if ( !WindowA )
    return 0;
  if ( IsIconic(WindowA) )
    ShowWindow(v3, 9);
  SetForegroundWindow(v3);
  return 1;
}

//----- (00437F1D) --------------------------------------------------------
bool sub_437F1D()
{
  char v0; // dl
  unsigned int v1; // ecx
  bool result; // eax

  if ( dword_44EC50 )
    v0 = *((_BYTE *)dword_44EC50 + 5);
  else
    v0 = 0;
  result = 1;
  if ( v0 )
  {
    v1 = dword_44EC50 ? *(_DWORD *)((char *)dword_44EC50 + 6) : 0;
    if ( v1 < 0x100 )
      return 0;
  }
  return result;
}

//----- (00437F61) --------------------------------------------------------
char __cdecl sub_437F61(int a1)
{
  if ( sub_437ED4(a1) )
    return 0;
  if ( sub_437F1D() )
    return 1;
  sub_404ED9(0x66u);
  return 0;
}

//----- (00437F95) --------------------------------------------------------
int __cdecl sub_437F95(TApplication *a1)
{
  TFrameWindow *v1; // eax
  TFrameWindow *v2; // esi
  TFrameWindow *v4; // [esp+30h] [ebp-4h]

  __InitExceptBlockLDTC();
  *(_DWORD *)((char *)a1 + 94) = 1;
  v1 = (TFrameWindow *)operator new(0xDBu);
  v4 = v1;
  if ( v1 )
  {
    sub_436885(v1, 0, 0, *((TWindow **)a1 + 2));
    v2 = v4;
  }
  else
  {
    v2 = 0;
  }
  TFrameWindow::SetIcon(v2, (char *)a1 + 4, 1);
  TFrameWindow::SetIconSm(v2, (char *)a1 + 4, 1);
  TApplication::SetMainWindow(a1, v2);
  return TApplication::EnableCtl3d(a1, 1);
}
// 4392D6: using guessed type _DWORD TApplication::SetMainWindow(TApplication *__hidden this, TFrameWindow *);
// 43931E: using guessed type int __cdecl TFrameWindow::SetIconSm(_DWORD, _DWORD, _DWORD);
// 439324: using guessed type int __cdecl TFrameWindow::SetIcon(_DWORD, _DWORD, _DWORD);

//----- (0043803E) --------------------------------------------------------
void __cdecl sub_43803E(TApplication *a1)
{
  int v1; // ecx
  int *v2; // eax
  int v3; // ebx
  _BOOL1 v4; // cl
  int *v5; // edx
  const char *v6; // eax
  _BOOL1 v7; // bl
  UINT v8; // esi
  _BYTE v9[16]; // [esp+14h] [ebp-F4h] BYREF
  __int16 v10; // [esp+24h] [ebp-E4h]
  int v11; // [esp+30h] [ebp-D8h]
  _BYTE v12[4]; // [esp+38h] [ebp-D0h] BYREF
  _BYTE v13[4]; // [esp+3Ch] [ebp-CCh] BYREF
  int v14; // [esp+40h] [ebp-C8h]
  _BYTE v15[4]; // [esp+44h] [ebp-C4h] BYREF
  _BYTE v16[4]; // [esp+48h] [ebp-C0h] BYREF
  _BYTE v17[4]; // [esp+4Ch] [ebp-BCh] BYREF
  _BYTE v18[4]; // [esp+50h] [ebp-B8h] BYREF
  int v19[3]; // [esp+54h] [ebp-B4h] BYREF
  int v20; // [esp+60h] [ebp-A8h]
  TGauge *v21; // [esp+6Dh] [ebp-9Bh]

  __InitExceptBlockLDTC();
  TApplication::InitInstance(a1);
  v10 = 8;
  if ( *(_DWORD *)((char *)a1 + 102) )
    v1 = **(_DWORD **)((char *)a1 + 102);
  else
    v1 = *(_DWORD *)((char *)a1 + 102);
  sub_42C4B4(v19, 0, v1, 1100, 0);
  v11 += 5;
  v10 = 20;
  (*(void (__cdecl **)(int *))(v20 + 12))(v19);
  sub_426184((int)byte_44EC10, (int)a1, v21);
  (*(void (__cdecl **)(int *, int))(v20 + 36))(v19, 2);
  if ( !(*(unsigned __int8 (__cdecl **)(int *))(dword_44EC9D + 4))(&dword_44EC70) )
  {
    sub_404ED9(0x6Au);
    v2 = *(int **)((char *)a1 + 102);
    v3 = *v2;
    if ( !*(_DWORD *)(*v2 + 12) )
    {
      v10 = 32;
      xerror::MakeString((xerror *)v18, aPrecondition_134, aGethandle_59, aCBc5IncludeOwl_64, 0x53Cu);
      ++v11;
      xmsg::xmsg((xmsg *)v17, (const string *)v18);
      ++v11;
      v10 = 44;
      --v11;
      string::~string((string *)v18);
      v10 = 32;
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v17, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
LABEL_7:
    PostMessageA(*(HWND *)(v3 + 12), 0x12u, 0, 0);
    v11 -= 5;
    sub_42C654((TDialog *)v19, 2);
    return;
  }
  v4 = *(_DWORD *)(dword_44EC95 + 6) && *(_DWORD *)(dword_44EC99 + 6);
  if ( v4 && !sub_438675() )
  {
    sub_404F9C(0x75u, *(_DWORD *)(dword_44EC95 + 2));
    v5 = *(int **)((char *)a1 + 102);
    v3 = *v5;
    if ( !*(_DWORD *)(*v5 + 12) )
    {
      v10 = 56;
      xerror::MakeString((xerror *)v16, aPrecondition_135, aGethandle_60, aCBc5IncludeOwl_65, 0x53Cu);
      ++v11;
      xmsg::xmsg((xmsg *)v15, (const string *)v16);
      ++v11;
      v10 = 68;
      --v11;
      string::~string((string *)v16);
      v10 = 56;
      v11 += 2;
      v11 += 3;
      _ThrowExceptionLDTC(stru_403B88, v15, 0, sub_403BE0, 1u, 0, 0, 0, v9);
    }
    goto LABEL_7;
  }
  TWindow::SetCaption(**(TWindow ***)((char *)a1 + 102), *(const char **)(dword_44ECA1 + 2));
  v14 = operator new(0x1B5u);
  if ( v14 )
  {
    v10 = 92;
    if ( *(_DWORD *)((char *)a1 + 102) )
      v6 = **(const char ***)((char *)a1 + 102);
    else
      v6 = *(const char **)((char *)a1 + 102);
    sub_42D8B6(v14, 0, v6, *(TModule **)(dword_44ECA1 + 2));
    v10 = 80;
  }
  (*(void (__cdecl **)(TWindow *))(*((_DWORD *)dword_44A9F0 + 2) + 8))(dword_44A9F0);
  v7 = (*(unsigned __int8 (__cdecl **)(int *))(dword_44ECB9 + 4))(&dword_44ECB9) && byte_44ECCD;
  v8 = dword_446A9C;
  if ( !*((_DWORD *)dword_44A9F0 + 3) )
  {
    v10 = 104;
    xerror::MakeString((xerror *)v13, aPrecondition_136, aGethandle_61, aCBc5IncludeOwl_66, 0x53Cu);
    ++v11;
    xmsg::xmsg((xmsg *)v12, (const string *)v13);
    ++v11;
    v10 = 116;
    --v11;
    string::~string((string *)v13);
    v10 = 104;
    v11 += 2;
    v11 += 3;
    _ThrowExceptionLDTC(stru_403B88, v12, 0, sub_403BE0, 1u, 0, 0, 0, v9);
  }
  PostMessageA(*((HWND *)dword_44A9F0 + 3), v8, v7, 0);
  sub_4357CF(dword_44A9F0);
  v11 -= 5;
  sub_42C654((TDialog *)v19, 2);
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 44EC70: using guessed type int dword_44EC70;
// 44EC95: using guessed type int dword_44EC95;
// 44EC99: using guessed type int dword_44EC99;
// 44EC9D: using guessed type int dword_44EC9D;
// 44ECA1: using guessed type int dword_44ECA1;
// 44ECB9: using guessed type int dword_44ECB9;
// 44ECCD: using guessed type char byte_44ECCD;

//----- (00438485) --------------------------------------------------------
HWND __cdecl sub_438485(int a1, char a2)
{
  HWND result; // eax

  if ( dword_44A9F0 )
  {
    if ( a2 )
      return sub_42E641(dword_44A9F0);
    else
      return (HWND)sub_42E49E((int)dword_44A9F0);
  }
  return result;
}

//----- (004384B3) --------------------------------------------------------
void __cdecl sub_4384B3(int a1)
{
  TWindow *v1; // edi
  _DWORD *v2; // [esp+40h] [ebp-B0h] BYREF
  _DWORD *v3; // [esp+44h] [ebp-ACh]
  _DWORD *v4; // [esp+48h] [ebp-A8h]
  int (__cdecl **v5)(TDialog *, int); // [esp+4Ch] [ebp-A4h]
  int v6; // [esp+59h] [ebp-97h]
  _UNKNOWN **v7; // [esp+5Dh] [ebp-93h] BYREF
  _DWORD v8[2]; // [esp+61h] [ebp-8Fh] BYREF
  _DWORD v9[33]; // [esp+69h] [ebp-87h] BYREF

  __InitExceptBlockLDTC();
  if ( dword_44A9F0 )
  {
    v1 = dword_44A9F0;
  }
  else if ( *(_DWORD *)(a1 + 102) )
  {
    v1 = **(TWindow ***)(a1 + 102);
  }
  else
  {
    v1 = *(TWindow **)(a1 + 102);
  }
  v2 = v9;
  v9[0] = &v7;
  v9[1] = v8;
  v3 = &v7;
  v4 = v8;
  v8[1] = 0;
  v7 = &off_444030;
  v8[0] = &off_444020;
  v6 = 150;
  TWindow::TWindow((TWindow *)v9);
  *(v3 - 1) -= 150;
  TDialog::TDialog(&v2, 1, v1, 22000, 0);
  *v3 = &off_44A0F8;
  *v4 = &off_44A104;
  v2[2] = off_44A110;
  v5 = &off_44E09C;
  *v3 = &off_44E0E0;
  *v4 = &off_44E0EC;
  v2[2] = off_44E0F8;
  ((void (__cdecl *)(_DWORD **))v5[5])(&v2);
  TDialog::~TDialog((TDialog *)&v2);
  *(v3 - 1) += 150;
  TWindow::~TWindow((TWindow *)v9);
  *(v3 - 1) -= 150;
  TStreamableBase::~TStreamableBase((TStreamableBase *)v8);
}
// 439648: using guessed type int __cdecl TDialog::TDialog(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 444020: using guessed type void (*off_444020)(TStreamableBase *__hidden this);
// 444030: using guessed type _UNKNOWN *off_444030;
// 44A0F8: using guessed type _UNKNOWN *off_44A0F8;
// 44A104: using guessed type int (__cdecl *off_44A104)(int);
// 44A110: using guessed type int (__cdecl *off_44A110[3])(TDialog *);
// 44E09C: using guessed type int (__cdecl *off_44E09C)(TDialog *, int);
// 44E0E0: using guessed type _UNKNOWN *off_44E0E0;
// 44E0EC: using guessed type int (__cdecl *off_44E0EC)(int);
// 44E0F8: using guessed type int (__cdecl *off_44E0F8[3])(TDialog *);

//----- (00438675) --------------------------------------------------------
bool sub_438675()
{
  _BOOL1 v0; // bl
  BYTE Data[256]; // [esp+Ch] [ebp-148h] BYREF
  DWORD Type; // [esp+10Ch] [ebp-48h] BYREF
  DWORD cbData; // [esp+110h] [ebp-44h] BYREF
  __int16 v5; // [esp+124h] [ebp-30h]
  int v6; // [esp+130h] [ebp-24h]
  _BYTE v7[4]; // [esp+138h] [ebp-1Ch] BYREF
  int v8; // [esp+13Ch] [ebp-18h] BYREF
  HKEY hKey[5]; // [esp+140h] [ebp-14h] BYREF

  __InitExceptBlockLDTC();
  v5 = 8;
  sub_401F16(hKey, HKEY_LOCAL_MACHINE, *(char **)(dword_44EC99 + 2), 0x20019u, 1);
  ++v6;
  string::string((string *)&v8);
  ++v6;
  v5 = 20;
  cbData = 256;
  Type = 1;
  Data[0] = 0;
  RegQueryValueExA(hKey[0], ValueName, 0, &Type, Data, &cbData);
  v5 = 44;
  string::string((string *)v7, (const char *)Data);
  ++v6;
  string::assign((string *)&v8, (const string *)v7, 0, 0xFFFFFFFF);
  --v6;
  string::~string((string *)v7);
  v0 = GetDriveTypeA(*(LPCSTR *)(v8 + 2)) != 5;
  GetVolumeInformationA(*(LPCSTR *)(v8 + 2), (LPSTR)Data, 0x100u, 0, 0, 0, 0, 0);
  if ( lstrcmpiA((LPCSTR)Data, *(LPCSTR *)(dword_44EC95 + 2)) )
    v0 = 1;
  --v6;
  string::~string((string *)&v8);
  --v6;
  sub_402126(hKey, 2);
  return !v0;
}
// 44EC95: using guessed type int dword_44EC95;
// 44EC99: using guessed type int dword_44EC99;

//----- (0043883B) --------------------------------------------------------
int sub_43883B()
{
  int result; // eax
  WPARAM v1; // ebx
  UINT v2; // esi
  _DWORD v3[4]; // [esp+8h] [ebp-2Ch] BYREF
  __int16 v4; // [esp+18h] [ebp-1Ch]
  int v5; // [esp+24h] [ebp-10h]
  _BYTE v6[4]; // [esp+2Ch] [ebp-8h] BYREF
  _BYTE v7[4]; // [esp+30h] [ebp-4h] BYREF

  result = __InitExceptBlockLDTC();
  if ( dword_44A9F0 )
  {
    v1 = dword_4437A0 == 0;
    v2 = dword_446A9C;
    if ( !*((_DWORD *)dword_44A9F0 + 3) )
    {
      xerror::MakeString((xerror *)v7, aPrecondition_137, aGethandle_62, aCBc5IncludeOwl_67, 0x53Cu);
      ++v5;
      xmsg::xmsg((xmsg *)v6, (const string *)v7);
      ++v5;
      v4 = 12;
      --v5;
      string::~string((string *)v7);
      v5 += 2;
      v5 += 3;
      _ThrowExceptionLDTC(stru_403B88, v6, 0, sub_403BE0, 1u, 0, 0, 0, v3);
    }
    return PostMessageA(*((HWND *)dword_44A9F0 + 3), v2, v1, 0);
  }
  return result;
}
// 403B88: using guessed type _tpidc stru_403B88[1];
// 4437A0: using guessed type int dword_4437A0;

//----- (0043891A) --------------------------------------------------------
int sub_43891A()
{
  int v1; // [esp-4h] [ebp-E8h]
  int v2; // [esp+0h] [ebp-E4h]
  _BYTE v3[86]; // [esp+30h] [ebp-B4h] BYREF
  int v4; // [esp+86h] [ebp-5Eh]

  __InitExceptBlockLDTC();
  string::set_case_sensitive(0, v2);
  sub_437BA4((int)v3, 0);
  if ( sub_437F61((int)v3) )
  {
    dword_446A8C = InitVNCommandMessage();
    dword_446A90 = RegisterWindowMessageA(String);
    dword_446A98 = RegisterWindowMessageA(aWmScroll_0);
    Msg = RegisterWindowMessageA(aWmZoom_0);
    dword_446A9C = RegisterWindowMessageA(aWmFullscreen_0);
    v1 = (*(int (__cdecl **)(_BYTE *))(v4 + 8))(v3);
    sub_437DFD((TApplication *)v3, 2);
    return v1;
  }
  else
  {
    sub_437DFD((TApplication *)v3, 2);
    return 0;
  }
}
// 438932: variable 'v2' is possibly undefined
// 4398CA: using guessed type int InitVNCommandMessage(void);
// 446A90: using guessed type int dword_446A90;

//----- (00438B9B) --------------------------------------------------------
void __cdecl sub_438B9B(TDialog *a1, char a2)
{
  __InitExceptBlockLDTC();
  if ( a1 )
  {
    TDialog::~TDialog(a1);
    if ( (a2 & 2) != 0 )
    {
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) += 150;
      TWindow::~TWindow((TDialog *)((char *)a1 + 41));
      *(_DWORD *)(*((_DWORD *)a1 + 1) - 4) -= 150;
      TStreamableBase::~TStreamableBase((TDialog *)((char *)a1 + 33));
    }
    if ( (a2 & 1) != 0 )
      operator delete(a1);
  }
}

//----- (00438C30) --------------------------------------------------------
int __cdecl sub_438C30(int a1)
{
  return TDialog::Find(*(_DWORD *)(a1 - 4) + a1 - 41);
}
// 43956A: using guessed type int __cdecl TDialog::Find(_DWORD);

//----- (00438C43) --------------------------------------------------------
void __cdecl sub_438C43(TDialog *a1)
{
  sub_4374C3((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (00438C56) --------------------------------------------------------
int __cdecl sub_438C56(TDialog *a1)
{
  return TDialog::GetClassNameA((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (00438C69) --------------------------------------------------------
int __cdecl sub_438C69(TDialog *a1, tagWNDCLASSA *a2)
{
  return TDialog::GetWindowClass((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (00438C7C) --------------------------------------------------------
int __cdecl sub_438C7C(TDialog *a1, int a2)
{
  return TDialog::IdleAction((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (00438C8F) --------------------------------------------------------
int __cdecl sub_438C8F(TDialog *a1, tagMSG *a2)
{
  return TDialog::PreProcessMsg((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (00438CA2) --------------------------------------------------------
int __cdecl sub_438CA2(TDialog *a1, int a2)
{
  return TDialog::CloseWindow((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (00438CB5) --------------------------------------------------------
int __cdecl sub_438CB5(TDialog *a1)
{
  return TDialog::DoExecute((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (00438CC8) --------------------------------------------------------
int __cdecl sub_438CC8(TDialog *a1)
{
  return TDialog::Execute((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (00438CDB) --------------------------------------------------------
int __cdecl sub_438CDB(TDialog *a1, int a2)
{
  return TDialog::Destroy((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (00438CEE) --------------------------------------------------------
int __cdecl sub_438CEE(TDialog *a1)
{
  return TDialog::Create((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41));
}

//----- (00438D01) --------------------------------------------------------
void __cdecl sub_438D01(TDialog *a1, char a2)
{
  sub_438B9B((TDialog *)((char *)a1 + *((_DWORD *)a1 - 1) - 41), a2);
}

//----- (00438D14) --------------------------------------------------------
void __cdecl sub_438D14(int a1, char a2)
{
  sub_438B9B((TDialog *)(a1 - 33), a2);
}

//----- (00438D46) --------------------------------------------------------
int __cdecl sub_438D46(int a1, int a2)
{
  return TApplication::TermInstance((TApplication *)(a1 - 25), a2);
}

//----- (00438D50) --------------------------------------------------------
void __cdecl sub_438D50(int a1)
{
  sub_43803E((TApplication *)(a1 - 25));
}

//----- (00438D5A) --------------------------------------------------------
int __cdecl sub_438D5A(int a1, tagMSG *a2)
{
  return TApplication::ProcessMsg((TApplication *)(a1 - 25), a2);
}

//----- (00438D64) --------------------------------------------------------
int __cdecl sub_438D64(int a1, int a2)
{
  return TApplication::IdleAction((TApplication *)(a1 - 25), a2);
}

//----- (00438D6E) --------------------------------------------------------
int __cdecl sub_438D6E(int a1)
{
  return TApplication::MessageLoop((TApplication *)(a1 - 25));
}

//----- (00438D78) --------------------------------------------------------
int __cdecl sub_438D78(int a1)
{
  return TApplication::Run((TApplication *)(a1 - 25));
}

//----- (00438D82) --------------------------------------------------------
void __cdecl sub_438D82(int a1, char a2)
{
  sub_437DFD((TApplication *)(a1 - 25), a2);
}

//----- (00438D8C) --------------------------------------------------------
void __cdecl sub_438D8C(int a1, char a2)
{
  sub_437DFD((TApplication *)(a1 - 4), a2);
}

// nfuncs=1395 queued=865 decompiled=865 lumina nreq=0 worse=0 better=0
// ALL OK, 865 function(s) have been successfully decompiled
